// This file was automatically generated by odin.
// Do not edit by hand as changes will be lost.
#include <R.h>
#include <Rmath.h>
#include <Rinternals.h>
#include <R_ext/Rdynload.h>
#include <stdbool.h>

// Collect together all the parameters and transient memory
// required to run the model in a struct.
typedef struct main_model_pars {
  int odin_use_dde;
  double prop_FSW_I0_1;
  double prop_FSW_I0_2;
  double prop_FSW_I0_3;
  double prop_FSW_I0_4;
  double prop_FSW_I0_5;
  double testpar;
  double replaceDeaths;
  int dim_pfFSW_t;
  double *pfFSW_t;
  int dim_pfFSW_y;
  int dim_pfFSW_y_1;
  int dim_pfFSW_y_2;
  double *pfFSW_y;
  double infected_FSW_incoming;
  double rate_leave_pro_FSW;
  double fraction_FSW_foreign;
  int dim_c_t_comm;
  double *c_t_comm;
  int dim_c_t_noncomm;
  double *c_t_noncomm;
  int dim_c_y_comm;
  int dim_c_y_comm_1;
  int dim_c_y_comm_2;
  double *c_y_comm;
  int dim_c_y_noncomm;
  int dim_c_y_noncomm_1;
  int dim_c_y_noncomm_2;
  double *c_y_noncomm;
  double who_believe_comm;
  int dim_ART_eligible_CD4_above_500_t;
  double *ART_eligible_CD4_above_500_t;
  int dim_ART_eligible_CD4_350_500_t;
  double *ART_eligible_CD4_350_500_t;
  int dim_ART_eligible_CD4_200_349_t;
  double *ART_eligible_CD4_200_349_t;
  int dim_ART_eligible_CD4_below_200_t;
  double *ART_eligible_CD4_below_200_t;
  int dim_ART_eligible_CD4_above_500_y;
  double *ART_eligible_CD4_above_500_y;
  int dim_ART_eligible_CD4_350_500_y;
  double *ART_eligible_CD4_350_500_y;
  int dim_ART_eligible_CD4_200_349_y;
  double *ART_eligible_CD4_200_349_y;
  int dim_ART_eligible_CD4_below_200_y;
  double *ART_eligible_CD4_below_200_y;
  int dim_infect_ART_y;
  int dim_infect_ART_y_1;
  int dim_infect_ART_y_2;
  double *infect_ART_y;
  int offset_output_infect_ART_y;
  int dim_infect_ART_t;
  double *infect_ART_t;
  int offset_output_infect_ART_t;
  int dim_testing_prob_t;
  double *testing_prob_t;
  int dim_testing_prob_y;
  int dim_testing_prob_y_1;
  int dim_testing_prob_y_2;
  double *testing_prob_y;
  double TasP_testing;
  int dim_tau_intervention_t;
  double *tau_intervention_t;
  int dim_tau_intervention_y;
  int dim_tau_intervention_y_1;
  int dim_tau_intervention_y_2;
  double *tau_intervention_y;
  int dim_rho_intervention_t;
  double *rho_intervention_t;
  int dim_rho_intervention_y;
  int dim_rho_intervention_y_1;
  int dim_rho_intervention_y_2;
  double *rho_intervention_y;
  double PrEPOnOff;
  double fPa;
  double fPb;
  double fPc;
  int dim_prep_efficacious_t;
  double *prep_efficacious_t;
  int dim_prep_efficacious_y;
  double *prep_efficacious_y;
  double RR_test_CD4200;
  int dim_viral_supp_y;
  int dim_viral_supp_y_1;
  int dim_viral_supp_y_2;
  double *viral_supp_y;
  int offset_output_viral_supp_y;
  int dim_viral_supp_t;
  double *viral_supp_t;
  int offset_output_viral_supp_t;
  double W0;
  double W1;
  double W2;
  double W3;
  double cost_Initiation_of_ART_study_FSW;
  double cost_Initiation_of_ART_government_FSW;
  double cost_1_year_of_ART_study_FSW;
  double cost_1_year_of_ART_government_FSW;
  double cost_Initiation_ART_rest_of_population;
  double cost_1_year_of_ART_rest_of_population;
  double cost_FSW_initiation_ART_Patient_costs;
  double cost_FSW_1_year_ART_Patient_costs;
  double cost_Initiation_of_PrEP_study;
  double cost_1_year_PrEP_perfect_adherence_study;
  double cost_1_year_PrEP_intermediate_adherence_study;
  double cost_1_year_PrEP_non_adherence_study;
  double cost_Initiation_of_PrEP_government;
  double cost_1_year_PrEP_perfect_adherence_government;
  double cost_1_year_PrEP_intermediate_adherence_government;
  double cost_1_year_PrEP_non_adherence_government;
  double cost_PREP_initiation_Patient_costs;
  double cost_PREP_1_year_ART_Patient_costs;
  int Ncat;
  double Nage;
  double infect_acute;
  double infect_AIDS;
  double nu;
  double R;
  int dim_epsilon_t;
  double *epsilon_t;
  int dim_epsilon_y;
  double *epsilon_y;
  int dim_fc_t_comm;
  double *fc_t_comm;
  int dim_fc_y_comm;
  int dim_fc_y_comm_1;
  int dim_fc_y_comm_2;
  int dim_fc_y_comm_3;
  int dim_fc_y_comm_12;
  double *fc_y_comm;
  int dim_fP_t_comm;
  double *fP_t_comm;
  int dim_fP_y_comm;
  int dim_fP_y_comm_1;
  int dim_fP_y_comm_2;
  double *fP_y_comm;
  int dim_fc_t_noncomm;
  double *fc_t_noncomm;
  int dim_fc_y_noncomm;
  int dim_fc_y_noncomm_1;
  int dim_fc_y_noncomm_2;
  int dim_fc_y_noncomm_3;
  int dim_fc_y_noncomm_12;
  double *fc_y_noncomm;
  int dim_fP_t_noncomm;
  double *fP_t_noncomm;
  int dim_fP_y_noncomm;
  int dim_fP_y_noncomm_1;
  int dim_fP_y_noncomm_2;
  double *fP_y_noncomm;
  int dim_n_t_comm;
  double *n_t_comm;
  int dim_n_y_comm;
  int dim_n_y_comm_1;
  int dim_n_y_comm_2;
  int dim_n_y_comm_3;
  int dim_n_y_comm_12;
  double *n_y_comm;
  int dim_n_t_noncomm;
  double *n_t_noncomm;
  int dim_n_y_noncomm;
  int dim_n_y_noncomm_1;
  int dim_n_y_noncomm_2;
  int dim_n_y_noncomm_3;
  int dim_n_y_noncomm_12;
  double *n_y_noncomm;
  double dur_FSW;
  int dim_prep_intervention_t;
  double *prep_intervention_t;
  int dim_prep_intervention_y;
  int dim_prep_intervention_y_1;
  int dim_prep_intervention_y_2;
  double *prep_intervention_y;
  int dim_gamma32_without_supp;
  double *gamma32_without_supp;
  int offset_output_gamma32_without_supp;
  int dim_gamma33_without_supp;
  double *gamma33_without_supp;
  int offset_output_gamma33_without_supp;
  int dim_gamma34_without_supp;
  double *gamma34_without_supp;
  int offset_output_gamma34_without_supp;
  int dim_alpha33_without_supp;
  double *alpha33_without_supp;
  int offset_output_alpha33_without_supp;
  int dim_alpha34_without_supp;
  double *alpha34_without_supp;
  int offset_output_alpha34_without_supp;
  int dim_alpha35_without_supp;
  double *alpha35_without_supp;
  int offset_output_alpha35_without_supp;
  int dim_c_comm;
  double *c_comm;
  int offset_output_c_comm;
  int dim_c_noncomm;
  double *c_noncomm;
  int offset_output_c_noncomm;
  int dim_pfFSW;
  double *pfFSW;
  int offset_output_pfFSW;
  int dim_new_acute_infected;
  double *new_acute_infected;
  int offset_output_new_acute_infected;
  int dim_FSW_ONLY;
  double *FSW_ONLY;
  int dim_new_people_in_group;
  double *new_people_in_group;
  int offset_output_new_people_in_group;
  int dim_new_people_in_group_FSW_only;
  double *new_people_in_group_FSW_only;
  int offset_output_new_people_in_group_FSW_only;
  int dim_comm_partnerships_requested;
  int dim_comm_partnerships_requested_1;
  int dim_comm_partnerships_requested_2;
  double *comm_partnerships_requested;
  int dim_noncomm_partnerships_requested;
  int dim_noncomm_partnerships_requested_1;
  int dim_noncomm_partnerships_requested_2;
  double *noncomm_partnerships_requested;
  int dim_above_500_by_group;
  double *above_500_by_group;
  int offset_output_above_500_by_group;
  int dim_testing_prob;
  double *testing_prob;
  int offset_output_testing_prob;
  int dim_tau_intervention;
  double *tau_intervention;
  int offset_output_tau_intervention;
  int dim_rho_intervention;
  double *rho_intervention;
  int offset_output_rho_intervention;
  int dim_zeta;
  double *zeta;
  int offset_output_zeta;
  int dim_sigma;
  double *sigma;
  int dim_eP1a_effective;
  double *eP1a_effective;
  int offset_output_eP1a_effective;
  int dim_eP1b_effective;
  double *eP1b_effective;
  int offset_output_eP1b_effective;
  int dim_eP1c_effective;
  double *eP1c_effective;
  int offset_output_eP1c_effective;
  int dim_tau;
  double *tau;
  int offset_output_tau;
  int dim_test_rate_prep;
  double *test_rate_prep;
  int dim_rho;
  double *rho;
  int offset_output_rho;
  int dim_iota;
  double *iota;
  int offset_output_iota;
  int dim_viral_supp;
  double *viral_supp;
  int offset_output_viral_supp;
  int dim_HIV_positive;
  double *HIV_positive;
  int offset_output_HIV_positive;
  int dim_Number_Susceptibles;
  double *Number_Susceptibles;
  int offset_output_Number_Susceptibles;
  int dim_HIV_positive_Diagnosed_Off_ART;
  double *HIV_positive_Diagnosed_Off_ART;
  int offset_output_HIV_positive_Diagnosed_Off_ART;
  int dim_Primary_Off_ART;
  double *Primary_Off_ART;
  int offset_output_Primary_Off_ART;
  int dim_CD4_above_500_Off_ART;
  double *CD4_above_500_Off_ART;
  int offset_output_CD4_above_500_Off_ART;
  int dim_CD4_350_500_Off_ART;
  double *CD4_350_500_Off_ART;
  int offset_output_CD4_350_500_Off_ART;
  int dim_CD4_200_350_Off_ART;
  double *CD4_200_350_Off_ART;
  int offset_output_CD4_200_350_Off_ART;
  int dim_CD4_below_200_Off_ART;
  double *CD4_below_200_Off_ART;
  int offset_output_CD4_below_200_Off_ART;
  int dim_HIV_positive_On_ART;
  double *HIV_positive_On_ART;
  int offset_output_HIV_positive_On_ART;
  int dim_Number_DALY_W1;
  double *Number_DALY_W1;
  int offset_output_Number_DALY_W1;
  int dim_Number_DALY_W2;
  double *Number_DALY_W2;
  int offset_output_Number_DALY_W2;
  int dim_Number_DALY_W3;
  double *Number_DALY_W3;
  int offset_output_Number_DALY_W3;
  int dim_cumuDeaths_On_ART;
  double *initial_cumuDeaths_On_ART;
  int offset_cumuDeaths_On_ART;
  int dim_cumuARTinitiations_not_TasP;
  double *initial_cumuARTinitiations_not_TasP;
  int offset_cumuARTinitiations_not_TasP;
  int dim_cumu_PrEP_dropouts;
  double *initial_cumu_PrEP_dropouts;
  int offset_cumu_PrEP_dropouts;
  int dim_S0_infections;
  double *initial_S0_infections;
  int offset_S0_infections;
  int dim_S1a_infections;
  double *initial_S1a_infections;
  int offset_S1a_infections;
  int dim_S1b_infections;
  double *initial_S1b_infections;
  int offset_S1b_infections;
  int dim_S1c_infections;
  double *initial_S1c_infections;
  int offset_S1c_infections;
  int dim_S1d_infections;
  double *initial_S1d_infections;
  int offset_S1d_infections;
  int dim_frac_F;
  double *frac_F;
  int offset_output_frac_F;
  int dim_frac_N_sexualpop;
  double *frac_N_sexualpop;
  int offset_output_frac_N_sexualpop;
  int dim_ART_coverage;
  double *ART_coverage;
  int offset_output_ART_coverage;
  int dim_infect_ART;
  double *infect_ART;
  int offset_output_infect_ART;
  int dim_prep_offered;
  double *prep_offered;
  int offset_output_prep_offered;
  int dim_omega;
  double *omega;
  int offset_output_omega;
  int dim_frac_N;
  double *frac_N;
  int offset_output_frac_N;
  int dim_mu;
  double *mu;
  int offset_output_mu;
  int dim_gamma01;
  double *gamma01;
  int offset_output_gamma01;
  int dim_gamma02;
  double *gamma02;
  int dim_gamma03;
  double *gamma03;
  int dim_gamma04;
  double *gamma04;
  int dim_gamma11;
  double *gamma11;
  int offset_output_gamma11;
  int dim_gamma22;
  double *gamma22;
  int dim_gamma23;
  double *gamma23;
  int dim_gamma24;
  double *gamma24;
  int dim_gamma32;
  double *gamma32;
  int offset_output_gamma32;
  int dim_gamma33;
  double *gamma33;
  int offset_output_gamma33;
  int dim_gamma34;
  double *gamma34;
  int offset_output_gamma34;
  int dim_gamma42;
  double *gamma42;
  int dim_gamma43;
  double *gamma43;
  int dim_gamma44;
  double *gamma44;
  int dim_phi2;
  double *phi2;
  int dim_phi3;
  double *phi3;
  int dim_phi4;
  double *phi4;
  int dim_phi5;
  double *phi5;
  int dim_psia;
  double *psia;
  int dim_psib;
  double *psib;
  int dim_kappaa;
  double *kappaa;
  int offset_output_kappaa;
  int dim_kappab;
  double *kappab;
  int offset_output_kappab;
  int dim_kappac;
  double *kappac;
  int offset_output_kappac;
  int dim_kappa1;
  double *kappa1;
  int offset_output_kappa1;
  int dim_alpha01;
  double *alpha01;
  int offset_output_alpha01;
  int dim_alpha02;
  double *alpha02;
  int offset_output_alpha02;
  int dim_alpha03;
  double *alpha03;
  int dim_alpha04;
  double *alpha04;
  int dim_alpha05;
  double *alpha05;
  int offset_output_alpha05;
  int dim_alpha11;
  double *alpha11;
  int offset_output_alpha11;
  int dim_alpha22;
  double *alpha22;
  int offset_output_alpha22;
  int dim_alpha23;
  double *alpha23;
  int dim_alpha24;
  double *alpha24;
  int dim_alpha25;
  double *alpha25;
  int dim_alpha32;
  double *alpha32;
  int dim_alpha33;
  double *alpha33;
  int offset_output_alpha33;
  int dim_alpha34;
  double *alpha34;
  int offset_output_alpha34;
  int dim_alpha35;
  double *alpha35;
  int offset_output_alpha35;
  int dim_alpha42;
  double *alpha42;
  int dim_alpha43;
  double *alpha43;
  int dim_alpha44;
  double *alpha44;
  int dim_alpha45;
  double *alpha45;
  int dim_beta_comm;
  double *beta_comm;
  int offset_output_beta_comm;
  int dim_beta_noncomm;
  double *beta_noncomm;
  int offset_output_beta_noncomm;
  int dim_p_comm;
  int dim_p_comm_1;
  int dim_p_comm_2;
  double *p_comm;
  int offset_output_p_comm;
  int dim_p_noncomm;
  int dim_p_noncomm_1;
  int dim_p_noncomm_2;
  double *p_noncomm;
  int offset_output_p_noncomm;
  int dim_ec;
  double *ec;
  int dim_eP;
  double *eP;
  int dim_eP0;
  double *eP0;
  int offset_output_eP0;
  int dim_eP1a;
  double *eP1a;
  int offset_output_eP1a;
  int dim_eP1b;
  double *eP1b;
  int offset_output_eP1b;
  int dim_eP1c;
  double *eP1c;
  int offset_output_eP1c;
  int dim_eP1d;
  double *eP1d;
  int offset_output_eP1d;
  int dim_fc_comm;
  int dim_fc_comm_1;
  int dim_fc_comm_2;
  double *fc_comm;
  int offset_output_fc_comm;
  int dim_fP_comm;
  double *fP_comm;
  int offset_output_fP_comm;
  int dim_fc_noncomm;
  int dim_fc_noncomm_1;
  int dim_fc_noncomm_2;
  double *fc_noncomm;
  int offset_output_fc_noncomm;
  int dim_fP_noncomm;
  double *fP_noncomm;
  int offset_output_fP_noncomm;
  int dim_n_comm;
  int dim_n_comm_1;
  int dim_n_comm_2;
  double *n_comm;
  int offset_output_n_comm;
  int dim_n_noncomm;
  int dim_n_noncomm_1;
  int dim_n_noncomm_2;
  double *n_noncomm;
  int offset_output_n_noncomm;
  int dim_cumuHIVDeaths;
  double *initial_cumuHIVDeaths;
  int offset_cumuHIVDeaths;
  int dim_cumuARTinitiations;
  double *initial_cumuARTinitiations;
  int offset_cumuARTinitiations;
  int dim_TasPinitiations;
  double *initial_TasPinitiations;
  int offset_TasPinitiations;
  int dim_cumuARTREinitiations;
  double *initial_cumuARTREinitiations;
  int offset_cumuARTREinitiations;
  int dim_dropouts;
  double *initial_dropouts;
  int offset_dropouts;
  int dim_cumuAllDeaths;
  double *initial_cumuAllDeaths;
  int offset_cumuAllDeaths;
  int dim_cumuInf;
  double *initial_cumuInf;
  int offset_cumuInf;
  int dim_PrEPinitiations;
  double *initial_PrEPinitiations;
  int offset_PrEPinitiations;
  int dim_PrEPinitiations1a;
  double *initial_PrEPinitiations1a;
  int offset_PrEPinitiations1a;
  int dim_PrEPinitiations1b;
  double *initial_PrEPinitiations1b;
  int offset_PrEPinitiations1b;
  int dim_PrEPinitiations1c;
  double *initial_PrEPinitiations1c;
  int offset_PrEPinitiations1c;
  int dim_S0;
  double *initial_S0;
  int offset_S0;
  int dim_S1a;
  double *initial_S1a;
  int offset_S1a;
  int dim_S1b;
  double *initial_S1b;
  int offset_S1b;
  int dim_S1c;
  double *initial_S1c;
  int offset_S1c;
  int dim_S1d;
  double *initial_S1d;
  int offset_S1d;
  int dim_I01;
  double *initial_I01;
  int offset_I01;
  int dim_I11;
  double *initial_I11;
  int offset_I11;
  int dim_I02;
  double *initial_I02;
  int offset_I02;
  int dim_I03;
  double *initial_I03;
  int offset_I03;
  int dim_I04;
  double *initial_I04;
  int offset_I04;
  int dim_I05;
  double *initial_I05;
  int offset_I05;
  int dim_I22;
  double *initial_I22;
  int offset_I22;
  int dim_I23;
  double *initial_I23;
  int offset_I23;
  int dim_I24;
  double *initial_I24;
  int offset_I24;
  int dim_I25;
  double *initial_I25;
  int offset_I25;
  int dim_I32;
  double *initial_I32;
  int offset_I32;
  int dim_I33;
  double *initial_I33;
  int offset_I33;
  int dim_I34;
  double *initial_I34;
  int offset_I34;
  int dim_I35;
  double *initial_I35;
  int offset_I35;
  int dim_I42;
  double *initial_I42;
  int offset_I42;
  int dim_I43;
  double *initial_I43;
  int offset_I43;
  int dim_I44;
  double *initial_I44;
  int offset_I44;
  int dim_I45;
  double *initial_I45;
  int offset_I45;
  int dim_S0_init;
  double *S0_init;
  int dim_S1a_init;
  double *S1a_init;
  int dim_S1b_init;
  double *S1b_init;
  int dim_S1c_init;
  double *S1c_init;
  int dim_S1d_init;
  double *S1d_init;
  int dim_I01_init;
  double *I01_init;
  int dim_I11_init;
  double *I11_init;
  int dim_I02_init;
  double *I02_init;
  int dim_I03_init;
  double *I03_init;
  int dim_I04_init;
  double *I04_init;
  int dim_I05_init;
  double *I05_init;
  int dim_I22_init;
  double *I22_init;
  int dim_I23_init;
  double *I23_init;
  int dim_I24_init;
  double *I24_init;
  int dim_I25_init;
  double *I25_init;
  int dim_I32_init;
  double *I32_init;
  int dim_I33_init;
  double *I33_init;
  int dim_I34_init;
  double *I34_init;
  int dim_I35_init;
  double *I35_init;
  int dim_I42_init;
  double *I42_init;
  int dim_I43_init;
  double *I43_init;
  int dim_I44_init;
  double *I44_init;
  int dim_I45_init;
  double *I45_init;
  int dim_N;
  double *N;
  int offset_output_N;
  int dim_E0;
  double *E0;
  int offset_output_E0;
  int dim_E1a;
  double *E1a;
  int offset_output_E1a;
  int dim_E1b;
  double *E1b;
  int offset_output_E1b;
  int dim_E1c;
  double *E1c;
  int offset_output_E1c;
  int dim_E1d;
  double *E1d;
  int offset_output_E1d;
  int dim_cumuInf_init;
  double *cumuInf_init;
  int dim_alphaItot;
  double *alphaItot;
  int offset_output_alphaItot;
  int dim_prev;
  double *prev;
  int offset_output_prev;
  int dim_lambda;
  int dim_lambda_1;
  int dim_lambda_2;
  double *lambda;
  int offset_output_lambda;
  int dim_lambda_0;
  int dim_lambda_0_1;
  int dim_lambda_0_2;
  double *lambda_0;
  int offset_output_lambda_0;
  int dim_lambda_1a;
  int dim_lambda_1a_1;
  int dim_lambda_1a_2;
  double *lambda_1a;
  int offset_output_lambda_1a;
  int dim_lambda_1b;
  int dim_lambda_1b_1;
  int dim_lambda_1b_2;
  double *lambda_1b;
  int offset_output_lambda_1b;
  int dim_lambda_1c;
  int dim_lambda_1c_1;
  int dim_lambda_1c_2;
  double *lambda_1c;
  int offset_output_lambda_1c;
  int dim_lambda_1d;
  int dim_lambda_1d_1;
  int dim_lambda_1d_2;
  double *lambda_1d;
  int offset_output_lambda_1d;
  int dim_lambda_sum_0;
  double *lambda_sum_0;
  int offset_output_lambda_sum_0;
  int dim_lambda_sum_1a;
  double *lambda_sum_1a;
  int offset_output_lambda_sum_1a;
  int dim_lambda_sum_1b;
  double *lambda_sum_1b;
  int offset_output_lambda_sum_1b;
  int dim_lambda_sum_1c;
  double *lambda_sum_1c;
  int offset_output_lambda_sum_1c;
  int dim_lambda_sum_1d;
  double *lambda_sum_1d;
  int offset_output_lambda_sum_1d;
  int dim_c_comm_balanced;
  double *c_comm_balanced;
  int offset_output_c_comm_balanced;
  int dim_c_noncomm_balanced;
  double *c_noncomm_balanced;
  int offset_output_c_noncomm_balanced;
  int dim_theta;
  int dim_theta_1;
  int dim_theta_2;
  double *theta;
  int offset_output_theta;
  int dim_PrEPinitiations_init;
  double *PrEPinitiations_init;
  int dim_M_comm;
  int dim_M_comm_1;
  int dim_M_comm_2;
  double *M_comm;
  int offset_output_M_comm;
  int dim_M_noncomm;
  int dim_M_noncomm_1;
  int dim_M_noncomm_2;
  double *M_noncomm;
  int offset_output_M_noncomm;
  int dim_in_S0;
  int dim_in_S0_1;
  int dim_in_S0_2;
  double *in_S0;
  int dim_in_S1a;
  int dim_in_S1a_1;
  int dim_in_S1a_2;
  double *in_S1a;
  int dim_in_S1b;
  int dim_in_S1b_1;
  int dim_in_S1b_2;
  double *in_S1b;
  int dim_in_S1c;
  int dim_in_S1c_1;
  int dim_in_S1c_2;
  double *in_S1c;
  int dim_in_S1d;
  int dim_in_S1d_1;
  int dim_in_S1d_2;
  double *in_S1d;
  int dim_in_I01;
  int dim_in_I01_1;
  int dim_in_I01_2;
  double *in_I01;
  int dim_in_I11;
  int dim_in_I11_1;
  int dim_in_I11_2;
  double *in_I11;
  int dim_in_I02;
  int dim_in_I02_1;
  int dim_in_I02_2;
  double *in_I02;
  int dim_in_I03;
  int dim_in_I03_1;
  int dim_in_I03_2;
  double *in_I03;
  int dim_in_I04;
  int dim_in_I04_1;
  int dim_in_I04_2;
  double *in_I04;
  int dim_in_I05;
  int dim_in_I05_1;
  int dim_in_I05_2;
  double *in_I05;
  int dim_in_I22;
  int dim_in_I22_1;
  int dim_in_I22_2;
  double *in_I22;
  int dim_in_I23;
  int dim_in_I23_1;
  int dim_in_I23_2;
  double *in_I23;
  int dim_in_I24;
  int dim_in_I24_1;
  int dim_in_I24_2;
  double *in_I24;
  int dim_in_I25;
  int dim_in_I25_1;
  int dim_in_I25_2;
  double *in_I25;
  int dim_in_I32;
  int dim_in_I32_1;
  int dim_in_I32_2;
  double *in_I32;
  int dim_in_I33;
  int dim_in_I33_1;
  int dim_in_I33_2;
  double *in_I33;
  int dim_in_I34;
  int dim_in_I34_1;
  int dim_in_I34_2;
  double *in_I34;
  int dim_in_I35;
  int dim_in_I35_1;
  int dim_in_I35_2;
  double *in_I35;
  int dim_in_I42;
  int dim_in_I42_1;
  int dim_in_I42_2;
  double *in_I42;
  int dim_in_I43;
  int dim_in_I43_1;
  int dim_in_I43_2;
  double *in_I43;
  int dim_in_I44;
  int dim_in_I44_1;
  int dim_in_I44_2;
  double *in_I44;
  int dim_in_I45;
  int dim_in_I45_1;
  int dim_in_I45_2;
  double *in_I45;
  int dim_rate_move_in;
  int dim_rate_move_in_1;
  int dim_rate_move_in_2;
  double *rate_move_in;
  int offset_output_rate_move_in;
  int dim_rate_move_out;
  double *rate_move_out;
  int offset_output_rate_move_out;
  int dim_rate_move_out_PrEP;
  double *rate_move_out_PrEP;
  int offset_output_rate_move_out_PrEP;
  void *interpolate_pfFSW;
  void *interpolate_c_comm;
  void *interpolate_c_noncomm;
  void *interpolate_ART_eligible_CD4_above_500;
  void *interpolate_ART_eligible_CD4_350_500;
  void *interpolate_ART_eligible_CD4_200_349;
  void *interpolate_ART_eligible_CD4_below_200;
  void *interpolate_testing_prob;
  void *interpolate_tau_intervention;
  void *interpolate_rho_intervention;
  void *interpolate_prep_efficacious;
  void *interpolate_viral_supp;
  void *interpolate_infect_ART;
  void *interpolate_epsilon;
  void *interpolate_prep_offered;
  void *interpolate_fc_comm;
  void *interpolate_fP_comm;
  void *interpolate_fc_noncomm;
  void *interpolate_fP_noncomm;
  void *interpolate_n_comm;
  void *interpolate_n_noncomm;
  int dim;
  int dim_output;
} main_model_pars;
main_model_pars* main_model_get_pointer(SEXP main_model_ptr, int closed_error);
SEXP main_model_set_user(main_model_pars *main_model_p, SEXP user);

SEXP get_ds_pars();
double get_user_double(SEXP user, const char *name, double default_value);
double* get_user_array_dim(SEXP user, const char *name, bool is_real, int nd, int *dest_dim);
SEXP get_user_array_check_rank(SEXP user, const char *name, int nd);
void get_user_array_copy(SEXP el, const char *name, bool is_real, void *dest);
void odin_set_dim(SEXP target, int nd, ...);
int get_user_int(SEXP user, const char *name, int default_value);
void get_user_array(SEXP user, const char *name, bool is_real, void *dest, int nd, ...);
SEXP get_list_element(SEXP list, const char *name);
void odin_interpolate_check(size_t nx, size_t ny, size_t i, const char *name_arg, const char *name_target);
double odin_sum1(double *x, int from_i, int to_i);
double odin_sum2(double *x, int from_i, int to_i, int from_j, int to_j, int dim_x_1);
#ifndef CINTERPOLTE_CINTERPOLATE_H_
#define CINTERPOLTE_CINTERPOLATE_H_
#include <stddef.h> // size_t
#include <stdbool.h> // bool

// Allow use from C++
#ifdef __cplusplus
extern "C" {
#endif

// There are only three functions in the interface; allocation,
// evaluation and freeing.

// Allocate an interpolation object.
//
//   type: The mode of interpolation. Must be one of "constant",
//       "linear" or "spline" (an R error is thrown if a different
//       value is given).
//
//   n: The number of `x` points to interpolate over
//
//   ny: the number of `y` points per `x` point.  This is 1 in the
//       case of zimple interpolation as used by Rs `interpolate()`
//
//   x: an array of `x` values of length `n`
//
//   y: an array of `ny` sets of `y` values.  This is in R's matrix
//       order (i.e., the first `n` values are the first series to
//       interpolate over).
//
//   auto_free: automatically clean up the interpolation object on
//   return to R. This uses `R_alloc` for allocations rather than
//   `Calloc` so freeing will always happen (even on error elsewhere
//   in the code). However, this prevents returning back a pointer to
//   R that will last longer than the call into C code.
//
// The return value is an opaque pointer that can be passed through to
// `cinterpolate_eval` and `cinterpolate_free`
void *cinterpolate_alloc(const char *type, size_t n, size_t ny,
                         double *x, double *y, bool auto_free);

// Evaluate the interpolated function at a new `x` point.
//
//   x: A new, single, `x` point to interpolate `y` values to
//
//   obj: The interpolation object, as returned by `cinterpolate_alloc`
//
//   y: An array of length `ny` to store the interpolated values
int cinterpolate_eval(double x, void *obj, double *y);

// Clean up all allocated memory
//
//   obj: The interpolation object, as returned by `cinterpolate_alloc`
void cinterpolate_free(void *obj);

#ifdef __cplusplus
}
#endif

#endif
double FOI_part(double I, double N, double beta, double RR, double fc, double fP, double n, double eP, double ec);
double all_FOI_together(double c, double p, double S0, double S1a, double S1b, double S1c, double I01, double I11, double I02, double I03, double I04, double I05, double I22, double I23, double I24, double I25, double I32, double I33, double I34, double I35, double I42, double I43, double I44, double I45, double N, double beta, double R, double fc, double fP, double n, double eP, double ec, double infect_ART, double infect_acute, double infect_AIDS);
double compute_lambda(double c_comm, double p_comm, double S0, double S1a, double S1b, double S1c, double I01, double I11, double I02, double I03, double I04, double I05, double I22, double I23, double I24, double I25, double I32, double I33, double I34, double I35, double I42, double I43, double I44, double I45, double N, double beta_comm, double R, double fc_comm, double fP_comm, double n_comm, double eP, double ec, double fc_noncomm, double fP_noncomm, double n_noncomm, double c_noncomm, double p_noncomm, double infect_ART, double infect_acute, double infect_AIDS,  double beta_noncomm);

// Create the pointer; this will establish the struct, allocate
// memory for things that are constant size, and initialize
// constant variables
static void main_model_finalize(SEXP main_model_ptr);
SEXP main_model_create(SEXP user, SEXP odin_use_dde) {
  main_model_pars *main_model_p = (main_model_pars*) Calloc(1, main_model_pars);
  main_model_p->prop_FSW_I0_1 = 0.031904762000000003;
  main_model_p->prop_FSW_I0_2 = 0.23523809500000001;
  main_model_p->prop_FSW_I0_3 = 0.23523809500000001;
  main_model_p->prop_FSW_I0_4 = 0.319047619;
  main_model_p->prop_FSW_I0_5 = 0.178571429;
  main_model_p->testpar = 1;
  main_model_p->replaceDeaths = NA_REAL;
  main_model_p->pfFSW_t = NULL;
  main_model_p->pfFSW_y = NULL;
  main_model_p->infected_FSW_incoming = NA_REAL;
  main_model_p->rate_leave_pro_FSW = NA_REAL;
  main_model_p->fraction_FSW_foreign = NA_REAL;
  main_model_p->c_t_comm = NULL;
  main_model_p->c_t_noncomm = NULL;
  main_model_p->c_y_comm = NULL;
  main_model_p->c_y_noncomm = NULL;
  main_model_p->who_believe_comm = NA_REAL;
  main_model_p->ART_eligible_CD4_above_500_t = NULL;
  main_model_p->ART_eligible_CD4_350_500_t = NULL;
  main_model_p->ART_eligible_CD4_200_349_t = NULL;
  main_model_p->ART_eligible_CD4_below_200_t = NULL;
  main_model_p->ART_eligible_CD4_above_500_y = NULL;
  main_model_p->ART_eligible_CD4_350_500_y = NULL;
  main_model_p->ART_eligible_CD4_200_349_y = NULL;
  main_model_p->ART_eligible_CD4_below_200_y = NULL;
  main_model_p->infect_ART_y = NULL;
  main_model_p->infect_ART_t = NULL;
  main_model_p->testing_prob_t = NULL;
  main_model_p->testing_prob_y = NULL;
  main_model_p->TasP_testing = NA_REAL;
  main_model_p->tau_intervention_t = NULL;
  main_model_p->tau_intervention_y = NULL;
  main_model_p->rho_intervention_t = NULL;
  main_model_p->rho_intervention_y = NULL;
  main_model_p->PrEPOnOff = NA_REAL;
  main_model_p->fPa = NA_REAL;
  main_model_p->fPb = NA_REAL;
  main_model_p->fPc = NA_REAL;
  main_model_p->prep_efficacious_t = NULL;
  main_model_p->prep_efficacious_y = NULL;
  main_model_p->RR_test_CD4200 = NA_REAL;
  main_model_p->viral_supp_y = NULL;
  main_model_p->viral_supp_t = NULL;
  main_model_p->W0 = NA_REAL;
  main_model_p->W1 = NA_REAL;
  main_model_p->W2 = NA_REAL;
  main_model_p->W3 = NA_REAL;
  main_model_p->cost_Initiation_of_ART_study_FSW = NA_REAL;
  main_model_p->cost_Initiation_of_ART_government_FSW = NA_REAL;
  main_model_p->cost_1_year_of_ART_study_FSW = NA_REAL;
  main_model_p->cost_1_year_of_ART_government_FSW = NA_REAL;
  main_model_p->cost_Initiation_ART_rest_of_population = NA_REAL;
  main_model_p->cost_1_year_of_ART_rest_of_population = NA_REAL;
  main_model_p->cost_FSW_initiation_ART_Patient_costs = NA_REAL;
  main_model_p->cost_FSW_1_year_ART_Patient_costs = NA_REAL;
  main_model_p->cost_Initiation_of_PrEP_study = NA_REAL;
  main_model_p->cost_1_year_PrEP_perfect_adherence_study = NA_REAL;
  main_model_p->cost_1_year_PrEP_intermediate_adherence_study = NA_REAL;
  main_model_p->cost_1_year_PrEP_non_adherence_study = NA_REAL;
  main_model_p->cost_Initiation_of_PrEP_government = NA_REAL;
  main_model_p->cost_1_year_PrEP_perfect_adherence_government = NA_REAL;
  main_model_p->cost_1_year_PrEP_intermediate_adherence_government = NA_REAL;
  main_model_p->cost_1_year_PrEP_non_adherence_government = NA_REAL;
  main_model_p->cost_PREP_initiation_Patient_costs = NA_REAL;
  main_model_p->cost_PREP_1_year_ART_Patient_costs = NA_REAL;
  main_model_p->Ncat = NA_INTEGER;
  main_model_p->Nage = NA_REAL;
  main_model_p->infect_acute = NA_REAL;
  main_model_p->infect_AIDS = NA_REAL;
  main_model_p->nu = NA_REAL;
  main_model_p->R = NA_REAL;
  main_model_p->epsilon_t = NULL;
  main_model_p->epsilon_y = NULL;
  main_model_p->fc_t_comm = NULL;
  main_model_p->fc_y_comm = NULL;
  main_model_p->fP_t_comm = NULL;
  main_model_p->fP_y_comm = NULL;
  main_model_p->fc_t_noncomm = NULL;
  main_model_p->fc_y_noncomm = NULL;
  main_model_p->fP_t_noncomm = NULL;
  main_model_p->fP_y_noncomm = NULL;
  main_model_p->n_t_comm = NULL;
  main_model_p->n_y_comm = NULL;
  main_model_p->n_t_noncomm = NULL;
  main_model_p->n_y_noncomm = NULL;
  main_model_p->dur_FSW = NA_REAL;
  main_model_p->prep_intervention_t = NULL;
  main_model_p->prep_intervention_y = NULL;
  main_model_p->gamma32_without_supp = NULL;
  main_model_p->gamma33_without_supp = NULL;
  main_model_p->gamma34_without_supp = NULL;
  main_model_p->alpha33_without_supp = NULL;
  main_model_p->alpha34_without_supp = NULL;
  main_model_p->alpha35_without_supp = NULL;
  main_model_p->c_comm = NULL;
  main_model_p->c_noncomm = NULL;
  main_model_p->pfFSW = NULL;
  main_model_p->new_acute_infected = NULL;
  main_model_p->FSW_ONLY = NULL;
  main_model_p->new_people_in_group = NULL;
  main_model_p->new_people_in_group_FSW_only = NULL;
  main_model_p->comm_partnerships_requested = NULL;
  main_model_p->noncomm_partnerships_requested = NULL;
  main_model_p->above_500_by_group = NULL;
  main_model_p->testing_prob = NULL;
  main_model_p->tau_intervention = NULL;
  main_model_p->rho_intervention = NULL;
  main_model_p->zeta = NULL;
  main_model_p->sigma = NULL;
  main_model_p->eP1a_effective = NULL;
  main_model_p->eP1b_effective = NULL;
  main_model_p->eP1c_effective = NULL;
  main_model_p->tau = NULL;
  main_model_p->test_rate_prep = NULL;
  main_model_p->rho = NULL;
  main_model_p->iota = NULL;
  main_model_p->viral_supp = NULL;
  main_model_p->HIV_positive = NULL;
  main_model_p->Number_Susceptibles = NULL;
  main_model_p->HIV_positive_Diagnosed_Off_ART = NULL;
  main_model_p->Primary_Off_ART = NULL;
  main_model_p->CD4_above_500_Off_ART = NULL;
  main_model_p->CD4_350_500_Off_ART = NULL;
  main_model_p->CD4_200_350_Off_ART = NULL;
  main_model_p->CD4_below_200_Off_ART = NULL;
  main_model_p->HIV_positive_On_ART = NULL;
  main_model_p->Number_DALY_W1 = NULL;
  main_model_p->Number_DALY_W2 = NULL;
  main_model_p->Number_DALY_W3 = NULL;
  main_model_p->initial_cumuDeaths_On_ART = NULL;
  main_model_p->initial_cumuARTinitiations_not_TasP = NULL;
  main_model_p->initial_cumu_PrEP_dropouts = NULL;
  main_model_p->initial_S0_infections = NULL;
  main_model_p->initial_S1a_infections = NULL;
  main_model_p->initial_S1b_infections = NULL;
  main_model_p->initial_S1c_infections = NULL;
  main_model_p->initial_S1d_infections = NULL;
  main_model_p->frac_F = NULL;
  main_model_p->frac_N_sexualpop = NULL;
  main_model_p->ART_coverage = NULL;
  main_model_p->infect_ART = NULL;
  main_model_p->prep_offered = NULL;
  main_model_p->omega = NULL;
  main_model_p->frac_N = NULL;
  main_model_p->mu = NULL;
  main_model_p->gamma01 = NULL;
  main_model_p->gamma02 = NULL;
  main_model_p->gamma03 = NULL;
  main_model_p->gamma04 = NULL;
  main_model_p->gamma11 = NULL;
  main_model_p->gamma22 = NULL;
  main_model_p->gamma23 = NULL;
  main_model_p->gamma24 = NULL;
  main_model_p->gamma32 = NULL;
  main_model_p->gamma33 = NULL;
  main_model_p->gamma34 = NULL;
  main_model_p->gamma42 = NULL;
  main_model_p->gamma43 = NULL;
  main_model_p->gamma44 = NULL;
  main_model_p->phi2 = NULL;
  main_model_p->phi3 = NULL;
  main_model_p->phi4 = NULL;
  main_model_p->phi5 = NULL;
  main_model_p->psia = NULL;
  main_model_p->psib = NULL;
  main_model_p->kappaa = NULL;
  main_model_p->kappab = NULL;
  main_model_p->kappac = NULL;
  main_model_p->kappa1 = NULL;
  main_model_p->alpha01 = NULL;
  main_model_p->alpha02 = NULL;
  main_model_p->alpha03 = NULL;
  main_model_p->alpha04 = NULL;
  main_model_p->alpha05 = NULL;
  main_model_p->alpha11 = NULL;
  main_model_p->alpha22 = NULL;
  main_model_p->alpha23 = NULL;
  main_model_p->alpha24 = NULL;
  main_model_p->alpha25 = NULL;
  main_model_p->alpha32 = NULL;
  main_model_p->alpha33 = NULL;
  main_model_p->alpha34 = NULL;
  main_model_p->alpha35 = NULL;
  main_model_p->alpha42 = NULL;
  main_model_p->alpha43 = NULL;
  main_model_p->alpha44 = NULL;
  main_model_p->alpha45 = NULL;
  main_model_p->beta_comm = NULL;
  main_model_p->beta_noncomm = NULL;
  main_model_p->p_comm = NULL;
  main_model_p->p_noncomm = NULL;
  main_model_p->ec = NULL;
  main_model_p->eP = NULL;
  main_model_p->eP0 = NULL;
  main_model_p->eP1a = NULL;
  main_model_p->eP1b = NULL;
  main_model_p->eP1c = NULL;
  main_model_p->eP1d = NULL;
  main_model_p->fc_comm = NULL;
  main_model_p->fP_comm = NULL;
  main_model_p->fc_noncomm = NULL;
  main_model_p->fP_noncomm = NULL;
  main_model_p->n_comm = NULL;
  main_model_p->n_noncomm = NULL;
  main_model_p->initial_cumuHIVDeaths = NULL;
  main_model_p->initial_cumuARTinitiations = NULL;
  main_model_p->initial_TasPinitiations = NULL;
  main_model_p->initial_cumuARTREinitiations = NULL;
  main_model_p->initial_dropouts = NULL;
  main_model_p->initial_cumuAllDeaths = NULL;
  main_model_p->initial_cumuInf = NULL;
  main_model_p->initial_PrEPinitiations = NULL;
  main_model_p->initial_PrEPinitiations1a = NULL;
  main_model_p->initial_PrEPinitiations1b = NULL;
  main_model_p->initial_PrEPinitiations1c = NULL;
  main_model_p->initial_S0 = NULL;
  main_model_p->initial_S1a = NULL;
  main_model_p->initial_S1b = NULL;
  main_model_p->initial_S1c = NULL;
  main_model_p->initial_S1d = NULL;
  main_model_p->initial_I01 = NULL;
  main_model_p->initial_I11 = NULL;
  main_model_p->initial_I02 = NULL;
  main_model_p->initial_I03 = NULL;
  main_model_p->initial_I04 = NULL;
  main_model_p->initial_I05 = NULL;
  main_model_p->initial_I22 = NULL;
  main_model_p->initial_I23 = NULL;
  main_model_p->initial_I24 = NULL;
  main_model_p->initial_I25 = NULL;
  main_model_p->initial_I32 = NULL;
  main_model_p->initial_I33 = NULL;
  main_model_p->initial_I34 = NULL;
  main_model_p->initial_I35 = NULL;
  main_model_p->initial_I42 = NULL;
  main_model_p->initial_I43 = NULL;
  main_model_p->initial_I44 = NULL;
  main_model_p->initial_I45 = NULL;
  main_model_p->S0_init = NULL;
  main_model_p->S1a_init = NULL;
  main_model_p->S1b_init = NULL;
  main_model_p->S1c_init = NULL;
  main_model_p->S1d_init = NULL;
  main_model_p->I01_init = NULL;
  main_model_p->I11_init = NULL;
  main_model_p->I02_init = NULL;
  main_model_p->I03_init = NULL;
  main_model_p->I04_init = NULL;
  main_model_p->I05_init = NULL;
  main_model_p->I22_init = NULL;
  main_model_p->I23_init = NULL;
  main_model_p->I24_init = NULL;
  main_model_p->I25_init = NULL;
  main_model_p->I32_init = NULL;
  main_model_p->I33_init = NULL;
  main_model_p->I34_init = NULL;
  main_model_p->I35_init = NULL;
  main_model_p->I42_init = NULL;
  main_model_p->I43_init = NULL;
  main_model_p->I44_init = NULL;
  main_model_p->I45_init = NULL;
  main_model_p->N = NULL;
  main_model_p->E0 = NULL;
  main_model_p->E1a = NULL;
  main_model_p->E1b = NULL;
  main_model_p->E1c = NULL;
  main_model_p->E1d = NULL;
  main_model_p->cumuInf_init = NULL;
  main_model_p->alphaItot = NULL;
  main_model_p->prev = NULL;
  main_model_p->lambda = NULL;
  main_model_p->lambda_0 = NULL;
  main_model_p->lambda_1a = NULL;
  main_model_p->lambda_1b = NULL;
  main_model_p->lambda_1c = NULL;
  main_model_p->lambda_1d = NULL;
  main_model_p->lambda_sum_0 = NULL;
  main_model_p->lambda_sum_1a = NULL;
  main_model_p->lambda_sum_1b = NULL;
  main_model_p->lambda_sum_1c = NULL;
  main_model_p->lambda_sum_1d = NULL;
  main_model_p->c_comm_balanced = NULL;
  main_model_p->c_noncomm_balanced = NULL;
  main_model_p->theta = NULL;
  main_model_p->PrEPinitiations_init = NULL;
  main_model_p->M_comm = NULL;
  main_model_p->M_noncomm = NULL;
  main_model_p->in_S0 = NULL;
  main_model_p->in_S1a = NULL;
  main_model_p->in_S1b = NULL;
  main_model_p->in_S1c = NULL;
  main_model_p->in_S1d = NULL;
  main_model_p->in_I01 = NULL;
  main_model_p->in_I11 = NULL;
  main_model_p->in_I02 = NULL;
  main_model_p->in_I03 = NULL;
  main_model_p->in_I04 = NULL;
  main_model_p->in_I05 = NULL;
  main_model_p->in_I22 = NULL;
  main_model_p->in_I23 = NULL;
  main_model_p->in_I24 = NULL;
  main_model_p->in_I25 = NULL;
  main_model_p->in_I32 = NULL;
  main_model_p->in_I33 = NULL;
  main_model_p->in_I34 = NULL;
  main_model_p->in_I35 = NULL;
  main_model_p->in_I42 = NULL;
  main_model_p->in_I43 = NULL;
  main_model_p->in_I44 = NULL;
  main_model_p->in_I45 = NULL;
  main_model_p->rate_move_in = NULL;
  main_model_p->rate_move_out = NULL;
  main_model_p->rate_move_out_PrEP = NULL;
  SEXP main_model_ptr = PROTECT(R_MakeExternalPtr(main_model_p, R_NilValue, R_NilValue));
  R_RegisterCFinalizer(main_model_ptr, main_model_finalize);
  main_model_set_user(main_model_p, user);
  main_model_p->odin_use_dde = INTEGER(odin_use_dde)[0];
  UNPROTECT(1);
  return main_model_ptr;
}

// Set user-supplied parameter values.
SEXP main_model_set_user(main_model_pars *main_model_p, SEXP user) {
  main_model_p->replaceDeaths = get_user_double(user, "replaceDeaths", main_model_p->replaceDeaths);
  Free(main_model_p->pfFSW_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "pfFSW_t", true, 1, &main_model_p->dim_pfFSW_t);
    main_model_p->pfFSW_t = (double*) Calloc(main_model_p->dim_pfFSW_t, double);
    memcpy(main_model_p->pfFSW_t, tmp, main_model_p->dim_pfFSW_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->pfFSW_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "pfFSW_y", true, 2, tmp_dim);
    main_model_p->dim_pfFSW_y_1 = tmp_dim[0];
    main_model_p->dim_pfFSW_y_2 = tmp_dim[1];
    main_model_p->dim_pfFSW_y = main_model_p->dim_pfFSW_y_1 * main_model_p->dim_pfFSW_y_2;
    main_model_p->pfFSW_y = (double*) Calloc(main_model_p->dim_pfFSW_y, double);
    memcpy(main_model_p->pfFSW_y, tmp, main_model_p->dim_pfFSW_y * sizeof(double));
    Free(tmp);
  }
  main_model_p->infected_FSW_incoming = get_user_double(user, "infected_FSW_incoming", main_model_p->infected_FSW_incoming);
  main_model_p->rate_leave_pro_FSW = get_user_double(user, "rate_leave_pro_FSW", main_model_p->rate_leave_pro_FSW);
  main_model_p->fraction_FSW_foreign = get_user_double(user, "fraction_FSW_foreign", main_model_p->fraction_FSW_foreign);
  Free(main_model_p->c_t_comm);
  {
    double *tmp = (double*)get_user_array_dim(user, "c_t_comm", true, 1, &main_model_p->dim_c_t_comm);
    main_model_p->c_t_comm = (double*) Calloc(main_model_p->dim_c_t_comm, double);
    memcpy(main_model_p->c_t_comm, tmp, main_model_p->dim_c_t_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->c_t_noncomm);
  {
    double *tmp = (double*)get_user_array_dim(user, "c_t_noncomm", true, 1, &main_model_p->dim_c_t_noncomm);
    main_model_p->c_t_noncomm = (double*) Calloc(main_model_p->dim_c_t_noncomm, double);
    memcpy(main_model_p->c_t_noncomm, tmp, main_model_p->dim_c_t_noncomm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->c_y_comm);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "c_y_comm", true, 2, tmp_dim);
    main_model_p->dim_c_y_comm_1 = tmp_dim[0];
    main_model_p->dim_c_y_comm_2 = tmp_dim[1];
    main_model_p->dim_c_y_comm = main_model_p->dim_c_y_comm_1 * main_model_p->dim_c_y_comm_2;
    main_model_p->c_y_comm = (double*) Calloc(main_model_p->dim_c_y_comm, double);
    memcpy(main_model_p->c_y_comm, tmp, main_model_p->dim_c_y_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->c_y_noncomm);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "c_y_noncomm", true, 2, tmp_dim);
    main_model_p->dim_c_y_noncomm_1 = tmp_dim[0];
    main_model_p->dim_c_y_noncomm_2 = tmp_dim[1];
    main_model_p->dim_c_y_noncomm = main_model_p->dim_c_y_noncomm_1 * main_model_p->dim_c_y_noncomm_2;
    main_model_p->c_y_noncomm = (double*) Calloc(main_model_p->dim_c_y_noncomm, double);
    memcpy(main_model_p->c_y_noncomm, tmp, main_model_p->dim_c_y_noncomm * sizeof(double));
    Free(tmp);
  }
  main_model_p->who_believe_comm = get_user_double(user, "who_believe_comm", main_model_p->who_believe_comm);
  Free(main_model_p->ART_eligible_CD4_above_500_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_above_500_t", true, 1, &main_model_p->dim_ART_eligible_CD4_above_500_t);
    main_model_p->ART_eligible_CD4_above_500_t = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_above_500_t, double);
    memcpy(main_model_p->ART_eligible_CD4_above_500_t, tmp, main_model_p->dim_ART_eligible_CD4_above_500_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_350_500_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_350_500_t", true, 1, &main_model_p->dim_ART_eligible_CD4_350_500_t);
    main_model_p->ART_eligible_CD4_350_500_t = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_350_500_t, double);
    memcpy(main_model_p->ART_eligible_CD4_350_500_t, tmp, main_model_p->dim_ART_eligible_CD4_350_500_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_200_349_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_200_349_t", true, 1, &main_model_p->dim_ART_eligible_CD4_200_349_t);
    main_model_p->ART_eligible_CD4_200_349_t = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_200_349_t, double);
    memcpy(main_model_p->ART_eligible_CD4_200_349_t, tmp, main_model_p->dim_ART_eligible_CD4_200_349_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_below_200_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_below_200_t", true, 1, &main_model_p->dim_ART_eligible_CD4_below_200_t);
    main_model_p->ART_eligible_CD4_below_200_t = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_below_200_t, double);
    memcpy(main_model_p->ART_eligible_CD4_below_200_t, tmp, main_model_p->dim_ART_eligible_CD4_below_200_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_above_500_y);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_above_500_y", true, 1, &main_model_p->dim_ART_eligible_CD4_above_500_y);
    main_model_p->ART_eligible_CD4_above_500_y = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_above_500_y, double);
    memcpy(main_model_p->ART_eligible_CD4_above_500_y, tmp, main_model_p->dim_ART_eligible_CD4_above_500_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_350_500_y);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_350_500_y", true, 1, &main_model_p->dim_ART_eligible_CD4_350_500_y);
    main_model_p->ART_eligible_CD4_350_500_y = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_350_500_y, double);
    memcpy(main_model_p->ART_eligible_CD4_350_500_y, tmp, main_model_p->dim_ART_eligible_CD4_350_500_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_200_349_y);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_200_349_y", true, 1, &main_model_p->dim_ART_eligible_CD4_200_349_y);
    main_model_p->ART_eligible_CD4_200_349_y = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_200_349_y, double);
    memcpy(main_model_p->ART_eligible_CD4_200_349_y, tmp, main_model_p->dim_ART_eligible_CD4_200_349_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->ART_eligible_CD4_below_200_y);
  {
    double *tmp = (double*)get_user_array_dim(user, "ART_eligible_CD4_below_200_y", true, 1, &main_model_p->dim_ART_eligible_CD4_below_200_y);
    main_model_p->ART_eligible_CD4_below_200_y = (double*) Calloc(main_model_p->dim_ART_eligible_CD4_below_200_y, double);
    memcpy(main_model_p->ART_eligible_CD4_below_200_y, tmp, main_model_p->dim_ART_eligible_CD4_below_200_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->infect_ART_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "infect_ART_y", true, 2, tmp_dim);
    main_model_p->dim_infect_ART_y_1 = tmp_dim[0];
    main_model_p->dim_infect_ART_y_2 = tmp_dim[1];
    main_model_p->dim_infect_ART_y = main_model_p->dim_infect_ART_y_1 * main_model_p->dim_infect_ART_y_2;
    main_model_p->infect_ART_y = (double*) Calloc(main_model_p->dim_infect_ART_y, double);
    memcpy(main_model_p->infect_ART_y, tmp, main_model_p->dim_infect_ART_y * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_infect_ART_y = 74;
  Free(main_model_p->infect_ART_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "infect_ART_t", true, 1, &main_model_p->dim_infect_ART_t);
    main_model_p->infect_ART_t = (double*) Calloc(main_model_p->dim_infect_ART_t, double);
    memcpy(main_model_p->infect_ART_t, tmp, main_model_p->dim_infect_ART_t * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_infect_ART_t = 74 + main_model_p->dim_infect_ART_y;
  Free(main_model_p->testing_prob_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "testing_prob_t", true, 1, &main_model_p->dim_testing_prob_t);
    main_model_p->testing_prob_t = (double*) Calloc(main_model_p->dim_testing_prob_t, double);
    memcpy(main_model_p->testing_prob_t, tmp, main_model_p->dim_testing_prob_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->testing_prob_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "testing_prob_y", true, 2, tmp_dim);
    main_model_p->dim_testing_prob_y_1 = tmp_dim[0];
    main_model_p->dim_testing_prob_y_2 = tmp_dim[1];
    main_model_p->dim_testing_prob_y = main_model_p->dim_testing_prob_y_1 * main_model_p->dim_testing_prob_y_2;
    main_model_p->testing_prob_y = (double*) Calloc(main_model_p->dim_testing_prob_y, double);
    memcpy(main_model_p->testing_prob_y, tmp, main_model_p->dim_testing_prob_y * sizeof(double));
    Free(tmp);
  }
  main_model_p->TasP_testing = get_user_double(user, "TasP_testing", main_model_p->TasP_testing);
  Free(main_model_p->tau_intervention_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "tau_intervention_t", true, 1, &main_model_p->dim_tau_intervention_t);
    main_model_p->tau_intervention_t = (double*) Calloc(main_model_p->dim_tau_intervention_t, double);
    memcpy(main_model_p->tau_intervention_t, tmp, main_model_p->dim_tau_intervention_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->tau_intervention_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "tau_intervention_y", true, 2, tmp_dim);
    main_model_p->dim_tau_intervention_y_1 = tmp_dim[0];
    main_model_p->dim_tau_intervention_y_2 = tmp_dim[1];
    main_model_p->dim_tau_intervention_y = main_model_p->dim_tau_intervention_y_1 * main_model_p->dim_tau_intervention_y_2;
    main_model_p->tau_intervention_y = (double*) Calloc(main_model_p->dim_tau_intervention_y, double);
    memcpy(main_model_p->tau_intervention_y, tmp, main_model_p->dim_tau_intervention_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->rho_intervention_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "rho_intervention_t", true, 1, &main_model_p->dim_rho_intervention_t);
    main_model_p->rho_intervention_t = (double*) Calloc(main_model_p->dim_rho_intervention_t, double);
    memcpy(main_model_p->rho_intervention_t, tmp, main_model_p->dim_rho_intervention_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->rho_intervention_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "rho_intervention_y", true, 2, tmp_dim);
    main_model_p->dim_rho_intervention_y_1 = tmp_dim[0];
    main_model_p->dim_rho_intervention_y_2 = tmp_dim[1];
    main_model_p->dim_rho_intervention_y = main_model_p->dim_rho_intervention_y_1 * main_model_p->dim_rho_intervention_y_2;
    main_model_p->rho_intervention_y = (double*) Calloc(main_model_p->dim_rho_intervention_y, double);
    memcpy(main_model_p->rho_intervention_y, tmp, main_model_p->dim_rho_intervention_y * sizeof(double));
    Free(tmp);
  }
  main_model_p->PrEPOnOff = get_user_double(user, "PrEPOnOff", main_model_p->PrEPOnOff);
  main_model_p->fPa = get_user_double(user, "fPa", main_model_p->fPa);
  main_model_p->fPb = get_user_double(user, "fPb", main_model_p->fPb);
  main_model_p->fPc = get_user_double(user, "fPc", main_model_p->fPc);
  Free(main_model_p->prep_efficacious_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "prep_efficacious_t", true, 1, &main_model_p->dim_prep_efficacious_t);
    main_model_p->prep_efficacious_t = (double*) Calloc(main_model_p->dim_prep_efficacious_t, double);
    memcpy(main_model_p->prep_efficacious_t, tmp, main_model_p->dim_prep_efficacious_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->prep_efficacious_y);
  {
    double *tmp = (double*)get_user_array_dim(user, "prep_efficacious_y", true, 1, &main_model_p->dim_prep_efficacious_y);
    main_model_p->prep_efficacious_y = (double*) Calloc(main_model_p->dim_prep_efficacious_y, double);
    memcpy(main_model_p->prep_efficacious_y, tmp, main_model_p->dim_prep_efficacious_y * sizeof(double));
    Free(tmp);
  }
  main_model_p->RR_test_CD4200 = get_user_double(user, "RR_test_CD4200", main_model_p->RR_test_CD4200);
  Free(main_model_p->viral_supp_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "viral_supp_y", true, 2, tmp_dim);
    main_model_p->dim_viral_supp_y_1 = tmp_dim[0];
    main_model_p->dim_viral_supp_y_2 = tmp_dim[1];
    main_model_p->dim_viral_supp_y = main_model_p->dim_viral_supp_y_1 * main_model_p->dim_viral_supp_y_2;
    main_model_p->viral_supp_y = (double*) Calloc(main_model_p->dim_viral_supp_y, double);
    memcpy(main_model_p->viral_supp_y, tmp, main_model_p->dim_viral_supp_y * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_viral_supp_y = main_model_p->offset_output_infect_ART_t + main_model_p->dim_infect_ART_t;
  Free(main_model_p->viral_supp_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "viral_supp_t", true, 1, &main_model_p->dim_viral_supp_t);
    main_model_p->viral_supp_t = (double*) Calloc(main_model_p->dim_viral_supp_t, double);
    memcpy(main_model_p->viral_supp_t, tmp, main_model_p->dim_viral_supp_t * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_viral_supp_t = main_model_p->offset_output_viral_supp_y + main_model_p->dim_viral_supp_y;
  main_model_p->W0 = get_user_double(user, "W0", main_model_p->W0);
  main_model_p->W1 = get_user_double(user, "W1", main_model_p->W1);
  main_model_p->W2 = get_user_double(user, "W2", main_model_p->W2);
  main_model_p->W3 = get_user_double(user, "W3", main_model_p->W3);
  main_model_p->cost_Initiation_of_ART_study_FSW = get_user_double(user, "cost_Initiation_of_ART_study_FSW", main_model_p->cost_Initiation_of_ART_study_FSW);
  main_model_p->cost_Initiation_of_ART_government_FSW = get_user_double(user, "cost_Initiation_of_ART_government_FSW", main_model_p->cost_Initiation_of_ART_government_FSW);
  main_model_p->cost_1_year_of_ART_study_FSW = get_user_double(user, "cost_1_year_of_ART_study_FSW", main_model_p->cost_1_year_of_ART_study_FSW);
  main_model_p->cost_1_year_of_ART_government_FSW = get_user_double(user, "cost_1_year_of_ART_government_FSW", main_model_p->cost_1_year_of_ART_government_FSW);
  main_model_p->cost_Initiation_ART_rest_of_population = get_user_double(user, "cost_Initiation_ART_rest_of_population", main_model_p->cost_Initiation_ART_rest_of_population);
  main_model_p->cost_1_year_of_ART_rest_of_population = get_user_double(user, "cost_1_year_of_ART_rest_of_population", main_model_p->cost_1_year_of_ART_rest_of_population);
  main_model_p->cost_FSW_initiation_ART_Patient_costs = get_user_double(user, "cost_FSW_initiation_ART_Patient_costs", main_model_p->cost_FSW_initiation_ART_Patient_costs);
  main_model_p->cost_FSW_1_year_ART_Patient_costs = get_user_double(user, "cost_FSW_1_year_ART_Patient_costs", main_model_p->cost_FSW_1_year_ART_Patient_costs);
  main_model_p->cost_Initiation_of_PrEP_study = get_user_double(user, "cost_Initiation_of_PrEP_study", main_model_p->cost_Initiation_of_PrEP_study);
  main_model_p->cost_1_year_PrEP_perfect_adherence_study = get_user_double(user, "cost_1_year_PrEP_perfect_adherence_study", main_model_p->cost_1_year_PrEP_perfect_adherence_study);
  main_model_p->cost_1_year_PrEP_intermediate_adherence_study = get_user_double(user, "cost_1_year_PrEP_intermediate_adherence_study", main_model_p->cost_1_year_PrEP_intermediate_adherence_study);
  main_model_p->cost_1_year_PrEP_non_adherence_study = get_user_double(user, "cost_1_year_PrEP_non_adherence_study", main_model_p->cost_1_year_PrEP_non_adherence_study);
  main_model_p->cost_Initiation_of_PrEP_government = get_user_double(user, "cost_Initiation_of_PrEP_government", main_model_p->cost_Initiation_of_PrEP_government);
  main_model_p->cost_1_year_PrEP_perfect_adherence_government = get_user_double(user, "cost_1_year_PrEP_perfect_adherence_government", main_model_p->cost_1_year_PrEP_perfect_adherence_government);
  main_model_p->cost_1_year_PrEP_intermediate_adherence_government = get_user_double(user, "cost_1_year_PrEP_intermediate_adherence_government", main_model_p->cost_1_year_PrEP_intermediate_adherence_government);
  main_model_p->cost_1_year_PrEP_non_adherence_government = get_user_double(user, "cost_1_year_PrEP_non_adherence_government", main_model_p->cost_1_year_PrEP_non_adherence_government);
  main_model_p->cost_PREP_initiation_Patient_costs = get_user_double(user, "cost_PREP_initiation_Patient_costs", main_model_p->cost_PREP_initiation_Patient_costs);
  main_model_p->cost_PREP_1_year_ART_Patient_costs = get_user_double(user, "cost_PREP_1_year_ART_Patient_costs", main_model_p->cost_PREP_1_year_ART_Patient_costs);
  main_model_p->Ncat = get_user_int(user, "Ncat", main_model_p->Ncat);
  main_model_p->Nage = get_user_double(user, "Nage", main_model_p->Nage);
  main_model_p->infect_acute = get_user_double(user, "infect_acute", main_model_p->infect_acute);
  main_model_p->infect_AIDS = get_user_double(user, "infect_AIDS", main_model_p->infect_AIDS);
  main_model_p->nu = get_user_double(user, "nu", main_model_p->nu);
  main_model_p->R = get_user_double(user, "R", main_model_p->R);
  Free(main_model_p->epsilon_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "epsilon_t", true, 1, &main_model_p->dim_epsilon_t);
    main_model_p->epsilon_t = (double*) Calloc(main_model_p->dim_epsilon_t, double);
    memcpy(main_model_p->epsilon_t, tmp, main_model_p->dim_epsilon_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->epsilon_y);
  {
    double *tmp = (double*)get_user_array_dim(user, "epsilon_y", true, 1, &main_model_p->dim_epsilon_y);
    main_model_p->epsilon_y = (double*) Calloc(main_model_p->dim_epsilon_y, double);
    memcpy(main_model_p->epsilon_y, tmp, main_model_p->dim_epsilon_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fc_t_comm);
  {
    double *tmp = (double*)get_user_array_dim(user, "fc_t_comm", true, 1, &main_model_p->dim_fc_t_comm);
    main_model_p->fc_t_comm = (double*) Calloc(main_model_p->dim_fc_t_comm, double);
    memcpy(main_model_p->fc_t_comm, tmp, main_model_p->dim_fc_t_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fc_y_comm);
  {
    int tmp_dim[3];
    double *tmp = get_user_array_dim(user, "fc_y_comm", true, 3, tmp_dim);
    main_model_p->dim_fc_y_comm_1 = tmp_dim[0];
    main_model_p->dim_fc_y_comm_2 = tmp_dim[1];
    main_model_p->dim_fc_y_comm_3 = tmp_dim[2];
    main_model_p->dim_fc_y_comm_12 = main_model_p->dim_fc_y_comm_1 * main_model_p->dim_fc_y_comm_2;
    main_model_p->dim_fc_y_comm = main_model_p->dim_fc_y_comm_1 * main_model_p->dim_fc_y_comm_2 * main_model_p->dim_fc_y_comm_3;
    main_model_p->fc_y_comm = (double*) Calloc(main_model_p->dim_fc_y_comm, double);
    memcpy(main_model_p->fc_y_comm, tmp, main_model_p->dim_fc_y_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fP_t_comm);
  {
    double *tmp = (double*)get_user_array_dim(user, "fP_t_comm", true, 1, &main_model_p->dim_fP_t_comm);
    main_model_p->fP_t_comm = (double*) Calloc(main_model_p->dim_fP_t_comm, double);
    memcpy(main_model_p->fP_t_comm, tmp, main_model_p->dim_fP_t_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fP_y_comm);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "fP_y_comm", true, 2, tmp_dim);
    main_model_p->dim_fP_y_comm_1 = tmp_dim[0];
    main_model_p->dim_fP_y_comm_2 = tmp_dim[1];
    main_model_p->dim_fP_y_comm = main_model_p->dim_fP_y_comm_1 * main_model_p->dim_fP_y_comm_2;
    main_model_p->fP_y_comm = (double*) Calloc(main_model_p->dim_fP_y_comm, double);
    memcpy(main_model_p->fP_y_comm, tmp, main_model_p->dim_fP_y_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fc_t_noncomm);
  {
    double *tmp = (double*)get_user_array_dim(user, "fc_t_noncomm", true, 1, &main_model_p->dim_fc_t_noncomm);
    main_model_p->fc_t_noncomm = (double*) Calloc(main_model_p->dim_fc_t_noncomm, double);
    memcpy(main_model_p->fc_t_noncomm, tmp, main_model_p->dim_fc_t_noncomm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fc_y_noncomm);
  {
    int tmp_dim[3];
    double *tmp = get_user_array_dim(user, "fc_y_noncomm", true, 3, tmp_dim);
    main_model_p->dim_fc_y_noncomm_1 = tmp_dim[0];
    main_model_p->dim_fc_y_noncomm_2 = tmp_dim[1];
    main_model_p->dim_fc_y_noncomm_3 = tmp_dim[2];
    main_model_p->dim_fc_y_noncomm_12 = main_model_p->dim_fc_y_noncomm_1 * main_model_p->dim_fc_y_noncomm_2;
    main_model_p->dim_fc_y_noncomm = main_model_p->dim_fc_y_noncomm_1 * main_model_p->dim_fc_y_noncomm_2 * main_model_p->dim_fc_y_noncomm_3;
    main_model_p->fc_y_noncomm = (double*) Calloc(main_model_p->dim_fc_y_noncomm, double);
    memcpy(main_model_p->fc_y_noncomm, tmp, main_model_p->dim_fc_y_noncomm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fP_t_noncomm);
  {
    double *tmp = (double*)get_user_array_dim(user, "fP_t_noncomm", true, 1, &main_model_p->dim_fP_t_noncomm);
    main_model_p->fP_t_noncomm = (double*) Calloc(main_model_p->dim_fP_t_noncomm, double);
    memcpy(main_model_p->fP_t_noncomm, tmp, main_model_p->dim_fP_t_noncomm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->fP_y_noncomm);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "fP_y_noncomm", true, 2, tmp_dim);
    main_model_p->dim_fP_y_noncomm_1 = tmp_dim[0];
    main_model_p->dim_fP_y_noncomm_2 = tmp_dim[1];
    main_model_p->dim_fP_y_noncomm = main_model_p->dim_fP_y_noncomm_1 * main_model_p->dim_fP_y_noncomm_2;
    main_model_p->fP_y_noncomm = (double*) Calloc(main_model_p->dim_fP_y_noncomm, double);
    memcpy(main_model_p->fP_y_noncomm, tmp, main_model_p->dim_fP_y_noncomm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->n_t_comm);
  {
    double *tmp = (double*)get_user_array_dim(user, "n_t_comm", true, 1, &main_model_p->dim_n_t_comm);
    main_model_p->n_t_comm = (double*) Calloc(main_model_p->dim_n_t_comm, double);
    memcpy(main_model_p->n_t_comm, tmp, main_model_p->dim_n_t_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->n_y_comm);
  {
    int tmp_dim[3];
    double *tmp = get_user_array_dim(user, "n_y_comm", true, 3, tmp_dim);
    main_model_p->dim_n_y_comm_1 = tmp_dim[0];
    main_model_p->dim_n_y_comm_2 = tmp_dim[1];
    main_model_p->dim_n_y_comm_3 = tmp_dim[2];
    main_model_p->dim_n_y_comm_12 = main_model_p->dim_n_y_comm_1 * main_model_p->dim_n_y_comm_2;
    main_model_p->dim_n_y_comm = main_model_p->dim_n_y_comm_1 * main_model_p->dim_n_y_comm_2 * main_model_p->dim_n_y_comm_3;
    main_model_p->n_y_comm = (double*) Calloc(main_model_p->dim_n_y_comm, double);
    memcpy(main_model_p->n_y_comm, tmp, main_model_p->dim_n_y_comm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->n_t_noncomm);
  {
    double *tmp = (double*)get_user_array_dim(user, "n_t_noncomm", true, 1, &main_model_p->dim_n_t_noncomm);
    main_model_p->n_t_noncomm = (double*) Calloc(main_model_p->dim_n_t_noncomm, double);
    memcpy(main_model_p->n_t_noncomm, tmp, main_model_p->dim_n_t_noncomm * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->n_y_noncomm);
  {
    int tmp_dim[3];
    double *tmp = get_user_array_dim(user, "n_y_noncomm", true, 3, tmp_dim);
    main_model_p->dim_n_y_noncomm_1 = tmp_dim[0];
    main_model_p->dim_n_y_noncomm_2 = tmp_dim[1];
    main_model_p->dim_n_y_noncomm_3 = tmp_dim[2];
    main_model_p->dim_n_y_noncomm_12 = main_model_p->dim_n_y_noncomm_1 * main_model_p->dim_n_y_noncomm_2;
    main_model_p->dim_n_y_noncomm = main_model_p->dim_n_y_noncomm_1 * main_model_p->dim_n_y_noncomm_2 * main_model_p->dim_n_y_noncomm_3;
    main_model_p->n_y_noncomm = (double*) Calloc(main_model_p->dim_n_y_noncomm, double);
    memcpy(main_model_p->n_y_noncomm, tmp, main_model_p->dim_n_y_noncomm * sizeof(double));
    Free(tmp);
  }
  main_model_p->dur_FSW = get_user_double(user, "dur_FSW", main_model_p->dur_FSW);
  Free(main_model_p->prep_intervention_t);
  {
    double *tmp = (double*)get_user_array_dim(user, "prep_intervention_t", true, 1, &main_model_p->dim_prep_intervention_t);
    main_model_p->prep_intervention_t = (double*) Calloc(main_model_p->dim_prep_intervention_t, double);
    memcpy(main_model_p->prep_intervention_t, tmp, main_model_p->dim_prep_intervention_t * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->prep_intervention_y);
  {
    int tmp_dim[2];
    double *tmp = get_user_array_dim(user, "prep_intervention_y", true, 2, tmp_dim);
    main_model_p->dim_prep_intervention_y_1 = tmp_dim[0];
    main_model_p->dim_prep_intervention_y_2 = tmp_dim[1];
    main_model_p->dim_prep_intervention_y = main_model_p->dim_prep_intervention_y_1 * main_model_p->dim_prep_intervention_y_2;
    main_model_p->prep_intervention_y = (double*) Calloc(main_model_p->dim_prep_intervention_y, double);
    memcpy(main_model_p->prep_intervention_y, tmp, main_model_p->dim_prep_intervention_y * sizeof(double));
    Free(tmp);
  }
  Free(main_model_p->gamma32_without_supp);
  {
    double *tmp = (double*)get_user_array_dim(user, "gamma32_without_supp", true, 1, &main_model_p->dim_gamma32_without_supp);
    main_model_p->gamma32_without_supp = (double*) Calloc(main_model_p->dim_gamma32_without_supp, double);
    memcpy(main_model_p->gamma32_without_supp, tmp, main_model_p->dim_gamma32_without_supp * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_gamma32_without_supp = main_model_p->offset_output_viral_supp_t + main_model_p->dim_viral_supp_t;
  Free(main_model_p->gamma33_without_supp);
  {
    double *tmp = (double*)get_user_array_dim(user, "gamma33_without_supp", true, 1, &main_model_p->dim_gamma33_without_supp);
    main_model_p->gamma33_without_supp = (double*) Calloc(main_model_p->dim_gamma33_without_supp, double);
    memcpy(main_model_p->gamma33_without_supp, tmp, main_model_p->dim_gamma33_without_supp * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_gamma33_without_supp = main_model_p->offset_output_gamma32_without_supp + main_model_p->dim_gamma32_without_supp;
  Free(main_model_p->gamma34_without_supp);
  {
    double *tmp = (double*)get_user_array_dim(user, "gamma34_without_supp", true, 1, &main_model_p->dim_gamma34_without_supp);
    main_model_p->gamma34_without_supp = (double*) Calloc(main_model_p->dim_gamma34_without_supp, double);
    memcpy(main_model_p->gamma34_without_supp, tmp, main_model_p->dim_gamma34_without_supp * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_gamma34_without_supp = main_model_p->offset_output_gamma33_without_supp + main_model_p->dim_gamma33_without_supp;
  Free(main_model_p->alpha33_without_supp);
  {
    double *tmp = (double*)get_user_array_dim(user, "alpha33_without_supp", true, 1, &main_model_p->dim_alpha33_without_supp);
    main_model_p->alpha33_without_supp = (double*) Calloc(main_model_p->dim_alpha33_without_supp, double);
    memcpy(main_model_p->alpha33_without_supp, tmp, main_model_p->dim_alpha33_without_supp * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_alpha33_without_supp = main_model_p->offset_output_gamma34_without_supp + main_model_p->dim_gamma34_without_supp;
  Free(main_model_p->alpha34_without_supp);
  {
    double *tmp = (double*)get_user_array_dim(user, "alpha34_without_supp", true, 1, &main_model_p->dim_alpha34_without_supp);
    main_model_p->alpha34_without_supp = (double*) Calloc(main_model_p->dim_alpha34_without_supp, double);
    memcpy(main_model_p->alpha34_without_supp, tmp, main_model_p->dim_alpha34_without_supp * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_alpha34_without_supp = main_model_p->offset_output_alpha33_without_supp + main_model_p->dim_alpha33_without_supp;
  Free(main_model_p->alpha35_without_supp);
  {
    double *tmp = (double*)get_user_array_dim(user, "alpha35_without_supp", true, 1, &main_model_p->dim_alpha35_without_supp);
    main_model_p->alpha35_without_supp = (double*) Calloc(main_model_p->dim_alpha35_without_supp, double);
    memcpy(main_model_p->alpha35_without_supp, tmp, main_model_p->dim_alpha35_without_supp * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_alpha35_without_supp = main_model_p->offset_output_alpha34_without_supp + main_model_p->dim_alpha34_without_supp;
  Free(main_model_p->c_comm);
  {
    double *tmp = (double*)get_user_array_dim(user, "c_comm", true, 1, &main_model_p->dim_c_comm);
    main_model_p->c_comm = (double*) Calloc(main_model_p->dim_c_comm, double);
    memcpy(main_model_p->c_comm, tmp, main_model_p->dim_c_comm * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_c_comm = main_model_p->offset_output_alpha35_without_supp + main_model_p->dim_alpha35_without_supp;
  Free(main_model_p->c_noncomm);
  {
    double *tmp = (double*)get_user_array_dim(user, "c_noncomm", true, 1, &main_model_p->dim_c_noncomm);
    main_model_p->c_noncomm = (double*) Calloc(main_model_p->dim_c_noncomm, double);
    memcpy(main_model_p->c_noncomm, tmp, main_model_p->dim_c_noncomm * sizeof(double));
    Free(tmp);
  }
  main_model_p->offset_output_c_noncomm = main_model_p->offset_output_c_comm + main_model_p->dim_c_comm;
  Free(main_model_p->pfFSW);
  main_model_p->dim_pfFSW = main_model_p->Ncat;
  main_model_p->pfFSW = (double*) Calloc(main_model_p->dim_pfFSW, double);
  main_model_p->offset_output_pfFSW = main_model_p->offset_output_c_noncomm + main_model_p->dim_c_noncomm;
  Free(main_model_p->new_acute_infected);
  main_model_p->dim_new_acute_infected = main_model_p->Ncat;
  main_model_p->new_acute_infected = (double*) Calloc(main_model_p->dim_new_acute_infected, double);
  main_model_p->offset_output_new_acute_infected = main_model_p->offset_output_pfFSW + main_model_p->dim_pfFSW;
  Free(main_model_p->FSW_ONLY);
  main_model_p->dim_FSW_ONLY = main_model_p->Ncat;
  main_model_p->FSW_ONLY = (double*) Calloc(main_model_p->dim_FSW_ONLY, double);
  get_user_array(user, "FSW_ONLY", true, main_model_p->FSW_ONLY, 1, main_model_p->dim_FSW_ONLY);
  Free(main_model_p->new_people_in_group);
  main_model_p->dim_new_people_in_group = main_model_p->Ncat;
  main_model_p->new_people_in_group = (double*) Calloc(main_model_p->dim_new_people_in_group, double);
  main_model_p->offset_output_new_people_in_group = main_model_p->offset_output_new_acute_infected + main_model_p->dim_new_acute_infected;
  Free(main_model_p->new_people_in_group_FSW_only);
  main_model_p->dim_new_people_in_group_FSW_only = main_model_p->Ncat;
  main_model_p->new_people_in_group_FSW_only = (double*) Calloc(main_model_p->dim_new_people_in_group_FSW_only, double);
  main_model_p->offset_output_new_people_in_group_FSW_only = main_model_p->offset_output_new_people_in_group + main_model_p->dim_new_people_in_group;
  Free(main_model_p->comm_partnerships_requested);
  main_model_p->dim_comm_partnerships_requested_1 = main_model_p->Ncat;
  main_model_p->dim_comm_partnerships_requested_2 = main_model_p->Ncat;
  main_model_p->dim_comm_partnerships_requested = main_model_p->dim_comm_partnerships_requested_1 * main_model_p->dim_comm_partnerships_requested_2;
  main_model_p->comm_partnerships_requested = (double*) Calloc(main_model_p->dim_comm_partnerships_requested, double);
  Free(main_model_p->noncomm_partnerships_requested);
  main_model_p->dim_noncomm_partnerships_requested_1 = main_model_p->Ncat;
  main_model_p->dim_noncomm_partnerships_requested_2 = main_model_p->Ncat;
  main_model_p->dim_noncomm_partnerships_requested = main_model_p->dim_noncomm_partnerships_requested_1 * main_model_p->dim_noncomm_partnerships_requested_2;
  main_model_p->noncomm_partnerships_requested = (double*) Calloc(main_model_p->dim_noncomm_partnerships_requested, double);
  Free(main_model_p->above_500_by_group);
  main_model_p->dim_above_500_by_group = main_model_p->Ncat;
  main_model_p->above_500_by_group = (double*) Calloc(main_model_p->dim_above_500_by_group, double);
  main_model_p->offset_output_above_500_by_group = main_model_p->offset_output_new_people_in_group_FSW_only + main_model_p->dim_new_people_in_group_FSW_only;
  get_user_array(user, "above_500_by_group", true, main_model_p->above_500_by_group, 1, main_model_p->dim_above_500_by_group);
  Free(main_model_p->testing_prob);
  main_model_p->dim_testing_prob = main_model_p->Ncat;
  main_model_p->testing_prob = (double*) Calloc(main_model_p->dim_testing_prob, double);
  main_model_p->offset_output_testing_prob = main_model_p->offset_output_above_500_by_group + main_model_p->dim_above_500_by_group;
  Free(main_model_p->tau_intervention);
  main_model_p->dim_tau_intervention = main_model_p->Ncat;
  main_model_p->tau_intervention = (double*) Calloc(main_model_p->dim_tau_intervention, double);
  main_model_p->offset_output_tau_intervention = main_model_p->offset_output_testing_prob + main_model_p->dim_testing_prob;
  Free(main_model_p->rho_intervention);
  main_model_p->dim_rho_intervention = main_model_p->Ncat;
  main_model_p->rho_intervention = (double*) Calloc(main_model_p->dim_rho_intervention, double);
  main_model_p->offset_output_rho_intervention = main_model_p->offset_output_tau_intervention + main_model_p->dim_tau_intervention;
  Free(main_model_p->zeta);
  main_model_p->dim_zeta = main_model_p->Ncat;
  main_model_p->zeta = (double*) Calloc(main_model_p->dim_zeta, double);
  main_model_p->offset_output_zeta = main_model_p->offset_output_rho_intervention + main_model_p->dim_rho_intervention;
  Free(main_model_p->sigma);
  main_model_p->dim_sigma = main_model_p->Ncat;
  main_model_p->sigma = (double*) Calloc(main_model_p->dim_sigma, double);
  get_user_array(user, "sigma", true, main_model_p->sigma, 1, main_model_p->dim_sigma);
  Free(main_model_p->eP1a_effective);
  main_model_p->dim_eP1a_effective = main_model_p->Ncat;
  main_model_p->eP1a_effective = (double*) Calloc(main_model_p->dim_eP1a_effective, double);
  main_model_p->offset_output_eP1a_effective = main_model_p->offset_output_zeta + main_model_p->dim_zeta;
  Free(main_model_p->eP1b_effective);
  main_model_p->dim_eP1b_effective = main_model_p->Ncat;
  main_model_p->eP1b_effective = (double*) Calloc(main_model_p->dim_eP1b_effective, double);
  main_model_p->offset_output_eP1b_effective = main_model_p->offset_output_eP1a_effective + main_model_p->dim_eP1a_effective;
  Free(main_model_p->eP1c_effective);
  main_model_p->dim_eP1c_effective = main_model_p->Ncat;
  main_model_p->eP1c_effective = (double*) Calloc(main_model_p->dim_eP1c_effective, double);
  main_model_p->offset_output_eP1c_effective = main_model_p->offset_output_eP1b_effective + main_model_p->dim_eP1b_effective;
  Free(main_model_p->tau);
  main_model_p->dim_tau = main_model_p->Ncat;
  main_model_p->tau = (double*) Calloc(main_model_p->dim_tau, double);
  main_model_p->offset_output_tau = main_model_p->offset_output_eP1c_effective + main_model_p->dim_eP1c_effective;
  Free(main_model_p->test_rate_prep);
  main_model_p->dim_test_rate_prep = main_model_p->Ncat;
  main_model_p->test_rate_prep = (double*) Calloc(main_model_p->dim_test_rate_prep, double);
  get_user_array(user, "test_rate_prep", true, main_model_p->test_rate_prep, 1, main_model_p->dim_test_rate_prep);
  Free(main_model_p->rho);
  main_model_p->dim_rho = main_model_p->Ncat;
  main_model_p->rho = (double*) Calloc(main_model_p->dim_rho, double);
  main_model_p->offset_output_rho = main_model_p->offset_output_tau + main_model_p->dim_tau;
  Free(main_model_p->iota);
  main_model_p->dim_iota = main_model_p->Ncat;
  main_model_p->iota = (double*) Calloc(main_model_p->dim_iota, double);
  main_model_p->offset_output_iota = main_model_p->offset_output_rho + main_model_p->dim_rho;
  get_user_array(user, "iota", true, main_model_p->iota, 1, main_model_p->dim_iota);
  get_user_array(user, "rho", true, main_model_p->rho, 1, main_model_p->dim_rho);
  Free(main_model_p->viral_supp);
  main_model_p->dim_viral_supp = main_model_p->Ncat;
  main_model_p->viral_supp = (double*) Calloc(main_model_p->dim_viral_supp, double);
  main_model_p->offset_output_viral_supp = main_model_p->offset_output_iota + main_model_p->dim_iota;
  Free(main_model_p->HIV_positive);
  main_model_p->dim_HIV_positive = main_model_p->Ncat;
  main_model_p->HIV_positive = (double*) Calloc(main_model_p->dim_HIV_positive, double);
  main_model_p->offset_output_HIV_positive = main_model_p->offset_output_viral_supp + main_model_p->dim_viral_supp;
  Free(main_model_p->Number_Susceptibles);
  main_model_p->dim_Number_Susceptibles = main_model_p->Ncat;
  main_model_p->Number_Susceptibles = (double*) Calloc(main_model_p->dim_Number_Susceptibles, double);
  main_model_p->offset_output_Number_Susceptibles = main_model_p->offset_output_HIV_positive + main_model_p->dim_HIV_positive;
  Free(main_model_p->HIV_positive_Diagnosed_Off_ART);
  main_model_p->dim_HIV_positive_Diagnosed_Off_ART = main_model_p->Ncat;
  main_model_p->HIV_positive_Diagnosed_Off_ART = (double*) Calloc(main_model_p->dim_HIV_positive_Diagnosed_Off_ART, double);
  main_model_p->offset_output_HIV_positive_Diagnosed_Off_ART = main_model_p->offset_output_Number_Susceptibles + main_model_p->dim_Number_Susceptibles;
  Free(main_model_p->Primary_Off_ART);
  main_model_p->dim_Primary_Off_ART = main_model_p->Ncat;
  main_model_p->Primary_Off_ART = (double*) Calloc(main_model_p->dim_Primary_Off_ART, double);
  main_model_p->offset_output_Primary_Off_ART = main_model_p->offset_output_HIV_positive_Diagnosed_Off_ART + main_model_p->dim_HIV_positive_Diagnosed_Off_ART;
  Free(main_model_p->CD4_above_500_Off_ART);
  main_model_p->dim_CD4_above_500_Off_ART = main_model_p->Ncat;
  main_model_p->CD4_above_500_Off_ART = (double*) Calloc(main_model_p->dim_CD4_above_500_Off_ART, double);
  main_model_p->offset_output_CD4_above_500_Off_ART = main_model_p->offset_output_Primary_Off_ART + main_model_p->dim_Primary_Off_ART;
  Free(main_model_p->CD4_350_500_Off_ART);
  main_model_p->dim_CD4_350_500_Off_ART = main_model_p->Ncat;
  main_model_p->CD4_350_500_Off_ART = (double*) Calloc(main_model_p->dim_CD4_350_500_Off_ART, double);
  main_model_p->offset_output_CD4_350_500_Off_ART = main_model_p->offset_output_CD4_above_500_Off_ART + main_model_p->dim_CD4_above_500_Off_ART;
  Free(main_model_p->CD4_200_350_Off_ART);
  main_model_p->dim_CD4_200_350_Off_ART = main_model_p->Ncat;
  main_model_p->CD4_200_350_Off_ART = (double*) Calloc(main_model_p->dim_CD4_200_350_Off_ART, double);
  main_model_p->offset_output_CD4_200_350_Off_ART = main_model_p->offset_output_CD4_350_500_Off_ART + main_model_p->dim_CD4_350_500_Off_ART;
  Free(main_model_p->CD4_below_200_Off_ART);
  main_model_p->dim_CD4_below_200_Off_ART = main_model_p->Ncat;
  main_model_p->CD4_below_200_Off_ART = (double*) Calloc(main_model_p->dim_CD4_below_200_Off_ART, double);
  main_model_p->offset_output_CD4_below_200_Off_ART = main_model_p->offset_output_CD4_200_350_Off_ART + main_model_p->dim_CD4_200_350_Off_ART;
  Free(main_model_p->HIV_positive_On_ART);
  main_model_p->dim_HIV_positive_On_ART = main_model_p->Ncat;
  main_model_p->HIV_positive_On_ART = (double*) Calloc(main_model_p->dim_HIV_positive_On_ART, double);
  main_model_p->offset_output_HIV_positive_On_ART = main_model_p->offset_output_CD4_below_200_Off_ART + main_model_p->dim_CD4_below_200_Off_ART;
  Free(main_model_p->Number_DALY_W1);
  main_model_p->dim_Number_DALY_W1 = main_model_p->Ncat;
  main_model_p->Number_DALY_W1 = (double*) Calloc(main_model_p->dim_Number_DALY_W1, double);
  main_model_p->offset_output_Number_DALY_W1 = main_model_p->offset_output_HIV_positive_On_ART + main_model_p->dim_HIV_positive_On_ART;
  Free(main_model_p->Number_DALY_W2);
  main_model_p->dim_Number_DALY_W2 = main_model_p->Ncat;
  main_model_p->Number_DALY_W2 = (double*) Calloc(main_model_p->dim_Number_DALY_W2, double);
  main_model_p->offset_output_Number_DALY_W2 = main_model_p->offset_output_Number_DALY_W1 + main_model_p->dim_Number_DALY_W1;
  Free(main_model_p->Number_DALY_W3);
  main_model_p->dim_Number_DALY_W3 = main_model_p->Ncat;
  main_model_p->Number_DALY_W3 = (double*) Calloc(main_model_p->dim_Number_DALY_W3, double);
  main_model_p->offset_output_Number_DALY_W3 = main_model_p->offset_output_Number_DALY_W2 + main_model_p->dim_Number_DALY_W2;
  Free(main_model_p->initial_cumuDeaths_On_ART);
  main_model_p->dim_cumuDeaths_On_ART = main_model_p->Ncat;
  main_model_p->initial_cumuDeaths_On_ART = (double*) Calloc(main_model_p->dim_cumuDeaths_On_ART, double);
  main_model_p->offset_cumuDeaths_On_ART = 0;
  for (int i = 0; i < main_model_p->dim_cumuDeaths_On_ART; ++i) {
    main_model_p->initial_cumuDeaths_On_ART[i] = 0;
  }
  Free(main_model_p->initial_cumuARTinitiations_not_TasP);
  main_model_p->dim_cumuARTinitiations_not_TasP = main_model_p->Ncat;
  main_model_p->initial_cumuARTinitiations_not_TasP = (double*) Calloc(main_model_p->dim_cumuARTinitiations_not_TasP, double);
  main_model_p->offset_cumuARTinitiations_not_TasP = main_model_p->dim_cumuDeaths_On_ART;
  for (int i = 0; i < main_model_p->dim_cumuARTinitiations_not_TasP; ++i) {
    main_model_p->initial_cumuARTinitiations_not_TasP[i] = 0;
  }
  Free(main_model_p->initial_cumu_PrEP_dropouts);
  main_model_p->dim_cumu_PrEP_dropouts = main_model_p->Ncat;
  main_model_p->initial_cumu_PrEP_dropouts = (double*) Calloc(main_model_p->dim_cumu_PrEP_dropouts, double);
  main_model_p->offset_cumu_PrEP_dropouts = main_model_p->offset_cumuARTinitiations_not_TasP + main_model_p->dim_cumuARTinitiations_not_TasP;
  for (int i = 0; i < main_model_p->dim_cumu_PrEP_dropouts; ++i) {
    main_model_p->initial_cumu_PrEP_dropouts[i] = 0;
  }
  Free(main_model_p->initial_S0_infections);
  main_model_p->dim_S0_infections = main_model_p->Ncat;
  main_model_p->initial_S0_infections = (double*) Calloc(main_model_p->dim_S0_infections, double);
  main_model_p->offset_S0_infections = main_model_p->offset_cumu_PrEP_dropouts + main_model_p->dim_cumu_PrEP_dropouts;
  for (int i = 0; i < main_model_p->dim_S0_infections; ++i) {
    main_model_p->initial_S0_infections[i] = 0;
  }
  Free(main_model_p->initial_S1a_infections);
  main_model_p->dim_S1a_infections = main_model_p->Ncat;
  main_model_p->initial_S1a_infections = (double*) Calloc(main_model_p->dim_S1a_infections, double);
  main_model_p->offset_S1a_infections = main_model_p->offset_S0_infections + main_model_p->dim_S0_infections;
  for (int i = 0; i < main_model_p->dim_S1a_infections; ++i) {
    main_model_p->initial_S1a_infections[i] = 0;
  }
  Free(main_model_p->initial_S1b_infections);
  main_model_p->dim_S1b_infections = main_model_p->Ncat;
  main_model_p->initial_S1b_infections = (double*) Calloc(main_model_p->dim_S1b_infections, double);
  main_model_p->offset_S1b_infections = main_model_p->offset_S1a_infections + main_model_p->dim_S1a_infections;
  for (int i = 0; i < main_model_p->dim_S1b_infections; ++i) {
    main_model_p->initial_S1b_infections[i] = 0;
  }
  Free(main_model_p->initial_S1c_infections);
  main_model_p->dim_S1c_infections = main_model_p->Ncat;
  main_model_p->initial_S1c_infections = (double*) Calloc(main_model_p->dim_S1c_infections, double);
  main_model_p->offset_S1c_infections = main_model_p->offset_S1b_infections + main_model_p->dim_S1b_infections;
  for (int i = 0; i < main_model_p->dim_S1c_infections; ++i) {
    main_model_p->initial_S1c_infections[i] = 0;
  }
  Free(main_model_p->initial_S1d_infections);
  main_model_p->dim_S1d_infections = main_model_p->Ncat;
  main_model_p->initial_S1d_infections = (double*) Calloc(main_model_p->dim_S1d_infections, double);
  main_model_p->offset_S1d_infections = main_model_p->offset_S1c_infections + main_model_p->dim_S1c_infections;
  for (int i = 0; i < main_model_p->dim_S1d_infections; ++i) {
    main_model_p->initial_S1d_infections[i] = 0;
  }
  Free(main_model_p->frac_F);
  main_model_p->dim_frac_F = main_model_p->Ncat;
  main_model_p->frac_F = (double*) Calloc(main_model_p->dim_frac_F, double);
  main_model_p->offset_output_frac_F = main_model_p->offset_output_Number_DALY_W3 + main_model_p->dim_Number_DALY_W3;
  Free(main_model_p->frac_N_sexualpop);
  main_model_p->dim_frac_N_sexualpop = main_model_p->Ncat;
  main_model_p->frac_N_sexualpop = (double*) Calloc(main_model_p->dim_frac_N_sexualpop, double);
  main_model_p->offset_output_frac_N_sexualpop = main_model_p->offset_output_frac_F + main_model_p->dim_frac_F;
  Free(main_model_p->ART_coverage);
  main_model_p->dim_ART_coverage = main_model_p->Ncat;
  main_model_p->ART_coverage = (double*) Calloc(main_model_p->dim_ART_coverage, double);
  main_model_p->offset_output_ART_coverage = main_model_p->offset_output_frac_N_sexualpop + main_model_p->dim_frac_N_sexualpop;
  Free(main_model_p->infect_ART);
  main_model_p->dim_infect_ART = main_model_p->Ncat;
  main_model_p->infect_ART = (double*) Calloc(main_model_p->dim_infect_ART, double);
  main_model_p->offset_output_infect_ART = main_model_p->offset_output_ART_coverage + main_model_p->dim_ART_coverage;
  Free(main_model_p->prep_offered);
  main_model_p->dim_prep_offered = main_model_p->Ncat;
  main_model_p->prep_offered = (double*) Calloc(main_model_p->dim_prep_offered, double);
  main_model_p->offset_output_prep_offered = main_model_p->offset_output_infect_ART + main_model_p->dim_infect_ART;
  Free(main_model_p->omega);
  main_model_p->dim_omega = main_model_p->Ncat;
  main_model_p->omega = (double*) Calloc(main_model_p->dim_omega, double);
  main_model_p->offset_output_omega = main_model_p->offset_output_prep_offered + main_model_p->dim_prep_offered;
  get_user_array(user, "omega", true, main_model_p->omega, 1, main_model_p->dim_omega);
  Free(main_model_p->frac_N);
  main_model_p->dim_frac_N = main_model_p->Ncat;
  main_model_p->frac_N = (double*) Calloc(main_model_p->dim_frac_N, double);
  main_model_p->offset_output_frac_N = main_model_p->offset_output_omega + main_model_p->dim_omega;
  Free(main_model_p->mu);
  main_model_p->dim_mu = main_model_p->Ncat;
  main_model_p->mu = (double*) Calloc(main_model_p->dim_mu, double);
  main_model_p->offset_output_mu = main_model_p->offset_output_frac_N + main_model_p->dim_frac_N;
  get_user_array(user, "mu", true, main_model_p->mu, 1, main_model_p->dim_mu);
  Free(main_model_p->gamma01);
  main_model_p->dim_gamma01 = main_model_p->Ncat;
  main_model_p->gamma01 = (double*) Calloc(main_model_p->dim_gamma01, double);
  main_model_p->offset_output_gamma01 = main_model_p->offset_output_mu + main_model_p->dim_mu;
  get_user_array(user, "gamma01", true, main_model_p->gamma01, 1, main_model_p->dim_gamma01);
  Free(main_model_p->gamma02);
  main_model_p->dim_gamma02 = main_model_p->Ncat;
  main_model_p->gamma02 = (double*) Calloc(main_model_p->dim_gamma02, double);
  get_user_array(user, "gamma02", true, main_model_p->gamma02, 1, main_model_p->dim_gamma02);
  Free(main_model_p->gamma03);
  main_model_p->dim_gamma03 = main_model_p->Ncat;
  main_model_p->gamma03 = (double*) Calloc(main_model_p->dim_gamma03, double);
  get_user_array(user, "gamma03", true, main_model_p->gamma03, 1, main_model_p->dim_gamma03);
  Free(main_model_p->gamma04);
  main_model_p->dim_gamma04 = main_model_p->Ncat;
  main_model_p->gamma04 = (double*) Calloc(main_model_p->dim_gamma04, double);
  get_user_array(user, "gamma04", true, main_model_p->gamma04, 1, main_model_p->dim_gamma04);
  Free(main_model_p->gamma11);
  main_model_p->dim_gamma11 = main_model_p->Ncat;
  main_model_p->gamma11 = (double*) Calloc(main_model_p->dim_gamma11, double);
  main_model_p->offset_output_gamma11 = main_model_p->offset_output_gamma01 + main_model_p->dim_gamma01;
  get_user_array(user, "gamma11", true, main_model_p->gamma11, 1, main_model_p->dim_gamma11);
  Free(main_model_p->gamma22);
  main_model_p->dim_gamma22 = main_model_p->Ncat;
  main_model_p->gamma22 = (double*) Calloc(main_model_p->dim_gamma22, double);
  get_user_array(user, "gamma22", true, main_model_p->gamma22, 1, main_model_p->dim_gamma22);
  Free(main_model_p->gamma23);
  main_model_p->dim_gamma23 = main_model_p->Ncat;
  main_model_p->gamma23 = (double*) Calloc(main_model_p->dim_gamma23, double);
  get_user_array(user, "gamma23", true, main_model_p->gamma23, 1, main_model_p->dim_gamma23);
  Free(main_model_p->gamma24);
  main_model_p->dim_gamma24 = main_model_p->Ncat;
  main_model_p->gamma24 = (double*) Calloc(main_model_p->dim_gamma24, double);
  get_user_array(user, "gamma24", true, main_model_p->gamma24, 1, main_model_p->dim_gamma24);
  Free(main_model_p->gamma32);
  main_model_p->dim_gamma32 = main_model_p->Ncat;
  main_model_p->gamma32 = (double*) Calloc(main_model_p->dim_gamma32, double);
  main_model_p->offset_output_gamma32 = main_model_p->offset_output_gamma11 + main_model_p->dim_gamma11;
  Free(main_model_p->gamma33);
  main_model_p->dim_gamma33 = main_model_p->Ncat;
  main_model_p->gamma33 = (double*) Calloc(main_model_p->dim_gamma33, double);
  main_model_p->offset_output_gamma33 = main_model_p->offset_output_gamma32 + main_model_p->dim_gamma32;
  Free(main_model_p->gamma34);
  main_model_p->dim_gamma34 = main_model_p->Ncat;
  main_model_p->gamma34 = (double*) Calloc(main_model_p->dim_gamma34, double);
  main_model_p->offset_output_gamma34 = main_model_p->offset_output_gamma33 + main_model_p->dim_gamma33;
  Free(main_model_p->gamma42);
  main_model_p->dim_gamma42 = main_model_p->Ncat;
  main_model_p->gamma42 = (double*) Calloc(main_model_p->dim_gamma42, double);
  get_user_array(user, "gamma42", true, main_model_p->gamma42, 1, main_model_p->dim_gamma42);
  Free(main_model_p->gamma43);
  main_model_p->dim_gamma43 = main_model_p->Ncat;
  main_model_p->gamma43 = (double*) Calloc(main_model_p->dim_gamma43, double);
  get_user_array(user, "gamma43", true, main_model_p->gamma43, 1, main_model_p->dim_gamma43);
  Free(main_model_p->gamma44);
  main_model_p->dim_gamma44 = main_model_p->Ncat;
  main_model_p->gamma44 = (double*) Calloc(main_model_p->dim_gamma44, double);
  get_user_array(user, "gamma44", true, main_model_p->gamma44, 1, main_model_p->dim_gamma44);
  Free(main_model_p->phi2);
  main_model_p->dim_phi2 = main_model_p->Ncat;
  main_model_p->phi2 = (double*) Calloc(main_model_p->dim_phi2, double);
  get_user_array(user, "phi2", true, main_model_p->phi2, 1, main_model_p->dim_phi2);
  Free(main_model_p->phi3);
  main_model_p->dim_phi3 = main_model_p->Ncat;
  main_model_p->phi3 = (double*) Calloc(main_model_p->dim_phi3, double);
  get_user_array(user, "phi3", true, main_model_p->phi3, 1, main_model_p->dim_phi3);
  Free(main_model_p->phi4);
  main_model_p->dim_phi4 = main_model_p->Ncat;
  main_model_p->phi4 = (double*) Calloc(main_model_p->dim_phi4, double);
  get_user_array(user, "phi4", true, main_model_p->phi4, 1, main_model_p->dim_phi4);
  Free(main_model_p->phi5);
  main_model_p->dim_phi5 = main_model_p->Ncat;
  main_model_p->phi5 = (double*) Calloc(main_model_p->dim_phi5, double);
  get_user_array(user, "phi5", true, main_model_p->phi5, 1, main_model_p->dim_phi5);
  Free(main_model_p->psia);
  main_model_p->dim_psia = main_model_p->Ncat;
  main_model_p->psia = (double*) Calloc(main_model_p->dim_psia, double);
  get_user_array(user, "psia", true, main_model_p->psia, 1, main_model_p->dim_psia);
  Free(main_model_p->psib);
  main_model_p->dim_psib = main_model_p->Ncat;
  main_model_p->psib = (double*) Calloc(main_model_p->dim_psib, double);
  get_user_array(user, "psib", true, main_model_p->psib, 1, main_model_p->dim_psib);
  Free(main_model_p->kappaa);
  main_model_p->dim_kappaa = main_model_p->Ncat;
  main_model_p->kappaa = (double*) Calloc(main_model_p->dim_kappaa, double);
  main_model_p->offset_output_kappaa = main_model_p->offset_output_gamma34 + main_model_p->dim_gamma34;
  get_user_array(user, "kappaa", true, main_model_p->kappaa, 1, main_model_p->dim_kappaa);
  Free(main_model_p->kappab);
  main_model_p->dim_kappab = main_model_p->Ncat;
  main_model_p->kappab = (double*) Calloc(main_model_p->dim_kappab, double);
  main_model_p->offset_output_kappab = main_model_p->offset_output_kappaa + main_model_p->dim_kappaa;
  get_user_array(user, "kappab", true, main_model_p->kappab, 1, main_model_p->dim_kappab);
  Free(main_model_p->kappac);
  main_model_p->dim_kappac = main_model_p->Ncat;
  main_model_p->kappac = (double*) Calloc(main_model_p->dim_kappac, double);
  main_model_p->offset_output_kappac = main_model_p->offset_output_kappab + main_model_p->dim_kappab;
  get_user_array(user, "kappac", true, main_model_p->kappac, 1, main_model_p->dim_kappac);
  Free(main_model_p->kappa1);
  main_model_p->dim_kappa1 = main_model_p->Ncat;
  main_model_p->kappa1 = (double*) Calloc(main_model_p->dim_kappa1, double);
  main_model_p->offset_output_kappa1 = main_model_p->offset_output_kappac + main_model_p->dim_kappac;
  get_user_array(user, "kappa1", true, main_model_p->kappa1, 1, main_model_p->dim_kappa1);
  Free(main_model_p->alpha01);
  main_model_p->dim_alpha01 = main_model_p->Ncat;
  main_model_p->alpha01 = (double*) Calloc(main_model_p->dim_alpha01, double);
  main_model_p->offset_output_alpha01 = main_model_p->offset_output_kappa1 + main_model_p->dim_kappa1;
  get_user_array(user, "alpha01", true, main_model_p->alpha01, 1, main_model_p->dim_alpha01);
  Free(main_model_p->alpha02);
  main_model_p->dim_alpha02 = main_model_p->Ncat;
  main_model_p->alpha02 = (double*) Calloc(main_model_p->dim_alpha02, double);
  main_model_p->offset_output_alpha02 = main_model_p->offset_output_alpha01 + main_model_p->dim_alpha01;
  get_user_array(user, "alpha02", true, main_model_p->alpha02, 1, main_model_p->dim_alpha02);
  Free(main_model_p->alpha03);
  main_model_p->dim_alpha03 = main_model_p->Ncat;
  main_model_p->alpha03 = (double*) Calloc(main_model_p->dim_alpha03, double);
  get_user_array(user, "alpha03", true, main_model_p->alpha03, 1, main_model_p->dim_alpha03);
  Free(main_model_p->alpha04);
  main_model_p->dim_alpha04 = main_model_p->Ncat;
  main_model_p->alpha04 = (double*) Calloc(main_model_p->dim_alpha04, double);
  get_user_array(user, "alpha04", true, main_model_p->alpha04, 1, main_model_p->dim_alpha04);
  Free(main_model_p->alpha05);
  main_model_p->dim_alpha05 = main_model_p->Ncat;
  main_model_p->alpha05 = (double*) Calloc(main_model_p->dim_alpha05, double);
  main_model_p->offset_output_alpha05 = main_model_p->offset_output_alpha02 + main_model_p->dim_alpha02;
  get_user_array(user, "alpha05", true, main_model_p->alpha05, 1, main_model_p->dim_alpha05);
  Free(main_model_p->alpha11);
  main_model_p->dim_alpha11 = main_model_p->Ncat;
  main_model_p->alpha11 = (double*) Calloc(main_model_p->dim_alpha11, double);
  main_model_p->offset_output_alpha11 = main_model_p->offset_output_alpha05 + main_model_p->dim_alpha05;
  get_user_array(user, "alpha11", true, main_model_p->alpha11, 1, main_model_p->dim_alpha11);
  Free(main_model_p->alpha22);
  main_model_p->dim_alpha22 = main_model_p->Ncat;
  main_model_p->alpha22 = (double*) Calloc(main_model_p->dim_alpha22, double);
  main_model_p->offset_output_alpha22 = main_model_p->offset_output_alpha11 + main_model_p->dim_alpha11;
  get_user_array(user, "alpha22", true, main_model_p->alpha22, 1, main_model_p->dim_alpha22);
  Free(main_model_p->alpha23);
  main_model_p->dim_alpha23 = main_model_p->Ncat;
  main_model_p->alpha23 = (double*) Calloc(main_model_p->dim_alpha23, double);
  get_user_array(user, "alpha23", true, main_model_p->alpha23, 1, main_model_p->dim_alpha23);
  Free(main_model_p->alpha24);
  main_model_p->dim_alpha24 = main_model_p->Ncat;
  main_model_p->alpha24 = (double*) Calloc(main_model_p->dim_alpha24, double);
  get_user_array(user, "alpha24", true, main_model_p->alpha24, 1, main_model_p->dim_alpha24);
  Free(main_model_p->alpha25);
  main_model_p->dim_alpha25 = main_model_p->Ncat;
  main_model_p->alpha25 = (double*) Calloc(main_model_p->dim_alpha25, double);
  get_user_array(user, "alpha25", true, main_model_p->alpha25, 1, main_model_p->dim_alpha25);
  Free(main_model_p->alpha32);
  main_model_p->dim_alpha32 = main_model_p->Ncat;
  main_model_p->alpha32 = (double*) Calloc(main_model_p->dim_alpha32, double);
  get_user_array(user, "alpha32", true, main_model_p->alpha32, 1, main_model_p->dim_alpha32);
  Free(main_model_p->alpha33);
  main_model_p->dim_alpha33 = main_model_p->Ncat;
  main_model_p->alpha33 = (double*) Calloc(main_model_p->dim_alpha33, double);
  main_model_p->offset_output_alpha33 = main_model_p->offset_output_alpha22 + main_model_p->dim_alpha22;
  Free(main_model_p->alpha34);
  main_model_p->dim_alpha34 = main_model_p->Ncat;
  main_model_p->alpha34 = (double*) Calloc(main_model_p->dim_alpha34, double);
  main_model_p->offset_output_alpha34 = main_model_p->offset_output_alpha33 + main_model_p->dim_alpha33;
  Free(main_model_p->alpha35);
  main_model_p->dim_alpha35 = main_model_p->Ncat;
  main_model_p->alpha35 = (double*) Calloc(main_model_p->dim_alpha35, double);
  main_model_p->offset_output_alpha35 = main_model_p->offset_output_alpha34 + main_model_p->dim_alpha34;
  Free(main_model_p->alpha42);
  main_model_p->dim_alpha42 = main_model_p->Ncat;
  main_model_p->alpha42 = (double*) Calloc(main_model_p->dim_alpha42, double);
  get_user_array(user, "alpha42", true, main_model_p->alpha42, 1, main_model_p->dim_alpha42);
  Free(main_model_p->alpha43);
  main_model_p->dim_alpha43 = main_model_p->Ncat;
  main_model_p->alpha43 = (double*) Calloc(main_model_p->dim_alpha43, double);
  get_user_array(user, "alpha43", true, main_model_p->alpha43, 1, main_model_p->dim_alpha43);
  Free(main_model_p->alpha44);
  main_model_p->dim_alpha44 = main_model_p->Ncat;
  main_model_p->alpha44 = (double*) Calloc(main_model_p->dim_alpha44, double);
  get_user_array(user, "alpha44", true, main_model_p->alpha44, 1, main_model_p->dim_alpha44);
  Free(main_model_p->alpha45);
  main_model_p->dim_alpha45 = main_model_p->Ncat;
  main_model_p->alpha45 = (double*) Calloc(main_model_p->dim_alpha45, double);
  get_user_array(user, "alpha45", true, main_model_p->alpha45, 1, main_model_p->dim_alpha45);
  Free(main_model_p->beta_comm);
  main_model_p->dim_beta_comm = main_model_p->Ncat;
  main_model_p->beta_comm = (double*) Calloc(main_model_p->dim_beta_comm, double);
  main_model_p->offset_output_beta_comm = main_model_p->offset_output_alpha35 + main_model_p->dim_alpha35;
  get_user_array(user, "beta_comm", true, main_model_p->beta_comm, 1, main_model_p->dim_beta_comm);
  Free(main_model_p->beta_noncomm);
  main_model_p->dim_beta_noncomm = main_model_p->Ncat;
  main_model_p->beta_noncomm = (double*) Calloc(main_model_p->dim_beta_noncomm, double);
  main_model_p->offset_output_beta_noncomm = main_model_p->offset_output_beta_comm + main_model_p->dim_beta_comm;
  get_user_array(user, "beta_noncomm", true, main_model_p->beta_noncomm, 1, main_model_p->dim_beta_noncomm);
  Free(main_model_p->p_comm);
  main_model_p->dim_p_comm_1 = main_model_p->Ncat;
  main_model_p->dim_p_comm_2 = main_model_p->Ncat;
  main_model_p->dim_p_comm = main_model_p->dim_p_comm_1 * main_model_p->dim_p_comm_2;
  main_model_p->p_comm = (double*) Calloc(main_model_p->dim_p_comm, double);
  main_model_p->offset_output_p_comm = main_model_p->offset_output_beta_noncomm + main_model_p->dim_beta_noncomm;
  Free(main_model_p->p_noncomm);
  main_model_p->dim_p_noncomm_1 = main_model_p->Ncat;
  main_model_p->dim_p_noncomm_2 = main_model_p->Ncat;
  main_model_p->dim_p_noncomm = main_model_p->dim_p_noncomm_1 * main_model_p->dim_p_noncomm_2;
  main_model_p->p_noncomm = (double*) Calloc(main_model_p->dim_p_noncomm, double);
  main_model_p->offset_output_p_noncomm = main_model_p->offset_output_p_comm + main_model_p->dim_p_comm;
  Free(main_model_p->ec);
  main_model_p->dim_ec = main_model_p->Ncat;
  main_model_p->ec = (double*) Calloc(main_model_p->dim_ec, double);
  get_user_array(user, "ec", true, main_model_p->ec, 1, main_model_p->dim_ec);
  Free(main_model_p->eP);
  main_model_p->dim_eP = main_model_p->Ncat;
  main_model_p->eP = (double*) Calloc(main_model_p->dim_eP, double);
  get_user_array(user, "eP", true, main_model_p->eP, 1, main_model_p->dim_eP);
  Free(main_model_p->eP0);
  main_model_p->dim_eP0 = main_model_p->Ncat;
  main_model_p->eP0 = (double*) Calloc(main_model_p->dim_eP0, double);
  main_model_p->offset_output_eP0 = main_model_p->offset_output_p_noncomm + main_model_p->dim_p_noncomm;
  get_user_array(user, "eP0", true, main_model_p->eP0, 1, main_model_p->dim_eP0);
  Free(main_model_p->eP1a);
  main_model_p->dim_eP1a = main_model_p->Ncat;
  main_model_p->eP1a = (double*) Calloc(main_model_p->dim_eP1a, double);
  main_model_p->offset_output_eP1a = main_model_p->offset_output_eP0 + main_model_p->dim_eP0;
  get_user_array(user, "eP1a", true, main_model_p->eP1a, 1, main_model_p->dim_eP1a);
  Free(main_model_p->eP1b);
  main_model_p->dim_eP1b = main_model_p->Ncat;
  main_model_p->eP1b = (double*) Calloc(main_model_p->dim_eP1b, double);
  main_model_p->offset_output_eP1b = main_model_p->offset_output_eP1a + main_model_p->dim_eP1a;
  get_user_array(user, "eP1b", true, main_model_p->eP1b, 1, main_model_p->dim_eP1b);
  Free(main_model_p->eP1c);
  main_model_p->dim_eP1c = main_model_p->Ncat;
  main_model_p->eP1c = (double*) Calloc(main_model_p->dim_eP1c, double);
  main_model_p->offset_output_eP1c = main_model_p->offset_output_eP1b + main_model_p->dim_eP1b;
  get_user_array(user, "eP1c", true, main_model_p->eP1c, 1, main_model_p->dim_eP1c);
  Free(main_model_p->eP1d);
  main_model_p->dim_eP1d = main_model_p->Ncat;
  main_model_p->eP1d = (double*) Calloc(main_model_p->dim_eP1d, double);
  main_model_p->offset_output_eP1d = main_model_p->offset_output_eP1c + main_model_p->dim_eP1c;
  get_user_array(user, "eP1d", true, main_model_p->eP1d, 1, main_model_p->dim_eP1d);
  Free(main_model_p->fc_comm);
  main_model_p->dim_fc_comm_1 = main_model_p->Ncat;
  main_model_p->dim_fc_comm_2 = main_model_p->Ncat;
  main_model_p->dim_fc_comm = main_model_p->dim_fc_comm_1 * main_model_p->dim_fc_comm_2;
  main_model_p->fc_comm = (double*) Calloc(main_model_p->dim_fc_comm, double);
  main_model_p->offset_output_fc_comm = main_model_p->offset_output_eP1d + main_model_p->dim_eP1d;
  Free(main_model_p->fP_comm);
  main_model_p->dim_fP_comm = main_model_p->Ncat;
  main_model_p->fP_comm = (double*) Calloc(main_model_p->dim_fP_comm, double);
  main_model_p->offset_output_fP_comm = main_model_p->offset_output_fc_comm + main_model_p->dim_fc_comm;
  Free(main_model_p->fc_noncomm);
  main_model_p->dim_fc_noncomm_1 = main_model_p->Ncat;
  main_model_p->dim_fc_noncomm_2 = main_model_p->Ncat;
  main_model_p->dim_fc_noncomm = main_model_p->dim_fc_noncomm_1 * main_model_p->dim_fc_noncomm_2;
  main_model_p->fc_noncomm = (double*) Calloc(main_model_p->dim_fc_noncomm, double);
  main_model_p->offset_output_fc_noncomm = main_model_p->offset_output_fP_comm + main_model_p->dim_fP_comm;
  Free(main_model_p->fP_noncomm);
  main_model_p->dim_fP_noncomm = main_model_p->Ncat;
  main_model_p->fP_noncomm = (double*) Calloc(main_model_p->dim_fP_noncomm, double);
  main_model_p->offset_output_fP_noncomm = main_model_p->offset_output_fc_noncomm + main_model_p->dim_fc_noncomm;
  Free(main_model_p->n_comm);
  main_model_p->dim_n_comm_1 = main_model_p->Ncat;
  main_model_p->dim_n_comm_2 = main_model_p->Ncat;
  main_model_p->dim_n_comm = main_model_p->dim_n_comm_1 * main_model_p->dim_n_comm_2;
  main_model_p->n_comm = (double*) Calloc(main_model_p->dim_n_comm, double);
  main_model_p->offset_output_n_comm = main_model_p->offset_output_fP_noncomm + main_model_p->dim_fP_noncomm;
  Free(main_model_p->n_noncomm);
  main_model_p->dim_n_noncomm_1 = main_model_p->Ncat;
  main_model_p->dim_n_noncomm_2 = main_model_p->Ncat;
  main_model_p->dim_n_noncomm = main_model_p->dim_n_noncomm_1 * main_model_p->dim_n_noncomm_2;
  main_model_p->n_noncomm = (double*) Calloc(main_model_p->dim_n_noncomm, double);
  main_model_p->offset_output_n_noncomm = main_model_p->offset_output_n_comm + main_model_p->dim_n_comm;
  Free(main_model_p->initial_cumuHIVDeaths);
  main_model_p->dim_cumuHIVDeaths = main_model_p->Ncat;
  main_model_p->initial_cumuHIVDeaths = (double*) Calloc(main_model_p->dim_cumuHIVDeaths, double);
  main_model_p->offset_cumuHIVDeaths = main_model_p->offset_S1d_infections + main_model_p->dim_S1d_infections;
  for (int i = 0; i < main_model_p->dim_cumuHIVDeaths; ++i) {
    main_model_p->initial_cumuHIVDeaths[i] = 0;
  }
  Free(main_model_p->initial_cumuARTinitiations);
  main_model_p->dim_cumuARTinitiations = main_model_p->Ncat;
  main_model_p->initial_cumuARTinitiations = (double*) Calloc(main_model_p->dim_cumuARTinitiations, double);
  main_model_p->offset_cumuARTinitiations = main_model_p->offset_cumuHIVDeaths + main_model_p->dim_cumuHIVDeaths;
  for (int i = 0; i < main_model_p->dim_cumuARTinitiations; ++i) {
    main_model_p->initial_cumuARTinitiations[i] = 0;
  }
  Free(main_model_p->initial_TasPinitiations);
  main_model_p->dim_TasPinitiations = main_model_p->Ncat;
  main_model_p->initial_TasPinitiations = (double*) Calloc(main_model_p->dim_TasPinitiations, double);
  main_model_p->offset_TasPinitiations = main_model_p->offset_cumuARTinitiations + main_model_p->dim_cumuARTinitiations;
  for (int i = 0; i < main_model_p->dim_TasPinitiations; ++i) {
    main_model_p->initial_TasPinitiations[i] = 0;
  }
  Free(main_model_p->initial_cumuARTREinitiations);
  main_model_p->dim_cumuARTREinitiations = main_model_p->Ncat;
  main_model_p->initial_cumuARTREinitiations = (double*) Calloc(main_model_p->dim_cumuARTREinitiations, double);
  main_model_p->offset_cumuARTREinitiations = main_model_p->offset_TasPinitiations + main_model_p->dim_TasPinitiations;
  for (int i = 0; i < main_model_p->dim_cumuARTREinitiations; ++i) {
    main_model_p->initial_cumuARTREinitiations[i] = 0;
  }
  Free(main_model_p->initial_dropouts);
  main_model_p->dim_dropouts = main_model_p->Ncat;
  main_model_p->initial_dropouts = (double*) Calloc(main_model_p->dim_dropouts, double);
  main_model_p->offset_dropouts = main_model_p->offset_cumuARTREinitiations + main_model_p->dim_cumuARTREinitiations;
  for (int i = 0; i < main_model_p->dim_dropouts; ++i) {
    main_model_p->initial_dropouts[i] = 0;
  }
  Free(main_model_p->initial_cumuAllDeaths);
  main_model_p->dim_cumuAllDeaths = main_model_p->Ncat;
  main_model_p->initial_cumuAllDeaths = (double*) Calloc(main_model_p->dim_cumuAllDeaths, double);
  main_model_p->offset_cumuAllDeaths = main_model_p->offset_dropouts + main_model_p->dim_dropouts;
  for (int i = 0; i < main_model_p->dim_cumuAllDeaths; ++i) {
    main_model_p->initial_cumuAllDeaths[i] = 0;
  }
  Free(main_model_p->initial_cumuInf);
  main_model_p->dim_cumuInf = main_model_p->Ncat;
  main_model_p->initial_cumuInf = (double*) Calloc(main_model_p->dim_cumuInf, double);
  main_model_p->offset_cumuInf = main_model_p->offset_cumuAllDeaths + main_model_p->dim_cumuAllDeaths;
  Free(main_model_p->initial_PrEPinitiations);
  main_model_p->dim_PrEPinitiations = main_model_p->Ncat;
  main_model_p->initial_PrEPinitiations = (double*) Calloc(main_model_p->dim_PrEPinitiations, double);
  main_model_p->offset_PrEPinitiations = main_model_p->offset_cumuInf + main_model_p->dim_cumuInf;
  Free(main_model_p->initial_PrEPinitiations1a);
  main_model_p->dim_PrEPinitiations1a = main_model_p->Ncat;
  main_model_p->initial_PrEPinitiations1a = (double*) Calloc(main_model_p->dim_PrEPinitiations1a, double);
  main_model_p->offset_PrEPinitiations1a = main_model_p->offset_PrEPinitiations + main_model_p->dim_PrEPinitiations;
  for (int i = 0; i < main_model_p->dim_PrEPinitiations1a; ++i) {
    main_model_p->initial_PrEPinitiations1a[i] = 0;
  }
  Free(main_model_p->initial_PrEPinitiations1b);
  main_model_p->dim_PrEPinitiations1b = main_model_p->Ncat;
  main_model_p->initial_PrEPinitiations1b = (double*) Calloc(main_model_p->dim_PrEPinitiations1b, double);
  main_model_p->offset_PrEPinitiations1b = main_model_p->offset_PrEPinitiations1a + main_model_p->dim_PrEPinitiations1a;
  for (int i = 0; i < main_model_p->dim_PrEPinitiations1b; ++i) {
    main_model_p->initial_PrEPinitiations1b[i] = 0;
  }
  Free(main_model_p->initial_PrEPinitiations1c);
  main_model_p->dim_PrEPinitiations1c = main_model_p->Ncat;
  main_model_p->initial_PrEPinitiations1c = (double*) Calloc(main_model_p->dim_PrEPinitiations1c, double);
  main_model_p->offset_PrEPinitiations1c = main_model_p->offset_PrEPinitiations1b + main_model_p->dim_PrEPinitiations1b;
  for (int i = 0; i < main_model_p->dim_PrEPinitiations1c; ++i) {
    main_model_p->initial_PrEPinitiations1c[i] = 0;
  }
  Free(main_model_p->initial_S0);
  main_model_p->dim_S0 = main_model_p->Ncat;
  main_model_p->initial_S0 = (double*) Calloc(main_model_p->dim_S0, double);
  main_model_p->offset_S0 = main_model_p->offset_PrEPinitiations1c + main_model_p->dim_PrEPinitiations1c;
  Free(main_model_p->initial_S1a);
  main_model_p->dim_S1a = main_model_p->Ncat;
  main_model_p->initial_S1a = (double*) Calloc(main_model_p->dim_S1a, double);
  main_model_p->offset_S1a = main_model_p->offset_S0 + main_model_p->dim_S0;
  Free(main_model_p->initial_S1b);
  main_model_p->dim_S1b = main_model_p->Ncat;
  main_model_p->initial_S1b = (double*) Calloc(main_model_p->dim_S1b, double);
  main_model_p->offset_S1b = main_model_p->offset_S1a + main_model_p->dim_S1a;
  Free(main_model_p->initial_S1c);
  main_model_p->dim_S1c = main_model_p->Ncat;
  main_model_p->initial_S1c = (double*) Calloc(main_model_p->dim_S1c, double);
  main_model_p->offset_S1c = main_model_p->offset_S1b + main_model_p->dim_S1b;
  Free(main_model_p->initial_S1d);
  main_model_p->dim_S1d = main_model_p->Ncat;
  main_model_p->initial_S1d = (double*) Calloc(main_model_p->dim_S1d, double);
  main_model_p->offset_S1d = main_model_p->offset_S1c + main_model_p->dim_S1c;
  Free(main_model_p->initial_I01);
  main_model_p->dim_I01 = main_model_p->Ncat;
  main_model_p->initial_I01 = (double*) Calloc(main_model_p->dim_I01, double);
  main_model_p->offset_I01 = main_model_p->offset_S1d + main_model_p->dim_S1d;
  Free(main_model_p->initial_I11);
  main_model_p->dim_I11 = main_model_p->Ncat;
  main_model_p->initial_I11 = (double*) Calloc(main_model_p->dim_I11, double);
  main_model_p->offset_I11 = main_model_p->offset_I01 + main_model_p->dim_I01;
  Free(main_model_p->initial_I02);
  main_model_p->dim_I02 = main_model_p->Ncat;
  main_model_p->initial_I02 = (double*) Calloc(main_model_p->dim_I02, double);
  main_model_p->offset_I02 = main_model_p->offset_I11 + main_model_p->dim_I11;
  Free(main_model_p->initial_I03);
  main_model_p->dim_I03 = main_model_p->Ncat;
  main_model_p->initial_I03 = (double*) Calloc(main_model_p->dim_I03, double);
  main_model_p->offset_I03 = main_model_p->offset_I02 + main_model_p->dim_I02;
  Free(main_model_p->initial_I04);
  main_model_p->dim_I04 = main_model_p->Ncat;
  main_model_p->initial_I04 = (double*) Calloc(main_model_p->dim_I04, double);
  main_model_p->offset_I04 = main_model_p->offset_I03 + main_model_p->dim_I03;
  Free(main_model_p->initial_I05);
  main_model_p->dim_I05 = main_model_p->Ncat;
  main_model_p->initial_I05 = (double*) Calloc(main_model_p->dim_I05, double);
  main_model_p->offset_I05 = main_model_p->offset_I04 + main_model_p->dim_I04;
  Free(main_model_p->initial_I22);
  main_model_p->dim_I22 = main_model_p->Ncat;
  main_model_p->initial_I22 = (double*) Calloc(main_model_p->dim_I22, double);
  main_model_p->offset_I22 = main_model_p->offset_I05 + main_model_p->dim_I05;
  Free(main_model_p->initial_I23);
  main_model_p->dim_I23 = main_model_p->Ncat;
  main_model_p->initial_I23 = (double*) Calloc(main_model_p->dim_I23, double);
  main_model_p->offset_I23 = main_model_p->offset_I22 + main_model_p->dim_I22;
  Free(main_model_p->initial_I24);
  main_model_p->dim_I24 = main_model_p->Ncat;
  main_model_p->initial_I24 = (double*) Calloc(main_model_p->dim_I24, double);
  main_model_p->offset_I24 = main_model_p->offset_I23 + main_model_p->dim_I23;
  Free(main_model_p->initial_I25);
  main_model_p->dim_I25 = main_model_p->Ncat;
  main_model_p->initial_I25 = (double*) Calloc(main_model_p->dim_I25, double);
  main_model_p->offset_I25 = main_model_p->offset_I24 + main_model_p->dim_I24;
  Free(main_model_p->initial_I32);
  main_model_p->dim_I32 = main_model_p->Ncat;
  main_model_p->initial_I32 = (double*) Calloc(main_model_p->dim_I32, double);
  main_model_p->offset_I32 = main_model_p->offset_I25 + main_model_p->dim_I25;
  Free(main_model_p->initial_I33);
  main_model_p->dim_I33 = main_model_p->Ncat;
  main_model_p->initial_I33 = (double*) Calloc(main_model_p->dim_I33, double);
  main_model_p->offset_I33 = main_model_p->offset_I32 + main_model_p->dim_I32;
  Free(main_model_p->initial_I34);
  main_model_p->dim_I34 = main_model_p->Ncat;
  main_model_p->initial_I34 = (double*) Calloc(main_model_p->dim_I34, double);
  main_model_p->offset_I34 = main_model_p->offset_I33 + main_model_p->dim_I33;
  Free(main_model_p->initial_I35);
  main_model_p->dim_I35 = main_model_p->Ncat;
  main_model_p->initial_I35 = (double*) Calloc(main_model_p->dim_I35, double);
  main_model_p->offset_I35 = main_model_p->offset_I34 + main_model_p->dim_I34;
  Free(main_model_p->initial_I42);
  main_model_p->dim_I42 = main_model_p->Ncat;
  main_model_p->initial_I42 = (double*) Calloc(main_model_p->dim_I42, double);
  main_model_p->offset_I42 = main_model_p->offset_I35 + main_model_p->dim_I35;
  Free(main_model_p->initial_I43);
  main_model_p->dim_I43 = main_model_p->Ncat;
  main_model_p->initial_I43 = (double*) Calloc(main_model_p->dim_I43, double);
  main_model_p->offset_I43 = main_model_p->offset_I42 + main_model_p->dim_I42;
  Free(main_model_p->initial_I44);
  main_model_p->dim_I44 = main_model_p->Ncat;
  main_model_p->initial_I44 = (double*) Calloc(main_model_p->dim_I44, double);
  main_model_p->offset_I44 = main_model_p->offset_I43 + main_model_p->dim_I43;
  Free(main_model_p->initial_I45);
  main_model_p->dim_I45 = main_model_p->Ncat;
  main_model_p->initial_I45 = (double*) Calloc(main_model_p->dim_I45, double);
  main_model_p->offset_I45 = main_model_p->offset_I44 + main_model_p->dim_I44;
  Free(main_model_p->S0_init);
  main_model_p->dim_S0_init = main_model_p->Ncat;
  main_model_p->S0_init = (double*) Calloc(main_model_p->dim_S0_init, double);
  get_user_array(user, "S0_init", true, main_model_p->S0_init, 1, main_model_p->dim_S0_init);
  for (int i = 0; i < main_model_p->dim_S0; ++i) {
    main_model_p->initial_S0[i] = main_model_p->S0_init[i];
  }
  Free(main_model_p->S1a_init);
  main_model_p->dim_S1a_init = main_model_p->Ncat;
  main_model_p->S1a_init = (double*) Calloc(main_model_p->dim_S1a_init, double);
  get_user_array(user, "S1a_init", true, main_model_p->S1a_init, 1, main_model_p->dim_S1a_init);
  for (int i = 0; i < main_model_p->dim_S1a; ++i) {
    main_model_p->initial_S1a[i] = main_model_p->S1a_init[i];
  }
  Free(main_model_p->S1b_init);
  main_model_p->dim_S1b_init = main_model_p->Ncat;
  main_model_p->S1b_init = (double*) Calloc(main_model_p->dim_S1b_init, double);
  get_user_array(user, "S1b_init", true, main_model_p->S1b_init, 1, main_model_p->dim_S1b_init);
  for (int i = 0; i < main_model_p->dim_S1b; ++i) {
    main_model_p->initial_S1b[i] = main_model_p->S1b_init[i];
  }
  Free(main_model_p->S1c_init);
  main_model_p->dim_S1c_init = main_model_p->Ncat;
  main_model_p->S1c_init = (double*) Calloc(main_model_p->dim_S1c_init, double);
  get_user_array(user, "S1c_init", true, main_model_p->S1c_init, 1, main_model_p->dim_S1c_init);
  for (int i = 0; i < main_model_p->dim_S1c; ++i) {
    main_model_p->initial_S1c[i] = main_model_p->S1c_init[i];
  }
  Free(main_model_p->S1d_init);
  main_model_p->dim_S1d_init = main_model_p->Ncat;
  main_model_p->S1d_init = (double*) Calloc(main_model_p->dim_S1d_init, double);
  get_user_array(user, "S1d_init", true, main_model_p->S1d_init, 1, main_model_p->dim_S1d_init);
  for (int i = 0; i < main_model_p->dim_S1d; ++i) {
    main_model_p->initial_S1d[i] = main_model_p->S1d_init[i];
  }
  Free(main_model_p->I01_init);
  main_model_p->dim_I01_init = main_model_p->Ncat;
  main_model_p->I01_init = (double*) Calloc(main_model_p->dim_I01_init, double);
  get_user_array(user, "I01_init", true, main_model_p->I01_init, 1, main_model_p->dim_I01_init);
  for (int i = 0; i < main_model_p->dim_I01; ++i) {
    main_model_p->initial_I01[i] = main_model_p->I01_init[i];
  }
  Free(main_model_p->I11_init);
  main_model_p->dim_I11_init = main_model_p->Ncat;
  main_model_p->I11_init = (double*) Calloc(main_model_p->dim_I11_init, double);
  get_user_array(user, "I11_init", true, main_model_p->I11_init, 1, main_model_p->dim_I11_init);
  for (int i = 0; i < main_model_p->dim_I11; ++i) {
    main_model_p->initial_I11[i] = main_model_p->I11_init[i];
  }
  Free(main_model_p->I02_init);
  main_model_p->dim_I02_init = main_model_p->Ncat;
  main_model_p->I02_init = (double*) Calloc(main_model_p->dim_I02_init, double);
  get_user_array(user, "I02_init", true, main_model_p->I02_init, 1, main_model_p->dim_I02_init);
  for (int i = 0; i < main_model_p->dim_I02; ++i) {
    main_model_p->initial_I02[i] = main_model_p->I02_init[i];
  }
  Free(main_model_p->I03_init);
  main_model_p->dim_I03_init = main_model_p->Ncat;
  main_model_p->I03_init = (double*) Calloc(main_model_p->dim_I03_init, double);
  get_user_array(user, "I03_init", true, main_model_p->I03_init, 1, main_model_p->dim_I03_init);
  for (int i = 0; i < main_model_p->dim_I03; ++i) {
    main_model_p->initial_I03[i] = main_model_p->I03_init[i];
  }
  Free(main_model_p->I04_init);
  main_model_p->dim_I04_init = main_model_p->Ncat;
  main_model_p->I04_init = (double*) Calloc(main_model_p->dim_I04_init, double);
  get_user_array(user, "I04_init", true, main_model_p->I04_init, 1, main_model_p->dim_I04_init);
  for (int i = 0; i < main_model_p->dim_I04; ++i) {
    main_model_p->initial_I04[i] = main_model_p->I04_init[i];
  }
  Free(main_model_p->I05_init);
  main_model_p->dim_I05_init = main_model_p->Ncat;
  main_model_p->I05_init = (double*) Calloc(main_model_p->dim_I05_init, double);
  get_user_array(user, "I05_init", true, main_model_p->I05_init, 1, main_model_p->dim_I05_init);
  for (int i = 0; i < main_model_p->dim_I05; ++i) {
    main_model_p->initial_I05[i] = main_model_p->I05_init[i];
  }
  Free(main_model_p->I22_init);
  main_model_p->dim_I22_init = main_model_p->Ncat;
  main_model_p->I22_init = (double*) Calloc(main_model_p->dim_I22_init, double);
  get_user_array(user, "I22_init", true, main_model_p->I22_init, 1, main_model_p->dim_I22_init);
  for (int i = 0; i < main_model_p->dim_I22; ++i) {
    main_model_p->initial_I22[i] = main_model_p->I22_init[i];
  }
  Free(main_model_p->I23_init);
  main_model_p->dim_I23_init = main_model_p->Ncat;
  main_model_p->I23_init = (double*) Calloc(main_model_p->dim_I23_init, double);
  get_user_array(user, "I23_init", true, main_model_p->I23_init, 1, main_model_p->dim_I23_init);
  for (int i = 0; i < main_model_p->dim_I23; ++i) {
    main_model_p->initial_I23[i] = main_model_p->I23_init[i];
  }
  Free(main_model_p->I24_init);
  main_model_p->dim_I24_init = main_model_p->Ncat;
  main_model_p->I24_init = (double*) Calloc(main_model_p->dim_I24_init, double);
  get_user_array(user, "I24_init", true, main_model_p->I24_init, 1, main_model_p->dim_I24_init);
  for (int i = 0; i < main_model_p->dim_I24; ++i) {
    main_model_p->initial_I24[i] = main_model_p->I24_init[i];
  }
  Free(main_model_p->I25_init);
  main_model_p->dim_I25_init = main_model_p->Ncat;
  main_model_p->I25_init = (double*) Calloc(main_model_p->dim_I25_init, double);
  get_user_array(user, "I25_init", true, main_model_p->I25_init, 1, main_model_p->dim_I25_init);
  for (int i = 0; i < main_model_p->dim_I25; ++i) {
    main_model_p->initial_I25[i] = main_model_p->I25_init[i];
  }
  Free(main_model_p->I32_init);
  main_model_p->dim_I32_init = main_model_p->Ncat;
  main_model_p->I32_init = (double*) Calloc(main_model_p->dim_I32_init, double);
  get_user_array(user, "I32_init", true, main_model_p->I32_init, 1, main_model_p->dim_I32_init);
  for (int i = 0; i < main_model_p->dim_I32; ++i) {
    main_model_p->initial_I32[i] = main_model_p->I32_init[i];
  }
  Free(main_model_p->I33_init);
  main_model_p->dim_I33_init = main_model_p->Ncat;
  main_model_p->I33_init = (double*) Calloc(main_model_p->dim_I33_init, double);
  get_user_array(user, "I33_init", true, main_model_p->I33_init, 1, main_model_p->dim_I33_init);
  for (int i = 0; i < main_model_p->dim_I33; ++i) {
    main_model_p->initial_I33[i] = main_model_p->I33_init[i];
  }
  Free(main_model_p->I34_init);
  main_model_p->dim_I34_init = main_model_p->Ncat;
  main_model_p->I34_init = (double*) Calloc(main_model_p->dim_I34_init, double);
  get_user_array(user, "I34_init", true, main_model_p->I34_init, 1, main_model_p->dim_I34_init);
  for (int i = 0; i < main_model_p->dim_I34; ++i) {
    main_model_p->initial_I34[i] = main_model_p->I34_init[i];
  }
  Free(main_model_p->I35_init);
  main_model_p->dim_I35_init = main_model_p->Ncat;
  main_model_p->I35_init = (double*) Calloc(main_model_p->dim_I35_init, double);
  get_user_array(user, "I35_init", true, main_model_p->I35_init, 1, main_model_p->dim_I35_init);
  for (int i = 0; i < main_model_p->dim_I35; ++i) {
    main_model_p->initial_I35[i] = main_model_p->I35_init[i];
  }
  Free(main_model_p->I42_init);
  main_model_p->dim_I42_init = main_model_p->Ncat;
  main_model_p->I42_init = (double*) Calloc(main_model_p->dim_I42_init, double);
  get_user_array(user, "I42_init", true, main_model_p->I42_init, 1, main_model_p->dim_I42_init);
  for (int i = 0; i < main_model_p->dim_I42; ++i) {
    main_model_p->initial_I42[i] = main_model_p->I42_init[i];
  }
  Free(main_model_p->I43_init);
  main_model_p->dim_I43_init = main_model_p->Ncat;
  main_model_p->I43_init = (double*) Calloc(main_model_p->dim_I43_init, double);
  get_user_array(user, "I43_init", true, main_model_p->I43_init, 1, main_model_p->dim_I43_init);
  for (int i = 0; i < main_model_p->dim_I43; ++i) {
    main_model_p->initial_I43[i] = main_model_p->I43_init[i];
  }
  Free(main_model_p->I44_init);
  main_model_p->dim_I44_init = main_model_p->Ncat;
  main_model_p->I44_init = (double*) Calloc(main_model_p->dim_I44_init, double);
  get_user_array(user, "I44_init", true, main_model_p->I44_init, 1, main_model_p->dim_I44_init);
  for (int i = 0; i < main_model_p->dim_I44; ++i) {
    main_model_p->initial_I44[i] = main_model_p->I44_init[i];
  }
  Free(main_model_p->I45_init);
  main_model_p->dim_I45_init = main_model_p->Ncat;
  main_model_p->I45_init = (double*) Calloc(main_model_p->dim_I45_init, double);
  get_user_array(user, "I45_init", true, main_model_p->I45_init, 1, main_model_p->dim_I45_init);
  for (int i = 0; i < main_model_p->dim_I45; ++i) {
    main_model_p->initial_I45[i] = main_model_p->I45_init[i];
  }
  Free(main_model_p->N);
  main_model_p->dim_N = main_model_p->Ncat;
  main_model_p->N = (double*) Calloc(main_model_p->dim_N, double);
  main_model_p->offset_output_N = main_model_p->offset_output_n_noncomm + main_model_p->dim_n_noncomm;
  Free(main_model_p->E0);
  main_model_p->dim_E0 = main_model_p->Ncat;
  main_model_p->E0 = (double*) Calloc(main_model_p->dim_E0, double);
  main_model_p->offset_output_E0 = main_model_p->offset_output_N + main_model_p->dim_N;
  Free(main_model_p->E1a);
  main_model_p->dim_E1a = main_model_p->Ncat;
  main_model_p->E1a = (double*) Calloc(main_model_p->dim_E1a, double);
  main_model_p->offset_output_E1a = main_model_p->offset_output_E0 + main_model_p->dim_E0;
  Free(main_model_p->E1b);
  main_model_p->dim_E1b = main_model_p->Ncat;
  main_model_p->E1b = (double*) Calloc(main_model_p->dim_E1b, double);
  main_model_p->offset_output_E1b = main_model_p->offset_output_E1a + main_model_p->dim_E1a;
  Free(main_model_p->E1c);
  main_model_p->dim_E1c = main_model_p->Ncat;
  main_model_p->E1c = (double*) Calloc(main_model_p->dim_E1c, double);
  main_model_p->offset_output_E1c = main_model_p->offset_output_E1b + main_model_p->dim_E1b;
  Free(main_model_p->E1d);
  main_model_p->dim_E1d = main_model_p->Ncat;
  main_model_p->E1d = (double*) Calloc(main_model_p->dim_E1d, double);
  main_model_p->offset_output_E1d = main_model_p->offset_output_E1c + main_model_p->dim_E1c;
  Free(main_model_p->cumuInf_init);
  main_model_p->dim_cumuInf_init = main_model_p->Ncat;
  main_model_p->cumuInf_init = (double*) Calloc(main_model_p->dim_cumuInf_init, double);
  get_user_array(user, "cumuInf_init", true, main_model_p->cumuInf_init, 1, main_model_p->dim_cumuInf_init);
  for (int i = 0; i < main_model_p->dim_cumuInf; ++i) {
    main_model_p->initial_cumuInf[i] = main_model_p->cumuInf_init[i];
  }
  Free(main_model_p->alphaItot);
  main_model_p->dim_alphaItot = main_model_p->Ncat;
  main_model_p->alphaItot = (double*) Calloc(main_model_p->dim_alphaItot, double);
  main_model_p->offset_output_alphaItot = main_model_p->offset_output_E1d + main_model_p->dim_E1d;
  Free(main_model_p->prev);
  main_model_p->dim_prev = main_model_p->Ncat;
  main_model_p->prev = (double*) Calloc(main_model_p->dim_prev, double);
  main_model_p->offset_output_prev = main_model_p->offset_output_alphaItot + main_model_p->dim_alphaItot;
  Free(main_model_p->lambda);
  main_model_p->dim_lambda_1 = main_model_p->Ncat;
  main_model_p->dim_lambda_2 = main_model_p->Ncat;
  main_model_p->dim_lambda = main_model_p->dim_lambda_1 * main_model_p->dim_lambda_2;
  main_model_p->lambda = (double*) Calloc(main_model_p->dim_lambda, double);
  main_model_p->offset_output_lambda = main_model_p->offset_output_prev + main_model_p->dim_prev;
  Free(main_model_p->lambda_0);
  main_model_p->dim_lambda_0_1 = main_model_p->Ncat;
  main_model_p->dim_lambda_0_2 = main_model_p->Ncat;
  main_model_p->dim_lambda_0 = main_model_p->dim_lambda_0_1 * main_model_p->dim_lambda_0_2;
  main_model_p->lambda_0 = (double*) Calloc(main_model_p->dim_lambda_0, double);
  main_model_p->offset_output_lambda_0 = main_model_p->offset_output_lambda + main_model_p->dim_lambda;
  Free(main_model_p->lambda_1a);
  main_model_p->dim_lambda_1a_1 = main_model_p->Ncat;
  main_model_p->dim_lambda_1a_2 = main_model_p->Ncat;
  main_model_p->dim_lambda_1a = main_model_p->dim_lambda_1a_1 * main_model_p->dim_lambda_1a_2;
  main_model_p->lambda_1a = (double*) Calloc(main_model_p->dim_lambda_1a, double);
  main_model_p->offset_output_lambda_1a = main_model_p->offset_output_lambda_0 + main_model_p->dim_lambda_0;
  Free(main_model_p->lambda_1b);
  main_model_p->dim_lambda_1b_1 = main_model_p->Ncat;
  main_model_p->dim_lambda_1b_2 = main_model_p->Ncat;
  main_model_p->dim_lambda_1b = main_model_p->dim_lambda_1b_1 * main_model_p->dim_lambda_1b_2;
  main_model_p->lambda_1b = (double*) Calloc(main_model_p->dim_lambda_1b, double);
  main_model_p->offset_output_lambda_1b = main_model_p->offset_output_lambda_1a + main_model_p->dim_lambda_1a;
  Free(main_model_p->lambda_1c);
  main_model_p->dim_lambda_1c_1 = main_model_p->Ncat;
  main_model_p->dim_lambda_1c_2 = main_model_p->Ncat;
  main_model_p->dim_lambda_1c = main_model_p->dim_lambda_1c_1 * main_model_p->dim_lambda_1c_2;
  main_model_p->lambda_1c = (double*) Calloc(main_model_p->dim_lambda_1c, double);
  main_model_p->offset_output_lambda_1c = main_model_p->offset_output_lambda_1b + main_model_p->dim_lambda_1b;
  Free(main_model_p->lambda_1d);
  main_model_p->dim_lambda_1d_1 = main_model_p->Ncat;
  main_model_p->dim_lambda_1d_2 = main_model_p->Ncat;
  main_model_p->dim_lambda_1d = main_model_p->dim_lambda_1d_1 * main_model_p->dim_lambda_1d_2;
  main_model_p->lambda_1d = (double*) Calloc(main_model_p->dim_lambda_1d, double);
  main_model_p->offset_output_lambda_1d = main_model_p->offset_output_lambda_1c + main_model_p->dim_lambda_1c;
  Free(main_model_p->lambda_sum_0);
  main_model_p->dim_lambda_sum_0 = main_model_p->Ncat;
  main_model_p->lambda_sum_0 = (double*) Calloc(main_model_p->dim_lambda_sum_0, double);
  main_model_p->offset_output_lambda_sum_0 = main_model_p->offset_output_lambda_1d + main_model_p->dim_lambda_1d;
  Free(main_model_p->lambda_sum_1a);
  main_model_p->dim_lambda_sum_1a = main_model_p->Ncat;
  main_model_p->lambda_sum_1a = (double*) Calloc(main_model_p->dim_lambda_sum_1a, double);
  main_model_p->offset_output_lambda_sum_1a = main_model_p->offset_output_lambda_sum_0 + main_model_p->dim_lambda_sum_0;
  Free(main_model_p->lambda_sum_1b);
  main_model_p->dim_lambda_sum_1b = main_model_p->Ncat;
  main_model_p->lambda_sum_1b = (double*) Calloc(main_model_p->dim_lambda_sum_1b, double);
  main_model_p->offset_output_lambda_sum_1b = main_model_p->offset_output_lambda_sum_1a + main_model_p->dim_lambda_sum_1a;
  Free(main_model_p->lambda_sum_1c);
  main_model_p->dim_lambda_sum_1c = main_model_p->Ncat;
  main_model_p->lambda_sum_1c = (double*) Calloc(main_model_p->dim_lambda_sum_1c, double);
  main_model_p->offset_output_lambda_sum_1c = main_model_p->offset_output_lambda_sum_1b + main_model_p->dim_lambda_sum_1b;
  Free(main_model_p->lambda_sum_1d);
  main_model_p->dim_lambda_sum_1d = main_model_p->Ncat;
  main_model_p->lambda_sum_1d = (double*) Calloc(main_model_p->dim_lambda_sum_1d, double);
  main_model_p->offset_output_lambda_sum_1d = main_model_p->offset_output_lambda_sum_1c + main_model_p->dim_lambda_sum_1c;
  Free(main_model_p->c_comm_balanced);
  main_model_p->dim_c_comm_balanced = main_model_p->Ncat;
  main_model_p->c_comm_balanced = (double*) Calloc(main_model_p->dim_c_comm_balanced, double);
  main_model_p->offset_output_c_comm_balanced = main_model_p->offset_output_lambda_sum_1d + main_model_p->dim_lambda_sum_1d;
  Free(main_model_p->c_noncomm_balanced);
  main_model_p->dim_c_noncomm_balanced = main_model_p->Ncat;
  main_model_p->c_noncomm_balanced = (double*) Calloc(main_model_p->dim_c_noncomm_balanced, double);
  main_model_p->offset_output_c_noncomm_balanced = main_model_p->offset_output_c_comm_balanced + main_model_p->dim_c_comm_balanced;
  Free(main_model_p->theta);
  main_model_p->dim_theta_1 = main_model_p->Ncat;
  main_model_p->dim_theta_2 = main_model_p->Ncat;
  main_model_p->dim_theta = main_model_p->dim_theta_1 * main_model_p->dim_theta_2;
  main_model_p->theta = (double*) Calloc(main_model_p->dim_theta, double);
  main_model_p->offset_output_theta = main_model_p->offset_output_c_noncomm_balanced + main_model_p->dim_c_noncomm_balanced;
  get_user_array(user, "theta", true, main_model_p->theta, 2, main_model_p->dim_theta_1, main_model_p->dim_theta_2);
  Free(main_model_p->PrEPinitiations_init);
  main_model_p->dim_PrEPinitiations_init = main_model_p->Ncat;
  main_model_p->PrEPinitiations_init = (double*) Calloc(main_model_p->dim_PrEPinitiations_init, double);
  for (int i = 0; i < main_model_p->dim_PrEPinitiations_init; ++i) {
    main_model_p->PrEPinitiations_init[i] = 0;
  }
  for (int i = 0; i < main_model_p->dim_PrEPinitiations; ++i) {
    main_model_p->initial_PrEPinitiations[i] = main_model_p->PrEPinitiations_init[i];
  }
  Free(main_model_p->M_comm);
  main_model_p->dim_M_comm_1 = main_model_p->Ncat;
  main_model_p->dim_M_comm_2 = main_model_p->Ncat;
  main_model_p->dim_M_comm = main_model_p->dim_M_comm_1 * main_model_p->dim_M_comm_2;
  main_model_p->M_comm = (double*) Calloc(main_model_p->dim_M_comm, double);
  main_model_p->offset_output_M_comm = main_model_p->offset_output_theta + main_model_p->dim_theta;
  get_user_array(user, "M_comm", true, main_model_p->M_comm, 2, main_model_p->dim_M_comm_1, main_model_p->dim_M_comm_2);
  Free(main_model_p->M_noncomm);
  main_model_p->dim_M_noncomm_1 = main_model_p->Ncat;
  main_model_p->dim_M_noncomm_2 = main_model_p->Ncat;
  main_model_p->dim_M_noncomm = main_model_p->dim_M_noncomm_1 * main_model_p->dim_M_noncomm_2;
  main_model_p->M_noncomm = (double*) Calloc(main_model_p->dim_M_noncomm, double);
  main_model_p->offset_output_M_noncomm = main_model_p->offset_output_M_comm + main_model_p->dim_M_comm;
  get_user_array(user, "M_noncomm", true, main_model_p->M_noncomm, 2, main_model_p->dim_M_noncomm_1, main_model_p->dim_M_noncomm_2);
  Free(main_model_p->in_S0);
  main_model_p->dim_in_S0_1 = main_model_p->Ncat;
  main_model_p->dim_in_S0_2 = main_model_p->Ncat;
  main_model_p->dim_in_S0 = main_model_p->dim_in_S0_1 * main_model_p->dim_in_S0_2;
  main_model_p->in_S0 = (double*) Calloc(main_model_p->dim_in_S0, double);
  Free(main_model_p->in_S1a);
  main_model_p->dim_in_S1a_1 = main_model_p->Ncat;
  main_model_p->dim_in_S1a_2 = main_model_p->Ncat;
  main_model_p->dim_in_S1a = main_model_p->dim_in_S1a_1 * main_model_p->dim_in_S1a_2;
  main_model_p->in_S1a = (double*) Calloc(main_model_p->dim_in_S1a, double);
  Free(main_model_p->in_S1b);
  main_model_p->dim_in_S1b_1 = main_model_p->Ncat;
  main_model_p->dim_in_S1b_2 = main_model_p->Ncat;
  main_model_p->dim_in_S1b = main_model_p->dim_in_S1b_1 * main_model_p->dim_in_S1b_2;
  main_model_p->in_S1b = (double*) Calloc(main_model_p->dim_in_S1b, double);
  Free(main_model_p->in_S1c);
  main_model_p->dim_in_S1c_1 = main_model_p->Ncat;
  main_model_p->dim_in_S1c_2 = main_model_p->Ncat;
  main_model_p->dim_in_S1c = main_model_p->dim_in_S1c_1 * main_model_p->dim_in_S1c_2;
  main_model_p->in_S1c = (double*) Calloc(main_model_p->dim_in_S1c, double);
  Free(main_model_p->in_S1d);
  main_model_p->dim_in_S1d_1 = main_model_p->Ncat;
  main_model_p->dim_in_S1d_2 = main_model_p->Ncat;
  main_model_p->dim_in_S1d = main_model_p->dim_in_S1d_1 * main_model_p->dim_in_S1d_2;
  main_model_p->in_S1d = (double*) Calloc(main_model_p->dim_in_S1d, double);
  Free(main_model_p->in_I01);
  main_model_p->dim_in_I01_1 = main_model_p->Ncat;
  main_model_p->dim_in_I01_2 = main_model_p->Ncat;
  main_model_p->dim_in_I01 = main_model_p->dim_in_I01_1 * main_model_p->dim_in_I01_2;
  main_model_p->in_I01 = (double*) Calloc(main_model_p->dim_in_I01, double);
  Free(main_model_p->in_I11);
  main_model_p->dim_in_I11_1 = main_model_p->Ncat;
  main_model_p->dim_in_I11_2 = main_model_p->Ncat;
  main_model_p->dim_in_I11 = main_model_p->dim_in_I11_1 * main_model_p->dim_in_I11_2;
  main_model_p->in_I11 = (double*) Calloc(main_model_p->dim_in_I11, double);
  Free(main_model_p->in_I02);
  main_model_p->dim_in_I02_1 = main_model_p->Ncat;
  main_model_p->dim_in_I02_2 = main_model_p->Ncat;
  main_model_p->dim_in_I02 = main_model_p->dim_in_I02_1 * main_model_p->dim_in_I02_2;
  main_model_p->in_I02 = (double*) Calloc(main_model_p->dim_in_I02, double);
  Free(main_model_p->in_I03);
  main_model_p->dim_in_I03_1 = main_model_p->Ncat;
  main_model_p->dim_in_I03_2 = main_model_p->Ncat;
  main_model_p->dim_in_I03 = main_model_p->dim_in_I03_1 * main_model_p->dim_in_I03_2;
  main_model_p->in_I03 = (double*) Calloc(main_model_p->dim_in_I03, double);
  Free(main_model_p->in_I04);
  main_model_p->dim_in_I04_1 = main_model_p->Ncat;
  main_model_p->dim_in_I04_2 = main_model_p->Ncat;
  main_model_p->dim_in_I04 = main_model_p->dim_in_I04_1 * main_model_p->dim_in_I04_2;
  main_model_p->in_I04 = (double*) Calloc(main_model_p->dim_in_I04, double);
  Free(main_model_p->in_I05);
  main_model_p->dim_in_I05_1 = main_model_p->Ncat;
  main_model_p->dim_in_I05_2 = main_model_p->Ncat;
  main_model_p->dim_in_I05 = main_model_p->dim_in_I05_1 * main_model_p->dim_in_I05_2;
  main_model_p->in_I05 = (double*) Calloc(main_model_p->dim_in_I05, double);
  Free(main_model_p->in_I22);
  main_model_p->dim_in_I22_1 = main_model_p->Ncat;
  main_model_p->dim_in_I22_2 = main_model_p->Ncat;
  main_model_p->dim_in_I22 = main_model_p->dim_in_I22_1 * main_model_p->dim_in_I22_2;
  main_model_p->in_I22 = (double*) Calloc(main_model_p->dim_in_I22, double);
  Free(main_model_p->in_I23);
  main_model_p->dim_in_I23_1 = main_model_p->Ncat;
  main_model_p->dim_in_I23_2 = main_model_p->Ncat;
  main_model_p->dim_in_I23 = main_model_p->dim_in_I23_1 * main_model_p->dim_in_I23_2;
  main_model_p->in_I23 = (double*) Calloc(main_model_p->dim_in_I23, double);
  Free(main_model_p->in_I24);
  main_model_p->dim_in_I24_1 = main_model_p->Ncat;
  main_model_p->dim_in_I24_2 = main_model_p->Ncat;
  main_model_p->dim_in_I24 = main_model_p->dim_in_I24_1 * main_model_p->dim_in_I24_2;
  main_model_p->in_I24 = (double*) Calloc(main_model_p->dim_in_I24, double);
  Free(main_model_p->in_I25);
  main_model_p->dim_in_I25_1 = main_model_p->Ncat;
  main_model_p->dim_in_I25_2 = main_model_p->Ncat;
  main_model_p->dim_in_I25 = main_model_p->dim_in_I25_1 * main_model_p->dim_in_I25_2;
  main_model_p->in_I25 = (double*) Calloc(main_model_p->dim_in_I25, double);
  Free(main_model_p->in_I32);
  main_model_p->dim_in_I32_1 = main_model_p->Ncat;
  main_model_p->dim_in_I32_2 = main_model_p->Ncat;
  main_model_p->dim_in_I32 = main_model_p->dim_in_I32_1 * main_model_p->dim_in_I32_2;
  main_model_p->in_I32 = (double*) Calloc(main_model_p->dim_in_I32, double);
  Free(main_model_p->in_I33);
  main_model_p->dim_in_I33_1 = main_model_p->Ncat;
  main_model_p->dim_in_I33_2 = main_model_p->Ncat;
  main_model_p->dim_in_I33 = main_model_p->dim_in_I33_1 * main_model_p->dim_in_I33_2;
  main_model_p->in_I33 = (double*) Calloc(main_model_p->dim_in_I33, double);
  Free(main_model_p->in_I34);
  main_model_p->dim_in_I34_1 = main_model_p->Ncat;
  main_model_p->dim_in_I34_2 = main_model_p->Ncat;
  main_model_p->dim_in_I34 = main_model_p->dim_in_I34_1 * main_model_p->dim_in_I34_2;
  main_model_p->in_I34 = (double*) Calloc(main_model_p->dim_in_I34, double);
  Free(main_model_p->in_I35);
  main_model_p->dim_in_I35_1 = main_model_p->Ncat;
  main_model_p->dim_in_I35_2 = main_model_p->Ncat;
  main_model_p->dim_in_I35 = main_model_p->dim_in_I35_1 * main_model_p->dim_in_I35_2;
  main_model_p->in_I35 = (double*) Calloc(main_model_p->dim_in_I35, double);
  Free(main_model_p->in_I42);
  main_model_p->dim_in_I42_1 = main_model_p->Ncat;
  main_model_p->dim_in_I42_2 = main_model_p->Ncat;
  main_model_p->dim_in_I42 = main_model_p->dim_in_I42_1 * main_model_p->dim_in_I42_2;
  main_model_p->in_I42 = (double*) Calloc(main_model_p->dim_in_I42, double);
  Free(main_model_p->in_I43);
  main_model_p->dim_in_I43_1 = main_model_p->Ncat;
  main_model_p->dim_in_I43_2 = main_model_p->Ncat;
  main_model_p->dim_in_I43 = main_model_p->dim_in_I43_1 * main_model_p->dim_in_I43_2;
  main_model_p->in_I43 = (double*) Calloc(main_model_p->dim_in_I43, double);
  Free(main_model_p->in_I44);
  main_model_p->dim_in_I44_1 = main_model_p->Ncat;
  main_model_p->dim_in_I44_2 = main_model_p->Ncat;
  main_model_p->dim_in_I44 = main_model_p->dim_in_I44_1 * main_model_p->dim_in_I44_2;
  main_model_p->in_I44 = (double*) Calloc(main_model_p->dim_in_I44, double);
  Free(main_model_p->in_I45);
  main_model_p->dim_in_I45_1 = main_model_p->Ncat;
  main_model_p->dim_in_I45_2 = main_model_p->Ncat;
  main_model_p->dim_in_I45 = main_model_p->dim_in_I45_1 * main_model_p->dim_in_I45_2;
  main_model_p->in_I45 = (double*) Calloc(main_model_p->dim_in_I45, double);
  Free(main_model_p->rate_move_in);
  main_model_p->dim_rate_move_in_1 = main_model_p->Ncat;
  main_model_p->dim_rate_move_in_2 = main_model_p->Ncat;
  main_model_p->dim_rate_move_in = main_model_p->dim_rate_move_in_1 * main_model_p->dim_rate_move_in_2;
  main_model_p->rate_move_in = (double*) Calloc(main_model_p->dim_rate_move_in, double);
  main_model_p->offset_output_rate_move_in = main_model_p->offset_output_M_noncomm + main_model_p->dim_M_noncomm;
  get_user_array(user, "rate_move_in", true, main_model_p->rate_move_in, 2, main_model_p->dim_rate_move_in_1, main_model_p->dim_rate_move_in_2);
  Free(main_model_p->rate_move_out);
  main_model_p->dim_rate_move_out = main_model_p->Ncat;
  main_model_p->rate_move_out = (double*) Calloc(main_model_p->dim_rate_move_out, double);
  main_model_p->offset_output_rate_move_out = main_model_p->offset_output_rate_move_in + main_model_p->dim_rate_move_in;
  get_user_array(user, "rate_move_out", true, main_model_p->rate_move_out, 1, main_model_p->dim_rate_move_out);
  Free(main_model_p->rate_move_out_PrEP);
  main_model_p->dim_rate_move_out_PrEP = main_model_p->Ncat;
  main_model_p->rate_move_out_PrEP = (double*) Calloc(main_model_p->dim_rate_move_out_PrEP, double);
  main_model_p->offset_output_rate_move_out_PrEP = main_model_p->offset_output_rate_move_out + main_model_p->dim_rate_move_out;
  get_user_array(user, "rate_move_out_PrEP", true, main_model_p->rate_move_out_PrEP, 1, main_model_p->dim_rate_move_out_PrEP);
  odin_interpolate_check(main_model_p->dim_pfFSW_t, main_model_p->dim_pfFSW_y_1, 1, "pfFSW_y", "pfFSW");
  odin_interpolate_check(main_model_p->dim_pfFSW, main_model_p->dim_pfFSW_y_2, 2, "pfFSW_y", "pfFSW");
  cinterpolate_free(main_model_p->interpolate_pfFSW);
  main_model_p->interpolate_pfFSW = cinterpolate_alloc("linear", main_model_p->dim_pfFSW_t, main_model_p->dim_pfFSW, main_model_p->pfFSW_t, main_model_p->pfFSW_y, false);
  odin_interpolate_check(main_model_p->dim_c_t_comm, main_model_p->dim_c_y_comm_1, 1, "c_y_comm", "c_comm");
  odin_interpolate_check(main_model_p->dim_c_comm, main_model_p->dim_c_y_comm_2, 2, "c_y_comm", "c_comm");
  cinterpolate_free(main_model_p->interpolate_c_comm);
  main_model_p->interpolate_c_comm = cinterpolate_alloc("linear", main_model_p->dim_c_t_comm, main_model_p->dim_c_comm, main_model_p->c_t_comm, main_model_p->c_y_comm, false);
  odin_interpolate_check(main_model_p->dim_c_t_noncomm, main_model_p->dim_c_y_noncomm_1, 1, "c_y_noncomm", "c_noncomm");
  odin_interpolate_check(main_model_p->dim_c_noncomm, main_model_p->dim_c_y_noncomm_2, 2, "c_y_noncomm", "c_noncomm");
  cinterpolate_free(main_model_p->interpolate_c_noncomm);
  main_model_p->interpolate_c_noncomm = cinterpolate_alloc("linear", main_model_p->dim_c_t_noncomm, main_model_p->dim_c_noncomm, main_model_p->c_t_noncomm, main_model_p->c_y_noncomm, false);
  odin_interpolate_check(main_model_p->dim_ART_eligible_CD4_above_500_t, main_model_p->dim_ART_eligible_CD4_above_500_y, 0, "ART_eligible_CD4_above_500_y", "ART_eligible_CD4_above_500");
  cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_above_500);
  main_model_p->interpolate_ART_eligible_CD4_above_500 = cinterpolate_alloc("constant", main_model_p->dim_ART_eligible_CD4_above_500_t, 1, main_model_p->ART_eligible_CD4_above_500_t, main_model_p->ART_eligible_CD4_above_500_y, false);
  odin_interpolate_check(main_model_p->dim_ART_eligible_CD4_350_500_t, main_model_p->dim_ART_eligible_CD4_350_500_y, 0, "ART_eligible_CD4_350_500_y", "ART_eligible_CD4_350_500");
  cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_350_500);
  main_model_p->interpolate_ART_eligible_CD4_350_500 = cinterpolate_alloc("constant", main_model_p->dim_ART_eligible_CD4_350_500_t, 1, main_model_p->ART_eligible_CD4_350_500_t, main_model_p->ART_eligible_CD4_350_500_y, false);
  odin_interpolate_check(main_model_p->dim_ART_eligible_CD4_200_349_t, main_model_p->dim_ART_eligible_CD4_200_349_y, 0, "ART_eligible_CD4_200_349_y", "ART_eligible_CD4_200_349");
  cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_200_349);
  main_model_p->interpolate_ART_eligible_CD4_200_349 = cinterpolate_alloc("constant", main_model_p->dim_ART_eligible_CD4_200_349_t, 1, main_model_p->ART_eligible_CD4_200_349_t, main_model_p->ART_eligible_CD4_200_349_y, false);
  odin_interpolate_check(main_model_p->dim_ART_eligible_CD4_below_200_t, main_model_p->dim_ART_eligible_CD4_below_200_y, 0, "ART_eligible_CD4_below_200_y", "ART_eligible_CD4_below_200");
  cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_below_200);
  main_model_p->interpolate_ART_eligible_CD4_below_200 = cinterpolate_alloc("constant", main_model_p->dim_ART_eligible_CD4_below_200_t, 1, main_model_p->ART_eligible_CD4_below_200_t, main_model_p->ART_eligible_CD4_below_200_y, false);
  odin_interpolate_check(main_model_p->dim_testing_prob_t, main_model_p->dim_testing_prob_y_1, 1, "testing_prob_y", "testing_prob");
  odin_interpolate_check(main_model_p->dim_testing_prob, main_model_p->dim_testing_prob_y_2, 2, "testing_prob_y", "testing_prob");
  cinterpolate_free(main_model_p->interpolate_testing_prob);
  main_model_p->interpolate_testing_prob = cinterpolate_alloc("linear", main_model_p->dim_testing_prob_t, main_model_p->dim_testing_prob, main_model_p->testing_prob_t, main_model_p->testing_prob_y, false);
  odin_interpolate_check(main_model_p->dim_tau_intervention_t, main_model_p->dim_tau_intervention_y_1, 1, "tau_intervention_y", "tau_intervention");
  odin_interpolate_check(main_model_p->dim_tau_intervention, main_model_p->dim_tau_intervention_y_2, 2, "tau_intervention_y", "tau_intervention");
  cinterpolate_free(main_model_p->interpolate_tau_intervention);
  main_model_p->interpolate_tau_intervention = cinterpolate_alloc("constant", main_model_p->dim_tau_intervention_t, main_model_p->dim_tau_intervention, main_model_p->tau_intervention_t, main_model_p->tau_intervention_y, false);
  odin_interpolate_check(main_model_p->dim_rho_intervention_t, main_model_p->dim_rho_intervention_y_1, 1, "rho_intervention_y", "rho_intervention");
  odin_interpolate_check(main_model_p->dim_rho_intervention, main_model_p->dim_rho_intervention_y_2, 2, "rho_intervention_y", "rho_intervention");
  cinterpolate_free(main_model_p->interpolate_rho_intervention);
  main_model_p->interpolate_rho_intervention = cinterpolate_alloc("constant", main_model_p->dim_rho_intervention_t, main_model_p->dim_rho_intervention, main_model_p->rho_intervention_t, main_model_p->rho_intervention_y, false);
  odin_interpolate_check(main_model_p->dim_prep_efficacious_t, main_model_p->dim_prep_efficacious_y, 0, "prep_efficacious_y", "prep_efficacious");
  cinterpolate_free(main_model_p->interpolate_prep_efficacious);
  main_model_p->interpolate_prep_efficacious = cinterpolate_alloc("constant", main_model_p->dim_prep_efficacious_t, 1, main_model_p->prep_efficacious_t, main_model_p->prep_efficacious_y, false);
  odin_interpolate_check(main_model_p->dim_viral_supp_t, main_model_p->dim_viral_supp_y_1, 1, "viral_supp_y", "viral_supp");
  odin_interpolate_check(main_model_p->dim_viral_supp, main_model_p->dim_viral_supp_y_2, 2, "viral_supp_y", "viral_supp");
  cinterpolate_free(main_model_p->interpolate_viral_supp);
  main_model_p->interpolate_viral_supp = cinterpolate_alloc("constant", main_model_p->dim_viral_supp_t, main_model_p->dim_viral_supp, main_model_p->viral_supp_t, main_model_p->viral_supp_y, false);
  odin_interpolate_check(main_model_p->dim_infect_ART_t, main_model_p->dim_infect_ART_y_1, 1, "infect_ART_y", "infect_ART");
  odin_interpolate_check(main_model_p->dim_infect_ART, main_model_p->dim_infect_ART_y_2, 2, "infect_ART_y", "infect_ART");
  cinterpolate_free(main_model_p->interpolate_infect_ART);
  main_model_p->interpolate_infect_ART = cinterpolate_alloc("constant", main_model_p->dim_infect_ART_t, main_model_p->dim_infect_ART, main_model_p->infect_ART_t, main_model_p->infect_ART_y, false);
  odin_interpolate_check(main_model_p->dim_epsilon_t, main_model_p->dim_epsilon_y, 0, "epsilon_y", "epsilon");
  cinterpolate_free(main_model_p->interpolate_epsilon);
  main_model_p->interpolate_epsilon = cinterpolate_alloc("constant", main_model_p->dim_epsilon_t, 1, main_model_p->epsilon_t, main_model_p->epsilon_y, false);
  odin_interpolate_check(main_model_p->dim_prep_intervention_t, main_model_p->dim_prep_intervention_y_1, 1, "prep_intervention_y", "prep_offered");
  odin_interpolate_check(main_model_p->dim_prep_offered, main_model_p->dim_prep_intervention_y_2, 2, "prep_intervention_y", "prep_offered");
  cinterpolate_free(main_model_p->interpolate_prep_offered);
  main_model_p->interpolate_prep_offered = cinterpolate_alloc("constant", main_model_p->dim_prep_intervention_t, main_model_p->dim_prep_offered, main_model_p->prep_intervention_t, main_model_p->prep_intervention_y, false);
  odin_interpolate_check(main_model_p->dim_fc_t_comm, main_model_p->dim_fc_y_comm_1, 1, "fc_y_comm", "fc_comm");
  odin_interpolate_check(main_model_p->dim_fc_comm_1, main_model_p->dim_fc_y_comm_2, 2, "fc_y_comm", "fc_comm");
  odin_interpolate_check(main_model_p->dim_fc_comm_2, main_model_p->dim_fc_y_comm_3, 3, "fc_y_comm", "fc_comm");
  cinterpolate_free(main_model_p->interpolate_fc_comm);
  main_model_p->interpolate_fc_comm = cinterpolate_alloc("linear", main_model_p->dim_fc_t_comm, main_model_p->dim_fc_comm, main_model_p->fc_t_comm, main_model_p->fc_y_comm, false);
  odin_interpolate_check(main_model_p->dim_fP_t_comm, main_model_p->dim_fP_y_comm_1, 1, "fP_y_comm", "fP_comm");
  odin_interpolate_check(main_model_p->dim_fP_comm, main_model_p->dim_fP_y_comm_2, 2, "fP_y_comm", "fP_comm");
  cinterpolate_free(main_model_p->interpolate_fP_comm);
  main_model_p->interpolate_fP_comm = cinterpolate_alloc("linear", main_model_p->dim_fP_t_comm, main_model_p->dim_fP_comm, main_model_p->fP_t_comm, main_model_p->fP_y_comm, false);
  odin_interpolate_check(main_model_p->dim_fc_t_noncomm, main_model_p->dim_fc_y_noncomm_1, 1, "fc_y_noncomm", "fc_noncomm");
  odin_interpolate_check(main_model_p->dim_fc_noncomm_1, main_model_p->dim_fc_y_noncomm_2, 2, "fc_y_noncomm", "fc_noncomm");
  odin_interpolate_check(main_model_p->dim_fc_noncomm_2, main_model_p->dim_fc_y_noncomm_3, 3, "fc_y_noncomm", "fc_noncomm");
  cinterpolate_free(main_model_p->interpolate_fc_noncomm);
  main_model_p->interpolate_fc_noncomm = cinterpolate_alloc("linear", main_model_p->dim_fc_t_noncomm, main_model_p->dim_fc_noncomm, main_model_p->fc_t_noncomm, main_model_p->fc_y_noncomm, false);
  odin_interpolate_check(main_model_p->dim_fP_t_noncomm, main_model_p->dim_fP_y_noncomm_1, 1, "fP_y_noncomm", "fP_noncomm");
  odin_interpolate_check(main_model_p->dim_fP_noncomm, main_model_p->dim_fP_y_noncomm_2, 2, "fP_y_noncomm", "fP_noncomm");
  cinterpolate_free(main_model_p->interpolate_fP_noncomm);
  main_model_p->interpolate_fP_noncomm = cinterpolate_alloc("linear", main_model_p->dim_fP_t_noncomm, main_model_p->dim_fP_noncomm, main_model_p->fP_t_noncomm, main_model_p->fP_y_noncomm, false);
  odin_interpolate_check(main_model_p->dim_n_t_comm, main_model_p->dim_n_y_comm_1, 1, "n_y_comm", "n_comm");
  odin_interpolate_check(main_model_p->dim_n_comm_1, main_model_p->dim_n_y_comm_2, 2, "n_y_comm", "n_comm");
  odin_interpolate_check(main_model_p->dim_n_comm_2, main_model_p->dim_n_y_comm_3, 3, "n_y_comm", "n_comm");
  cinterpolate_free(main_model_p->interpolate_n_comm);
  main_model_p->interpolate_n_comm = cinterpolate_alloc("linear", main_model_p->dim_n_t_comm, main_model_p->dim_n_comm, main_model_p->n_t_comm, main_model_p->n_y_comm, false);
  odin_interpolate_check(main_model_p->dim_n_t_noncomm, main_model_p->dim_n_y_noncomm_1, 1, "n_y_noncomm", "n_noncomm");
  odin_interpolate_check(main_model_p->dim_n_noncomm_1, main_model_p->dim_n_y_noncomm_2, 2, "n_y_noncomm", "n_noncomm");
  odin_interpolate_check(main_model_p->dim_n_noncomm_2, main_model_p->dim_n_y_noncomm_3, 3, "n_y_noncomm", "n_noncomm");
  cinterpolate_free(main_model_p->interpolate_n_noncomm);
  main_model_p->interpolate_n_noncomm = cinterpolate_alloc("linear", main_model_p->dim_n_t_noncomm, main_model_p->dim_n_noncomm, main_model_p->n_t_noncomm, main_model_p->n_y_noncomm, false);
  main_model_p->dim = main_model_p->offset_I45 + main_model_p->dim_I45;
  main_model_p->dim_output = main_model_p->offset_output_rate_move_out_PrEP + main_model_p->dim_rate_move_out_PrEP;
  return R_NilValue;
}
// Wrapper around this for use from R.
SEXP r_main_model_set_user(SEXP main_model_ptr, SEXP user) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  main_model_set_user(main_model_p, user);
  return R_NilValue;
}

// Arrange to free all memory we have allocated
// This is called by R automatically when the pointer is
// garbage collected (i.e., when all objects holding the pointer
// go out of scope
void main_model_finalize(SEXP main_model_ptr) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 0);
  if (main_model_ptr) {
    Free(main_model_p->pfFSW_t);
    Free(main_model_p->pfFSW_y);
    Free(main_model_p->c_t_comm);
    Free(main_model_p->c_t_noncomm);
    Free(main_model_p->c_y_comm);
    Free(main_model_p->c_y_noncomm);
    Free(main_model_p->ART_eligible_CD4_above_500_t);
    Free(main_model_p->ART_eligible_CD4_350_500_t);
    Free(main_model_p->ART_eligible_CD4_200_349_t);
    Free(main_model_p->ART_eligible_CD4_below_200_t);
    Free(main_model_p->ART_eligible_CD4_above_500_y);
    Free(main_model_p->ART_eligible_CD4_350_500_y);
    Free(main_model_p->ART_eligible_CD4_200_349_y);
    Free(main_model_p->ART_eligible_CD4_below_200_y);
    Free(main_model_p->infect_ART_y);
    Free(main_model_p->infect_ART_t);
    Free(main_model_p->testing_prob_t);
    Free(main_model_p->testing_prob_y);
    Free(main_model_p->tau_intervention_t);
    Free(main_model_p->tau_intervention_y);
    Free(main_model_p->rho_intervention_t);
    Free(main_model_p->rho_intervention_y);
    Free(main_model_p->prep_efficacious_t);
    Free(main_model_p->prep_efficacious_y);
    Free(main_model_p->viral_supp_y);
    Free(main_model_p->viral_supp_t);
    Free(main_model_p->epsilon_t);
    Free(main_model_p->epsilon_y);
    Free(main_model_p->fc_t_comm);
    Free(main_model_p->fc_y_comm);
    Free(main_model_p->fP_t_comm);
    Free(main_model_p->fP_y_comm);
    Free(main_model_p->fc_t_noncomm);
    Free(main_model_p->fc_y_noncomm);
    Free(main_model_p->fP_t_noncomm);
    Free(main_model_p->fP_y_noncomm);
    Free(main_model_p->n_t_comm);
    Free(main_model_p->n_y_comm);
    Free(main_model_p->n_t_noncomm);
    Free(main_model_p->n_y_noncomm);
    Free(main_model_p->prep_intervention_t);
    Free(main_model_p->prep_intervention_y);
    Free(main_model_p->gamma32_without_supp);
    Free(main_model_p->gamma33_without_supp);
    Free(main_model_p->gamma34_without_supp);
    Free(main_model_p->alpha33_without_supp);
    Free(main_model_p->alpha34_without_supp);
    Free(main_model_p->alpha35_without_supp);
    Free(main_model_p->c_comm);
    Free(main_model_p->c_noncomm);
    Free(main_model_p->pfFSW);
    Free(main_model_p->new_acute_infected);
    Free(main_model_p->FSW_ONLY);
    Free(main_model_p->new_people_in_group);
    Free(main_model_p->new_people_in_group_FSW_only);
    Free(main_model_p->comm_partnerships_requested);
    Free(main_model_p->noncomm_partnerships_requested);
    Free(main_model_p->above_500_by_group);
    Free(main_model_p->testing_prob);
    Free(main_model_p->tau_intervention);
    Free(main_model_p->rho_intervention);
    Free(main_model_p->zeta);
    Free(main_model_p->sigma);
    Free(main_model_p->eP1a_effective);
    Free(main_model_p->eP1b_effective);
    Free(main_model_p->eP1c_effective);
    Free(main_model_p->tau);
    Free(main_model_p->test_rate_prep);
    Free(main_model_p->rho);
    Free(main_model_p->iota);
    Free(main_model_p->viral_supp);
    Free(main_model_p->HIV_positive);
    Free(main_model_p->Number_Susceptibles);
    Free(main_model_p->HIV_positive_Diagnosed_Off_ART);
    Free(main_model_p->Primary_Off_ART);
    Free(main_model_p->CD4_above_500_Off_ART);
    Free(main_model_p->CD4_350_500_Off_ART);
    Free(main_model_p->CD4_200_350_Off_ART);
    Free(main_model_p->CD4_below_200_Off_ART);
    Free(main_model_p->HIV_positive_On_ART);
    Free(main_model_p->Number_DALY_W1);
    Free(main_model_p->Number_DALY_W2);
    Free(main_model_p->Number_DALY_W3);
    Free(main_model_p->initial_cumuDeaths_On_ART);
    Free(main_model_p->initial_cumuARTinitiations_not_TasP);
    Free(main_model_p->initial_cumu_PrEP_dropouts);
    Free(main_model_p->initial_S0_infections);
    Free(main_model_p->initial_S1a_infections);
    Free(main_model_p->initial_S1b_infections);
    Free(main_model_p->initial_S1c_infections);
    Free(main_model_p->initial_S1d_infections);
    Free(main_model_p->frac_F);
    Free(main_model_p->frac_N_sexualpop);
    Free(main_model_p->ART_coverage);
    Free(main_model_p->infect_ART);
    Free(main_model_p->prep_offered);
    Free(main_model_p->omega);
    Free(main_model_p->frac_N);
    Free(main_model_p->mu);
    Free(main_model_p->gamma01);
    Free(main_model_p->gamma02);
    Free(main_model_p->gamma03);
    Free(main_model_p->gamma04);
    Free(main_model_p->gamma11);
    Free(main_model_p->gamma22);
    Free(main_model_p->gamma23);
    Free(main_model_p->gamma24);
    Free(main_model_p->gamma32);
    Free(main_model_p->gamma33);
    Free(main_model_p->gamma34);
    Free(main_model_p->gamma42);
    Free(main_model_p->gamma43);
    Free(main_model_p->gamma44);
    Free(main_model_p->phi2);
    Free(main_model_p->phi3);
    Free(main_model_p->phi4);
    Free(main_model_p->phi5);
    Free(main_model_p->psia);
    Free(main_model_p->psib);
    Free(main_model_p->kappaa);
    Free(main_model_p->kappab);
    Free(main_model_p->kappac);
    Free(main_model_p->kappa1);
    Free(main_model_p->alpha01);
    Free(main_model_p->alpha02);
    Free(main_model_p->alpha03);
    Free(main_model_p->alpha04);
    Free(main_model_p->alpha05);
    Free(main_model_p->alpha11);
    Free(main_model_p->alpha22);
    Free(main_model_p->alpha23);
    Free(main_model_p->alpha24);
    Free(main_model_p->alpha25);
    Free(main_model_p->alpha32);
    Free(main_model_p->alpha33);
    Free(main_model_p->alpha34);
    Free(main_model_p->alpha35);
    Free(main_model_p->alpha42);
    Free(main_model_p->alpha43);
    Free(main_model_p->alpha44);
    Free(main_model_p->alpha45);
    Free(main_model_p->beta_comm);
    Free(main_model_p->beta_noncomm);
    Free(main_model_p->p_comm);
    Free(main_model_p->p_noncomm);
    Free(main_model_p->ec);
    Free(main_model_p->eP);
    Free(main_model_p->eP0);
    Free(main_model_p->eP1a);
    Free(main_model_p->eP1b);
    Free(main_model_p->eP1c);
    Free(main_model_p->eP1d);
    Free(main_model_p->fc_comm);
    Free(main_model_p->fP_comm);
    Free(main_model_p->fc_noncomm);
    Free(main_model_p->fP_noncomm);
    Free(main_model_p->n_comm);
    Free(main_model_p->n_noncomm);
    Free(main_model_p->initial_cumuHIVDeaths);
    Free(main_model_p->initial_cumuARTinitiations);
    Free(main_model_p->initial_TasPinitiations);
    Free(main_model_p->initial_cumuARTREinitiations);
    Free(main_model_p->initial_dropouts);
    Free(main_model_p->initial_cumuAllDeaths);
    Free(main_model_p->initial_cumuInf);
    Free(main_model_p->initial_PrEPinitiations);
    Free(main_model_p->initial_PrEPinitiations1a);
    Free(main_model_p->initial_PrEPinitiations1b);
    Free(main_model_p->initial_PrEPinitiations1c);
    Free(main_model_p->initial_S0);
    Free(main_model_p->initial_S1a);
    Free(main_model_p->initial_S1b);
    Free(main_model_p->initial_S1c);
    Free(main_model_p->initial_S1d);
    Free(main_model_p->initial_I01);
    Free(main_model_p->initial_I11);
    Free(main_model_p->initial_I02);
    Free(main_model_p->initial_I03);
    Free(main_model_p->initial_I04);
    Free(main_model_p->initial_I05);
    Free(main_model_p->initial_I22);
    Free(main_model_p->initial_I23);
    Free(main_model_p->initial_I24);
    Free(main_model_p->initial_I25);
    Free(main_model_p->initial_I32);
    Free(main_model_p->initial_I33);
    Free(main_model_p->initial_I34);
    Free(main_model_p->initial_I35);
    Free(main_model_p->initial_I42);
    Free(main_model_p->initial_I43);
    Free(main_model_p->initial_I44);
    Free(main_model_p->initial_I45);
    Free(main_model_p->S0_init);
    Free(main_model_p->S1a_init);
    Free(main_model_p->S1b_init);
    Free(main_model_p->S1c_init);
    Free(main_model_p->S1d_init);
    Free(main_model_p->I01_init);
    Free(main_model_p->I11_init);
    Free(main_model_p->I02_init);
    Free(main_model_p->I03_init);
    Free(main_model_p->I04_init);
    Free(main_model_p->I05_init);
    Free(main_model_p->I22_init);
    Free(main_model_p->I23_init);
    Free(main_model_p->I24_init);
    Free(main_model_p->I25_init);
    Free(main_model_p->I32_init);
    Free(main_model_p->I33_init);
    Free(main_model_p->I34_init);
    Free(main_model_p->I35_init);
    Free(main_model_p->I42_init);
    Free(main_model_p->I43_init);
    Free(main_model_p->I44_init);
    Free(main_model_p->I45_init);
    Free(main_model_p->N);
    Free(main_model_p->E0);
    Free(main_model_p->E1a);
    Free(main_model_p->E1b);
    Free(main_model_p->E1c);
    Free(main_model_p->E1d);
    Free(main_model_p->cumuInf_init);
    Free(main_model_p->alphaItot);
    Free(main_model_p->prev);
    Free(main_model_p->lambda);
    Free(main_model_p->lambda_0);
    Free(main_model_p->lambda_1a);
    Free(main_model_p->lambda_1b);
    Free(main_model_p->lambda_1c);
    Free(main_model_p->lambda_1d);
    Free(main_model_p->lambda_sum_0);
    Free(main_model_p->lambda_sum_1a);
    Free(main_model_p->lambda_sum_1b);
    Free(main_model_p->lambda_sum_1c);
    Free(main_model_p->lambda_sum_1d);
    Free(main_model_p->c_comm_balanced);
    Free(main_model_p->c_noncomm_balanced);
    Free(main_model_p->theta);
    Free(main_model_p->PrEPinitiations_init);
    Free(main_model_p->M_comm);
    Free(main_model_p->M_noncomm);
    Free(main_model_p->in_S0);
    Free(main_model_p->in_S1a);
    Free(main_model_p->in_S1b);
    Free(main_model_p->in_S1c);
    Free(main_model_p->in_S1d);
    Free(main_model_p->in_I01);
    Free(main_model_p->in_I11);
    Free(main_model_p->in_I02);
    Free(main_model_p->in_I03);
    Free(main_model_p->in_I04);
    Free(main_model_p->in_I05);
    Free(main_model_p->in_I22);
    Free(main_model_p->in_I23);
    Free(main_model_p->in_I24);
    Free(main_model_p->in_I25);
    Free(main_model_p->in_I32);
    Free(main_model_p->in_I33);
    Free(main_model_p->in_I34);
    Free(main_model_p->in_I35);
    Free(main_model_p->in_I42);
    Free(main_model_p->in_I43);
    Free(main_model_p->in_I44);
    Free(main_model_p->in_I45);
    Free(main_model_p->rate_move_in);
    Free(main_model_p->rate_move_out);
    Free(main_model_p->rate_move_out_PrEP);
    cinterpolate_free(main_model_p->interpolate_pfFSW);
    cinterpolate_free(main_model_p->interpolate_c_comm);
    cinterpolate_free(main_model_p->interpolate_c_noncomm);
    cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_above_500);
    cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_350_500);
    cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_200_349);
    cinterpolate_free(main_model_p->interpolate_ART_eligible_CD4_below_200);
    cinterpolate_free(main_model_p->interpolate_testing_prob);
    cinterpolate_free(main_model_p->interpolate_tau_intervention);
    cinterpolate_free(main_model_p->interpolate_rho_intervention);
    cinterpolate_free(main_model_p->interpolate_prep_efficacious);
    cinterpolate_free(main_model_p->interpolate_viral_supp);
    cinterpolate_free(main_model_p->interpolate_infect_ART);
    cinterpolate_free(main_model_p->interpolate_epsilon);
    cinterpolate_free(main_model_p->interpolate_prep_offered);
    cinterpolate_free(main_model_p->interpolate_fc_comm);
    cinterpolate_free(main_model_p->interpolate_fP_comm);
    cinterpolate_free(main_model_p->interpolate_fc_noncomm);
    cinterpolate_free(main_model_p->interpolate_fP_noncomm);
    cinterpolate_free(main_model_p->interpolate_n_comm);
    cinterpolate_free(main_model_p->interpolate_n_noncomm);
    Free(main_model_p);
    R_ClearExternalPtr(main_model_ptr);
  }
}

SEXP main_model_initialise(SEXP main_model_ptr, SEXP t_ptr) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  SEXP state = PROTECT(allocVector(REALSXP, main_model_p->dim));
  memcpy(REAL(state) + 0, main_model_p->initial_cumuDeaths_On_ART, main_model_p->dim_cumuDeaths_On_ART * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumuARTinitiations_not_TasP, main_model_p->initial_cumuARTinitiations_not_TasP, main_model_p->dim_cumuARTinitiations_not_TasP * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumu_PrEP_dropouts, main_model_p->initial_cumu_PrEP_dropouts, main_model_p->dim_cumu_PrEP_dropouts * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S0_infections, main_model_p->initial_S0_infections, main_model_p->dim_S0_infections * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1a_infections, main_model_p->initial_S1a_infections, main_model_p->dim_S1a_infections * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1b_infections, main_model_p->initial_S1b_infections, main_model_p->dim_S1b_infections * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1c_infections, main_model_p->initial_S1c_infections, main_model_p->dim_S1c_infections * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1d_infections, main_model_p->initial_S1d_infections, main_model_p->dim_S1d_infections * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumuHIVDeaths, main_model_p->initial_cumuHIVDeaths, main_model_p->dim_cumuHIVDeaths * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumuARTinitiations, main_model_p->initial_cumuARTinitiations, main_model_p->dim_cumuARTinitiations * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_TasPinitiations, main_model_p->initial_TasPinitiations, main_model_p->dim_TasPinitiations * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumuARTREinitiations, main_model_p->initial_cumuARTREinitiations, main_model_p->dim_cumuARTREinitiations * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_dropouts, main_model_p->initial_dropouts, main_model_p->dim_dropouts * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumuAllDeaths, main_model_p->initial_cumuAllDeaths, main_model_p->dim_cumuAllDeaths * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_cumuInf, main_model_p->initial_cumuInf, main_model_p->dim_cumuInf * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_PrEPinitiations, main_model_p->initial_PrEPinitiations, main_model_p->dim_PrEPinitiations * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_PrEPinitiations1a, main_model_p->initial_PrEPinitiations1a, main_model_p->dim_PrEPinitiations1a * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_PrEPinitiations1b, main_model_p->initial_PrEPinitiations1b, main_model_p->dim_PrEPinitiations1b * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_PrEPinitiations1c, main_model_p->initial_PrEPinitiations1c, main_model_p->dim_PrEPinitiations1c * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S0, main_model_p->initial_S0, main_model_p->dim_S0 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1a, main_model_p->initial_S1a, main_model_p->dim_S1a * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1b, main_model_p->initial_S1b, main_model_p->dim_S1b * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1c, main_model_p->initial_S1c, main_model_p->dim_S1c * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_S1d, main_model_p->initial_S1d, main_model_p->dim_S1d * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I01, main_model_p->initial_I01, main_model_p->dim_I01 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I11, main_model_p->initial_I11, main_model_p->dim_I11 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I02, main_model_p->initial_I02, main_model_p->dim_I02 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I03, main_model_p->initial_I03, main_model_p->dim_I03 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I04, main_model_p->initial_I04, main_model_p->dim_I04 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I05, main_model_p->initial_I05, main_model_p->dim_I05 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I22, main_model_p->initial_I22, main_model_p->dim_I22 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I23, main_model_p->initial_I23, main_model_p->dim_I23 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I24, main_model_p->initial_I24, main_model_p->dim_I24 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I25, main_model_p->initial_I25, main_model_p->dim_I25 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I32, main_model_p->initial_I32, main_model_p->dim_I32 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I33, main_model_p->initial_I33, main_model_p->dim_I33 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I34, main_model_p->initial_I34, main_model_p->dim_I34 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I35, main_model_p->initial_I35, main_model_p->dim_I35 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I42, main_model_p->initial_I42, main_model_p->dim_I42 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I43, main_model_p->initial_I43, main_model_p->dim_I43 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I44, main_model_p->initial_I44, main_model_p->dim_I44 * sizeof(double));
  memcpy(REAL(state) + main_model_p->offset_I45, main_model_p->initial_I45, main_model_p->dim_I45 * sizeof(double));
  setAttrib(state, install("output_len"), ScalarInteger(main_model_p->dim_output));
  UNPROTECT(1);
  return state;
}

SEXP main_model_set_initial(SEXP main_model_ptr, SEXP t_ptr, SEXP state_ptr) {
  return R_NilValue;
}

void main_model_deriv(main_model_pars *main_model_p, double t, double *state, double *dstatedt, double *output) {
  double *cumuInf = state + main_model_p->offset_cumuInf;
  double *S0 = state + main_model_p->offset_S0;
  double *S1a = state + main_model_p->offset_S1a;
  double *S1b = state + main_model_p->offset_S1b;
  double *S1c = state + main_model_p->offset_S1c;
  double *S1d = state + main_model_p->offset_S1d;
  double *I01 = state + main_model_p->offset_I01;
  double *I11 = state + main_model_p->offset_I11;
  double *I02 = state + main_model_p->offset_I02;
  double *I03 = state + main_model_p->offset_I03;
  double *I04 = state + main_model_p->offset_I04;
  double *I05 = state + main_model_p->offset_I05;
  double *I22 = state + main_model_p->offset_I22;
  double *I23 = state + main_model_p->offset_I23;
  double *I24 = state + main_model_p->offset_I24;
  double *I25 = state + main_model_p->offset_I25;
  double *I32 = state + main_model_p->offset_I32;
  double *I33 = state + main_model_p->offset_I33;
  double *I34 = state + main_model_p->offset_I34;
  double *I35 = state + main_model_p->offset_I35;
  double *I42 = state + main_model_p->offset_I42;
  double *I43 = state + main_model_p->offset_I43;
  double *I44 = state + main_model_p->offset_I44;
  double *I45 = state + main_model_p->offset_I45;
  double *deriv_cumuDeaths_On_ART = dstatedt;
  double *deriv_cumuARTinitiations_not_TasP = dstatedt + main_model_p->offset_cumuARTinitiations_not_TasP;
  double *deriv_cumu_PrEP_dropouts = dstatedt + main_model_p->offset_cumu_PrEP_dropouts;
  double *deriv_S0_infections = dstatedt + main_model_p->offset_S0_infections;
  double *deriv_S1a_infections = dstatedt + main_model_p->offset_S1a_infections;
  double *deriv_S1b_infections = dstatedt + main_model_p->offset_S1b_infections;
  double *deriv_S1c_infections = dstatedt + main_model_p->offset_S1c_infections;
  double *deriv_S1d_infections = dstatedt + main_model_p->offset_S1d_infections;
  double *deriv_cumuHIVDeaths = dstatedt + main_model_p->offset_cumuHIVDeaths;
  double *deriv_cumuARTinitiations = dstatedt + main_model_p->offset_cumuARTinitiations;
  double *deriv_TasPinitiations = dstatedt + main_model_p->offset_TasPinitiations;
  double *deriv_cumuARTREinitiations = dstatedt + main_model_p->offset_cumuARTREinitiations;
  double *deriv_dropouts = dstatedt + main_model_p->offset_dropouts;
  double *deriv_cumuAllDeaths = dstatedt + main_model_p->offset_cumuAllDeaths;
  double *deriv_cumuInf = dstatedt + main_model_p->offset_cumuInf;
  double *deriv_PrEPinitiations = dstatedt + main_model_p->offset_PrEPinitiations;
  double *deriv_PrEPinitiations1a = dstatedt + main_model_p->offset_PrEPinitiations1a;
  double *deriv_PrEPinitiations1b = dstatedt + main_model_p->offset_PrEPinitiations1b;
  double *deriv_PrEPinitiations1c = dstatedt + main_model_p->offset_PrEPinitiations1c;
  double *deriv_S0 = dstatedt + main_model_p->offset_S0;
  double *deriv_S1a = dstatedt + main_model_p->offset_S1a;
  double *deriv_S1b = dstatedt + main_model_p->offset_S1b;
  double *deriv_S1c = dstatedt + main_model_p->offset_S1c;
  double *deriv_S1d = dstatedt + main_model_p->offset_S1d;
  double *deriv_I01 = dstatedt + main_model_p->offset_I01;
  double *deriv_I11 = dstatedt + main_model_p->offset_I11;
  double *deriv_I02 = dstatedt + main_model_p->offset_I02;
  double *deriv_I03 = dstatedt + main_model_p->offset_I03;
  double *deriv_I04 = dstatedt + main_model_p->offset_I04;
  double *deriv_I05 = dstatedt + main_model_p->offset_I05;
  double *deriv_I22 = dstatedt + main_model_p->offset_I22;
  double *deriv_I23 = dstatedt + main_model_p->offset_I23;
  double *deriv_I24 = dstatedt + main_model_p->offset_I24;
  double *deriv_I25 = dstatedt + main_model_p->offset_I25;
  double *deriv_I32 = dstatedt + main_model_p->offset_I32;
  double *deriv_I33 = dstatedt + main_model_p->offset_I33;
  double *deriv_I34 = dstatedt + main_model_p->offset_I34;
  double *deriv_I35 = dstatedt + main_model_p->offset_I35;
  double *deriv_I42 = dstatedt + main_model_p->offset_I42;
  double *deriv_I43 = dstatedt + main_model_p->offset_I43;
  double *deriv_I44 = dstatedt + main_model_p->offset_I44;
  double *deriv_I45 = dstatedt + main_model_p->offset_I45;
  cinterpolate_eval(t, main_model_p->interpolate_pfFSW, main_model_p->pfFSW);
  cinterpolate_eval(t, main_model_p->interpolate_c_comm, main_model_p->c_comm);
  cinterpolate_eval(t, main_model_p->interpolate_c_noncomm, main_model_p->c_noncomm);
  double ART_eligible_CD4_above_500 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_above_500, &ART_eligible_CD4_above_500);
  double ART_eligible_CD4_350_500 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_350_500, &ART_eligible_CD4_350_500);
  double ART_eligible_CD4_200_349 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_200_349, &ART_eligible_CD4_200_349);
  double ART_eligible_CD4_below_200 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_below_200, &ART_eligible_CD4_below_200);
  cinterpolate_eval(t, main_model_p->interpolate_testing_prob, main_model_p->testing_prob);
  cinterpolate_eval(t, main_model_p->interpolate_tau_intervention, main_model_p->tau_intervention);
  cinterpolate_eval(t, main_model_p->interpolate_rho_intervention, main_model_p->rho_intervention);
  double prep_efficacious = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_prep_efficacious, &prep_efficacious);
  for (int i = 0; i < main_model_p->dim_tau; ++i) {
    main_model_p->tau[i] = -log(1 - main_model_p->testing_prob[i]);
  }
  cinterpolate_eval(t, main_model_p->interpolate_viral_supp, main_model_p->viral_supp);
  for (int i = 0; i < main_model_p->dim_cumuARTinitiations_not_TasP; ++i) {
    deriv_cumuARTinitiations_not_TasP[i] = (main_model_p->rho[i] * ART_eligible_CD4_above_500 * main_model_p->above_500_by_group[i]) * I22[i] + (main_model_p->rho[i] * ART_eligible_CD4_350_500) * I23[i] + (main_model_p->rho[i] * ART_eligible_CD4_200_349) * I24[i] + (main_model_p->rho[i] * ART_eligible_CD4_below_200) * I25[i];
  }
  cinterpolate_eval(t, main_model_p->interpolate_infect_ART, main_model_p->infect_ART);
  double epsilon = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_epsilon, &epsilon);
  cinterpolate_eval(t, main_model_p->interpolate_prep_offered, main_model_p->prep_offered);
  for (int i = 0; i < main_model_p->dim_zeta; ++i) {
    main_model_p->zeta[i] = (main_model_p->tau[i] + main_model_p->tau_intervention[i]) * main_model_p->sigma[i] * main_model_p->prep_offered[i] * main_model_p->PrEPOnOff;
  }
  for (int i = 0; i < main_model_p->dim_gamma32; ++i) {
    main_model_p->gamma32[i] = main_model_p->gamma32_without_supp[i] / main_model_p->viral_supp[i];
  }
  for (int i = 0; i < main_model_p->dim_gamma33; ++i) {
    main_model_p->gamma33[i] = main_model_p->gamma33_without_supp[i] / main_model_p->viral_supp[i];
  }
  for (int i = 0; i < main_model_p->dim_gamma34; ++i) {
    main_model_p->gamma34[i] = main_model_p->gamma34_without_supp[i] / main_model_p->viral_supp[i];
  }
  for (int i = 0; i < main_model_p->dim_cumu_PrEP_dropouts; ++i) {
    deriv_cumu_PrEP_dropouts[i] = main_model_p->kappaa[i] * S1a[i] + main_model_p->kappab[i] * S1b[i] + main_model_p->kappac[i] * S1c[i];
  }
  for (int i = 0; i < main_model_p->dim_alpha33; ++i) {
    main_model_p->alpha33[i] = main_model_p->alpha33_without_supp[i] / main_model_p->viral_supp[i];
  }
  for (int i = 0; i < main_model_p->dim_alpha34; ++i) {
    main_model_p->alpha34[i] = main_model_p->alpha34_without_supp[i] / main_model_p->viral_supp[i];
  }
  for (int i = 0; i < main_model_p->dim_alpha35; ++i) {
    main_model_p->alpha35[i] = main_model_p->alpha35_without_supp[i] / main_model_p->viral_supp[i];
  }
  for (int i = 0; i < main_model_p->dim_cumuDeaths_On_ART; ++i) {
    deriv_cumuDeaths_On_ART[i] = (main_model_p->alpha32[i] + main_model_p->mu[i]) * I32[i] + (main_model_p->alpha33[i] + main_model_p->mu[i]) * I33[i] + (main_model_p->alpha34[i] + main_model_p->mu[i]) * I34[i] + (main_model_p->alpha35[i] + main_model_p->mu[i]) * I35[i];
  }
  for (int i = 0; i < main_model_p->dim_eP1a_effective; ++i) {
    main_model_p->eP1a_effective[i] = main_model_p->eP1a[i] * prep_efficacious;
  }
  for (int i = 0; i < main_model_p->dim_eP1b_effective; ++i) {
    main_model_p->eP1b_effective[i] = main_model_p->eP1b[i] * prep_efficacious;
  }
  for (int i = 0; i < main_model_p->dim_eP1c_effective; ++i) {
    main_model_p->eP1c_effective[i] = main_model_p->eP1c[i] * prep_efficacious;
  }
  cinterpolate_eval(t, main_model_p->interpolate_fc_comm, main_model_p->fc_comm);
  cinterpolate_eval(t, main_model_p->interpolate_fP_comm, main_model_p->fP_comm);
  cinterpolate_eval(t, main_model_p->interpolate_fc_noncomm, main_model_p->fc_noncomm);
  cinterpolate_eval(t, main_model_p->interpolate_fP_noncomm, main_model_p->fP_noncomm);
  cinterpolate_eval(t, main_model_p->interpolate_n_comm, main_model_p->n_comm);
  cinterpolate_eval(t, main_model_p->interpolate_n_noncomm, main_model_p->n_noncomm);
  for (int i = 0; i < main_model_p->dim_cumuHIVDeaths; ++i) {
    deriv_cumuHIVDeaths[i] = main_model_p->alpha01[i] * I01[i] + main_model_p->alpha11[i] * I11[i] + main_model_p->alpha02[i] * I02[i] + main_model_p->alpha03[i] * I03[i] + main_model_p->alpha04[i] * I04[i] + main_model_p->alpha05[i] * I05[i] + main_model_p->alpha22[i] * I22[i] + main_model_p->alpha23[i] * I23[i] + main_model_p->alpha24[i] * I24[i] + main_model_p->alpha25[i] * I25[i] + main_model_p->alpha32[i] * I32[i] + main_model_p->alpha33[i] * I33[i] + main_model_p->alpha34[i] * I34[i] + main_model_p->alpha35[i] * I35[i] + main_model_p->alpha42[i] * I42[i] + main_model_p->alpha43[i] * I43[i] + main_model_p->alpha44[i] * I44[i] + main_model_p->alpha45[i] * I45[i];
  }
  for (int i = 0; i < main_model_p->dim_cumuARTinitiations; ++i) {
    deriv_cumuARTinitiations[i] = (main_model_p->rho_intervention[i] + main_model_p->rho[i] * ART_eligible_CD4_above_500 * main_model_p->above_500_by_group[i]) * I22[i] + (main_model_p->rho[i] * ART_eligible_CD4_350_500 + main_model_p->rho_intervention[i]) * I23[i] + (main_model_p->rho[i] * ART_eligible_CD4_200_349 + main_model_p->rho_intervention[i]) * I24[i] + (main_model_p->rho[i] * ART_eligible_CD4_below_200 + main_model_p->rho_intervention[i]) * I25[i];
  }
  for (int i = 0; i < main_model_p->dim_TasPinitiations; ++i) {
    deriv_TasPinitiations[i] = (main_model_p->rho_intervention[i]) * I22[i] + (main_model_p->rho_intervention[i]) * I23[i] + (main_model_p->rho_intervention[i]) * I24[i] + (main_model_p->rho_intervention[i]) * I25[i];
  }
  for (int i = 0; i < main_model_p->dim_cumuARTREinitiations; ++i) {
    deriv_cumuARTREinitiations[i] = main_model_p->iota[i] * I42[i] + main_model_p->iota[i] * I43[i] + main_model_p->iota[i] * I44[i] + main_model_p->iota[i] * I45[i];
  }
  for (int i = 0; i < main_model_p->dim_dropouts; ++i) {
    deriv_dropouts[i] = main_model_p->phi2[i] * I32[i] + main_model_p->phi3[i] * I33[i] + main_model_p->phi4[i] * I34[i] + main_model_p->phi5[i] * I35[i];
  }
  for (int i = 0; i < main_model_p->dim_cumuAllDeaths; ++i) {
    deriv_cumuAllDeaths[i] = (main_model_p->alpha01[i] + main_model_p->mu[i]) * I01[i] + (main_model_p->alpha11[i] + main_model_p->mu[i]) * I11[i] + (main_model_p->alpha02[i] + main_model_p->mu[i]) * I02[i] + (main_model_p->alpha03[i] + main_model_p->mu[i]) * I03[i] + (main_model_p->alpha04[i] + main_model_p->mu[i]) * I04[i] + (main_model_p->alpha05[i] + main_model_p->mu[i]) * I05[i] + (main_model_p->alpha22[i] + main_model_p->mu[i]) * I22[i] + (main_model_p->alpha23[i] + main_model_p->mu[i]) * I23[i] + (main_model_p->alpha24[i] + main_model_p->mu[i]) * I24[i] + (main_model_p->alpha25[i] + main_model_p->mu[i]) * I25[i] + (main_model_p->alpha32[i] + main_model_p->mu[i]) * I32[i] + (main_model_p->alpha33[i] + main_model_p->mu[i]) * I33[i] + (main_model_p->alpha34[i] + main_model_p->mu[i]) * I34[i] + (main_model_p->alpha35[i] + main_model_p->mu[i]) * I35[i] + (main_model_p->alpha42[i] + main_model_p->mu[i]) * I42[i] + (main_model_p->alpha43[i] + main_model_p->mu[i]) * I43[i] + (main_model_p->alpha44[i] + main_model_p->mu[i]) * I44[i] + (main_model_p->alpha45[i] + main_model_p->mu[i]) * I45[i] + main_model_p->mu[i] * (S0[i] + S1a[i] + S1b[i] + S1c[i] + S1d[i]);
  }
  for (int i = 0; i < main_model_p->dim_PrEPinitiations; ++i) {
    deriv_PrEPinitiations[i] = main_model_p->zeta[i] * S0[i];
  }
  for (int i = 0; i < main_model_p->dim_PrEPinitiations1a; ++i) {
    deriv_PrEPinitiations1a[i] = main_model_p->zeta[i] * main_model_p->fPa * S0[i];
  }
  for (int i = 0; i < main_model_p->dim_PrEPinitiations1b; ++i) {
    deriv_PrEPinitiations1b[i] = main_model_p->zeta[i] * main_model_p->fPb * S0[i];
  }
  for (int i = 0; i < main_model_p->dim_PrEPinitiations1c; ++i) {
    deriv_PrEPinitiations1c[i] = main_model_p->zeta[i] * main_model_p->fPc * S0[i];
  }
  for (int i = 0; i < main_model_p->dim_N; ++i) {
    main_model_p->N[i] = S0[i] + S1a[i] + S1b[i] + S1c[i] + S1d[i] + I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i];
  }
  double Ntot = (main_model_p->Ncat == 9 ? (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[6] + main_model_p->N[7]) : odin_sum1(main_model_p->N, 0, main_model_p->dim_N - 1));
  for (int i = 0; i < main_model_p->dim_new_people_in_group; ++i) {
    main_model_p->new_people_in_group[i] = (epsilon + main_model_p->mu[i] + main_model_p->nu) * Ntot * main_model_p->omega[i];
  }
  for (int i = 0; i < main_model_p->dim_new_people_in_group_FSW_only; ++i) {
    main_model_p->new_people_in_group_FSW_only[i] = main_model_p->rate_leave_pro_FSW * main_model_p->N[i] * main_model_p->fraction_FSW_foreign * main_model_p->FSW_ONLY[i];
  }
  for (int i = 0; i < main_model_p->dim_E1a; ++i) {
    main_model_p->E1a[i] = main_model_p->zeta[i] * main_model_p->fPa * S0[i] - main_model_p->psia[i] * S1a[i] - main_model_p->kappaa[i] * S1a[i];
  }
  for (int i = 0; i < main_model_p->dim_E1b; ++i) {
    main_model_p->E1b[i] = main_model_p->zeta[i] * main_model_p->fPb * S0[i] + main_model_p->psia[i] * S1a[i] - main_model_p->psib[i] * S1b[i] - main_model_p->kappab[i] * S1b[i];
  }
  for (int i = 0; i < main_model_p->dim_E1c; ++i) {
    main_model_p->E1c[i] = main_model_p->zeta[i] * main_model_p->fPc * S0[i] + main_model_p->psib[i] * S1b[i] - main_model_p->kappac[i] * S1c[i];
  }
  for (int i = 0; i < main_model_p->dim_E1d; ++i) {
    main_model_p->E1d[i] = main_model_p->kappaa[i] * S1a[i] + main_model_p->kappab[i] * S1b[i] + main_model_p->kappac[i] * S1c[i];
  }
  for (int i = 0; i < main_model_p->dim_alphaItot; ++i) {
    main_model_p->alphaItot[i] = main_model_p->alpha01[i] * I01[i] + main_model_p->alpha11[i] * I11[i] + main_model_p->alpha02[i] * I02[i] + main_model_p->alpha03[i] * I03[i] + main_model_p->alpha04[i] * I04[i] + main_model_p->alpha05[i] * I05[i] + main_model_p->alpha22[i] * I22[i] + main_model_p->alpha23[i] * I23[i] + main_model_p->alpha24[i] * I24[i] + main_model_p->alpha25[i] * I25[i] + main_model_p->alpha32[i] * I32[i] + main_model_p->alpha33[i] * I33[i] + main_model_p->alpha34[i] * I34[i] + main_model_p->alpha35[i] * I35[i] + main_model_p->alpha42[i] * I42[i] + main_model_p->alpha43[i] * I43[i] + main_model_p->alpha44[i] * I44[i] + main_model_p->alpha45[i] * I45[i];
  }
  for (int i = 0; i < main_model_p->dim_E0; ++i) {
    main_model_p->E0[i] = (main_model_p->replaceDeaths == 1 ? main_model_p->mu[i] * main_model_p->N[i] + main_model_p->nu * main_model_p->N[i] + main_model_p->alphaItot[i] + epsilon * Ntot * main_model_p->omega[i] : main_model_p->new_people_in_group[i] + main_model_p->new_people_in_group_FSW_only[i]);
  }
  for (int i = 0; i < main_model_p->dim_c_comm_balanced; ++i) {
    main_model_p->c_comm_balanced[i] = main_model_p->c_comm[i];
  }
  {
    int i = 4;
    main_model_p->c_comm_balanced[i] = (main_model_p->Ncat == 9 && main_model_p->who_believe_comm == 0 ? (main_model_p->c_comm[0] * main_model_p->N[0] + main_model_p->c_comm[1] * main_model_p->N[1]) / main_model_p->N[4] : main_model_p->c_comm_balanced[4]);
  }
  {
    int i = 0;
    main_model_p->c_comm_balanced[i] = (main_model_p->Ncat == 9 && main_model_p->who_believe_comm == 1 ? (main_model_p->c_comm[4] * main_model_p->N[4] - main_model_p->c_comm[1] * main_model_p->N[1]) / main_model_p->N[0] : main_model_p->c_comm_balanced[0]);
  }
  for (int i = 0; i < main_model_p->dim_c_noncomm_balanced; ++i) {
    main_model_p->c_noncomm_balanced[i] = main_model_p->c_noncomm[i];
  }
  {
    int i = 2;
    main_model_p->c_noncomm_balanced[i] = (main_model_p->Ncat == 9 ? (main_model_p->N[4] * main_model_p->c_noncomm[4] + main_model_p->N[5] * main_model_p->c_noncomm[5] - main_model_p->N[0] * main_model_p->c_noncomm[0] - main_model_p->N[1] * main_model_p->c_noncomm[1]) / (main_model_p->N[2] + main_model_p->N[3]) : main_model_p->c_noncomm_balanced[2]);
  }
  {
    int i = 3;
    main_model_p->c_noncomm_balanced[i] = (main_model_p->Ncat == 9 ? main_model_p->c_noncomm_balanced[2] : main_model_p->c_noncomm_balanced[3]);
  }
  for (int i = 0; i < main_model_p->dim_comm_partnerships_requested_1; ++i) {
    for (int j = 0; j < main_model_p->dim_comm_partnerships_requested_2; ++j) {
      main_model_p->comm_partnerships_requested[i + j * main_model_p->dim_comm_partnerships_requested_1] = main_model_p->N[j] * main_model_p->c_comm_balanced[j] * main_model_p->M_comm[i + j * main_model_p->dim_M_comm_1];
    }
  }
  for (int i = 0; i < main_model_p->dim_p_comm_1; ++i) {
    for (int j = 0; j < main_model_p->dim_p_comm_2; ++j) {
      main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1] = (main_model_p->M_comm[i + j * main_model_p->dim_M_comm_1] == 0 ? 0 : main_model_p->M_comm[i + j * main_model_p->dim_M_comm_1] * main_model_p->N[j] * main_model_p->c_comm_balanced[j] / odin_sum2(main_model_p->comm_partnerships_requested, i, i, 0, main_model_p->dim_comm_partnerships_requested_2 - 1, main_model_p->dim_comm_partnerships_requested_1));
    }
  }
  for (int i = 0; i < main_model_p->dim_noncomm_partnerships_requested_1; ++i) {
    for (int j = 0; j < main_model_p->dim_noncomm_partnerships_requested_2; ++j) {
      main_model_p->noncomm_partnerships_requested[i + j * main_model_p->dim_noncomm_partnerships_requested_1] = main_model_p->N[j] * main_model_p->c_noncomm_balanced[j] * main_model_p->M_noncomm[i + j * main_model_p->dim_M_noncomm_1];
    }
  }
  for (int i = 0; i < main_model_p->dim_p_noncomm_1; ++i) {
    for (int j = 0; j < main_model_p->dim_p_noncomm_2; ++j) {
      main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1] = (main_model_p->M_noncomm[i + j * main_model_p->dim_M_noncomm_1] == 0 ? 0 : main_model_p->M_noncomm[i + j * main_model_p->dim_M_noncomm_1] * main_model_p->N[j] * main_model_p->c_noncomm_balanced[j] / odin_sum2(main_model_p->noncomm_partnerships_requested, i, i, 0, main_model_p->dim_noncomm_partnerships_requested_2 - 1, main_model_p->dim_noncomm_partnerships_requested_1));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_0_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_0_2; ++j) {
      main_model_p->lambda_0[i + j * main_model_p->dim_lambda_0_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP0[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1a_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1a_2; ++j) {
      main_model_p->lambda_1a[i + j * main_model_p->dim_lambda_1a_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1a_effective[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1b_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1b_2; ++j) {
      main_model_p->lambda_1b[i + j * main_model_p->dim_lambda_1b_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1b_effective[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1c_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1c_2; ++j) {
      main_model_p->lambda_1c[i + j * main_model_p->dim_lambda_1c_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1c_effective[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1d_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1d_2; ++j) {
      main_model_p->lambda_1d[i + j * main_model_p->dim_lambda_1d_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1d[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_0; ++i) {
    main_model_p->lambda_sum_0[i] = odin_sum2(main_model_p->lambda_0, i, i, 0, main_model_p->dim_lambda_0_2 - 1, main_model_p->dim_lambda_0_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1a; ++i) {
    main_model_p->lambda_sum_1a[i] = odin_sum2(main_model_p->lambda_1a, i, i, 0, main_model_p->dim_lambda_1a_2 - 1, main_model_p->dim_lambda_1a_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1b; ++i) {
    main_model_p->lambda_sum_1b[i] = odin_sum2(main_model_p->lambda_1b, i, i, 0, main_model_p->dim_lambda_1b_2 - 1, main_model_p->dim_lambda_1b_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1c; ++i) {
    main_model_p->lambda_sum_1c[i] = odin_sum2(main_model_p->lambda_1c, i, i, 0, main_model_p->dim_lambda_1c_2 - 1, main_model_p->dim_lambda_1c_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1d; ++i) {
    main_model_p->lambda_sum_1d[i] = odin_sum2(main_model_p->lambda_1d, i, i, 0, main_model_p->dim_lambda_1d_2 - 1, main_model_p->dim_lambda_1d_1);
  }
  for (int i = 0; i < main_model_p->dim_cumuInf; ++i) {
    deriv_cumuInf[i] = S0[i] * main_model_p->lambda_sum_0[i] + S1a[i] * main_model_p->lambda_sum_1a[i] + S1b[i] * main_model_p->lambda_sum_1b[i] + S1c[i] * main_model_p->lambda_sum_1c[i] + S1d[i] * main_model_p->lambda_sum_1d[i];
  }
  for (int i = 0; i < main_model_p->dim_S0_infections; ++i) {
    deriv_S0_infections[i] = S0[i] * main_model_p->lambda_sum_0[i];
  }
  for (int i = 0; i < main_model_p->dim_S1a_infections; ++i) {
    deriv_S1a_infections[i] = S1a[i] * main_model_p->lambda_sum_1a[i];
  }
  for (int i = 0; i < main_model_p->dim_S1b_infections; ++i) {
    deriv_S1b_infections[i] = S1b[i] * main_model_p->lambda_sum_1b[i];
  }
  for (int i = 0; i < main_model_p->dim_S1c_infections; ++i) {
    deriv_S1c_infections[i] = S1c[i] * main_model_p->lambda_sum_1c[i];
  }
  for (int i = 0; i < main_model_p->dim_S1d_infections; ++i) {
    deriv_S1d_infections[i] = S1d[i] * main_model_p->lambda_sum_1d[i];
  }
  for (int i = 0; i < main_model_p->dim_in_S0_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_S0_2; ++j) {
      main_model_p->in_S0[i + j * main_model_p->dim_in_S0_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * S0[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_S1a_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_S1a_2; ++j) {
      main_model_p->in_S1a[i + j * main_model_p->dim_in_S1a_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * S1a[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_S1b_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_S1b_2; ++j) {
      main_model_p->in_S1b[i + j * main_model_p->dim_in_S1b_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * S1b[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_S1c_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_S1c_2; ++j) {
      main_model_p->in_S1c[i + j * main_model_p->dim_in_S1c_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * S1c[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_S1d_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_S1d_2; ++j) {
      main_model_p->in_S1d[i + j * main_model_p->dim_in_S1d_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * S1d[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I01_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I01_2; ++j) {
      main_model_p->in_I01[i + j * main_model_p->dim_in_I01_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I01[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I11_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I11_2; ++j) {
      main_model_p->in_I11[i + j * main_model_p->dim_in_I11_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I11[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I02_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I02_2; ++j) {
      main_model_p->in_I02[i + j * main_model_p->dim_in_I02_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I02[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I03_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I03_2; ++j) {
      main_model_p->in_I03[i + j * main_model_p->dim_in_I03_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I03[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I04_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I04_2; ++j) {
      main_model_p->in_I04[i + j * main_model_p->dim_in_I04_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I04[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I05_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I05_2; ++j) {
      main_model_p->in_I05[i + j * main_model_p->dim_in_I05_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I05[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I22_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I22_2; ++j) {
      main_model_p->in_I22[i + j * main_model_p->dim_in_I22_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I22[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I23_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I23_2; ++j) {
      main_model_p->in_I23[i + j * main_model_p->dim_in_I23_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I23[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I24_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I24_2; ++j) {
      main_model_p->in_I24[i + j * main_model_p->dim_in_I24_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I24[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I25_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I25_2; ++j) {
      main_model_p->in_I25[i + j * main_model_p->dim_in_I25_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I25[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I32_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I32_2; ++j) {
      main_model_p->in_I32[i + j * main_model_p->dim_in_I32_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I32[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I33_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I33_2; ++j) {
      main_model_p->in_I33[i + j * main_model_p->dim_in_I33_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I33[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I34_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I34_2; ++j) {
      main_model_p->in_I34[i + j * main_model_p->dim_in_I34_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I34[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I35_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I35_2; ++j) {
      main_model_p->in_I35[i + j * main_model_p->dim_in_I35_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I35[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I42_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I42_2; ++j) {
      main_model_p->in_I42[i + j * main_model_p->dim_in_I42_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I42[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I43_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I43_2; ++j) {
      main_model_p->in_I43[i + j * main_model_p->dim_in_I43_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I43[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I44_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I44_2; ++j) {
      main_model_p->in_I44[i + j * main_model_p->dim_in_I44_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I44[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_in_I45_1; ++i) {
    for (int j = 0; j < main_model_p->dim_in_I45_2; ++j) {
      main_model_p->in_I45[i + j * main_model_p->dim_in_I45_1] = (i == j ? 0 : main_model_p->rate_move_in[i + j * main_model_p->dim_rate_move_in_1] * I45[j]);
    }
  }
  for (int i = 0; i < main_model_p->dim_S0; ++i) {
    deriv_S0[i] = main_model_p->E0[i] * (1 - main_model_p->infected_FSW_incoming * main_model_p->pfFSW[i]) - S0[i] * main_model_p->lambda_sum_0[i] - S0[i] * main_model_p->mu[i] - S0[i] * main_model_p->nu + main_model_p->rate_move_out[i] * S0[i] + odin_sum2(main_model_p->in_S0, i, i, 0, main_model_p->dim_in_S0_2 - 1, main_model_p->dim_in_S0_1) - S0[i] * main_model_p->zeta[i];
  }
  for (int i = 0; i < main_model_p->dim_I01; ++i) {
    deriv_I01[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_1 * main_model_p->E0[i] * main_model_p->pfFSW[i] + S0[i] * main_model_p->lambda_sum_0[i] + S1d[i] * main_model_p->lambda_sum_1d[i] - I01[i] * (main_model_p->gamma01[i] + main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing + main_model_p->alpha01[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I01[i] + odin_sum2(main_model_p->in_I01, i, i, 0, main_model_p->dim_in_I01_2 - 1, main_model_p->dim_in_I01_1) + main_model_p->kappa1[i] * I11[i];
  }
  for (int i = 0; i < main_model_p->dim_I11; ++i) {
    deriv_I11[i] = S1a[i] * main_model_p->lambda_sum_1a[i] + S1b[i] * main_model_p->lambda_sum_1b[i] + S1c[i] * main_model_p->lambda_sum_1c[i] - I11[i] * (main_model_p->gamma11[i] + main_model_p->test_rate_prep[i] + main_model_p->kappa1[i] + main_model_p->alpha11[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I11[i] + odin_sum2(main_model_p->in_I11, i, i, 0, main_model_p->dim_in_I11_2 - 1, main_model_p->dim_in_I11_1);
  }
  for (int i = 0; i < main_model_p->dim_I02; ++i) {
    deriv_I02[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_2 * main_model_p->E0[i] * main_model_p->pfFSW[i] + main_model_p->gamma01[i] * I01[i] + main_model_p->gamma11[i] * I11[i] - I02[i] * (main_model_p->gamma02[i] + main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing + main_model_p->alpha02[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I02[i] + odin_sum2(main_model_p->in_I02, i, i, 0, main_model_p->dim_in_I02_2 - 1, main_model_p->dim_in_I02_1);
  }
  for (int i = 0; i < main_model_p->dim_I03; ++i) {
    deriv_I03[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_3 * main_model_p->E0[i] * main_model_p->pfFSW[i] + main_model_p->gamma02[i] * I02[i] - I03[i] * (main_model_p->gamma03[i] + main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing + main_model_p->alpha03[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I03[i] + odin_sum2(main_model_p->in_I03, i, i, 0, main_model_p->dim_in_I03_2 - 1, main_model_p->dim_in_I03_1);
  }
  for (int i = 0; i < main_model_p->dim_I04; ++i) {
    deriv_I04[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_4 * main_model_p->E0[i] * main_model_p->pfFSW[i] + main_model_p->gamma03[i] * I03[i] - I04[i] * (main_model_p->gamma04[i] + main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing + main_model_p->alpha04[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I04[i] + odin_sum2(main_model_p->in_I04, i, i, 0, main_model_p->dim_in_I04_2 - 1, main_model_p->dim_in_I04_1);
  }
  for (int i = 0; i < main_model_p->dim_I05; ++i) {
    deriv_I05[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_5 * main_model_p->E0[i] * main_model_p->pfFSW[i] + main_model_p->gamma04[i] * I04[i] - I05[i] * (main_model_p->RR_test_CD4200 * main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing + main_model_p->alpha05[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I05[i] + odin_sum2(main_model_p->in_I05, i, i, 0, main_model_p->dim_in_I05_2 - 1, main_model_p->dim_in_I05_1);
  }
  for (int i = 0; i < main_model_p->dim_I22; ++i) {
    deriv_I22[i] = (main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing) * I01[i] + main_model_p->test_rate_prep[i] * I11[i] + (main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing) * I02[i] - I22[i] * (main_model_p->gamma22[i] + main_model_p->rho_intervention[i] + main_model_p->rho[i] * ART_eligible_CD4_above_500 * main_model_p->above_500_by_group[i] + main_model_p->alpha22[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I22[i] + odin_sum2(main_model_p->in_I22, i, i, 0, main_model_p->dim_in_I22_2 - 1, main_model_p->dim_in_I22_1);
  }
  for (int i = 0; i < main_model_p->dim_I23; ++i) {
    deriv_I23[i] = main_model_p->gamma22[i] * I22[i] + (main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing) * I03[i] - I23[i] * (main_model_p->gamma23[i] + main_model_p->rho[i] * ART_eligible_CD4_350_500 + main_model_p->rho_intervention[i] + main_model_p->alpha23[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I23[i] + odin_sum2(main_model_p->in_I23, i, i, 0, main_model_p->dim_in_I23_2 - 1, main_model_p->dim_in_I23_1);
  }
  for (int i = 0; i < main_model_p->dim_I24; ++i) {
    deriv_I24[i] = main_model_p->gamma23[i] * I23[i] + (main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing) * I04[i] - I24[i] * (main_model_p->gamma24[i] + main_model_p->rho[i] * ART_eligible_CD4_200_349 + main_model_p->rho_intervention[i] + main_model_p->alpha24[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I24[i] + odin_sum2(main_model_p->in_I24, i, i, 0, main_model_p->dim_in_I24_2 - 1, main_model_p->dim_in_I24_1);
  }
  for (int i = 0; i < main_model_p->dim_I25; ++i) {
    deriv_I25[i] = main_model_p->gamma24[i] * I24[i] + (main_model_p->RR_test_CD4200 * main_model_p->tau[i] + main_model_p->tau_intervention[i] * main_model_p->TasP_testing) * I05[i] - I25[i] * (main_model_p->rho[i] * ART_eligible_CD4_below_200 + main_model_p->rho_intervention[i] + main_model_p->alpha25[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I25[i] + odin_sum2(main_model_p->in_I25, i, i, 0, main_model_p->dim_in_I25_2 - 1, main_model_p->dim_in_I25_1);
  }
  for (int i = 0; i < main_model_p->dim_I32; ++i) {
    deriv_I32[i] = (main_model_p->rho[i] * ART_eligible_CD4_above_500 * main_model_p->above_500_by_group[i] + main_model_p->rho_intervention[i]) * I22[i] + main_model_p->iota[i] * I42[i] - I32[i] * (main_model_p->gamma32[i] + main_model_p->phi2[i] + main_model_p->alpha32[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I32[i] + odin_sum2(main_model_p->in_I32, i, i, 0, main_model_p->dim_in_I32_2 - 1, main_model_p->dim_in_I32_1);
  }
  for (int i = 0; i < main_model_p->dim_I33; ++i) {
    deriv_I33[i] = main_model_p->gamma32[i] * I32[i] + (main_model_p->rho[i] * ART_eligible_CD4_350_500 + main_model_p->rho_intervention[i]) * I23[i] + main_model_p->iota[i] * I43[i] - I33[i] * (main_model_p->gamma33[i] + main_model_p->phi3[i] + main_model_p->alpha33[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I33[i] + odin_sum2(main_model_p->in_I33, i, i, 0, main_model_p->dim_in_I33_2 - 1, main_model_p->dim_in_I33_1);
  }
  for (int i = 0; i < main_model_p->dim_I34; ++i) {
    deriv_I34[i] = main_model_p->gamma33[i] * I33[i] + (main_model_p->rho[i] * ART_eligible_CD4_200_349 + main_model_p->rho_intervention[i]) * I24[i] + main_model_p->iota[i] * I44[i] - I34[i] * (main_model_p->gamma34[i] + main_model_p->phi4[i] + main_model_p->alpha34[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I34[i] + odin_sum2(main_model_p->in_I34, i, i, 0, main_model_p->dim_in_I34_2 - 1, main_model_p->dim_in_I34_1);
  }
  for (int i = 0; i < main_model_p->dim_I35; ++i) {
    deriv_I35[i] = main_model_p->gamma34[i] * I34[i] + (main_model_p->rho[i] * ART_eligible_CD4_below_200 + main_model_p->rho_intervention[i]) * I25[i] + main_model_p->iota[i] * I45[i] - I35[i] * (main_model_p->phi5[i] + main_model_p->alpha35[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I35[i] + odin_sum2(main_model_p->in_I35, i, i, 0, main_model_p->dim_in_I35_2 - 1, main_model_p->dim_in_I35_1);
  }
  for (int i = 0; i < main_model_p->dim_I42; ++i) {
    deriv_I42[i] = main_model_p->phi2[i] * I32[i] - I42[i] * (main_model_p->gamma42[i] + main_model_p->iota[i] + main_model_p->alpha42[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I42[i] + odin_sum2(main_model_p->in_I42, i, i, 0, main_model_p->dim_in_I42_2 - 1, main_model_p->dim_in_I42_1);
  }
  for (int i = 0; i < main_model_p->dim_I43; ++i) {
    deriv_I43[i] = main_model_p->gamma42[i] * I42[i] + main_model_p->phi3[i] * I33[i] - I43[i] * (main_model_p->gamma43[i] + main_model_p->iota[i] + main_model_p->alpha43[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I43[i] + odin_sum2(main_model_p->in_I43, i, i, 0, main_model_p->dim_in_I43_2 - 1, main_model_p->dim_in_I43_1);
  }
  for (int i = 0; i < main_model_p->dim_I44; ++i) {
    deriv_I44[i] = main_model_p->gamma43[i] * I43[i] + main_model_p->phi4[i] * I34[i] - I44[i] * (main_model_p->gamma44[i] + main_model_p->iota[i] + main_model_p->alpha44[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I44[i] + odin_sum2(main_model_p->in_I44, i, i, 0, main_model_p->dim_in_I44_2 - 1, main_model_p->dim_in_I44_1);
  }
  for (int i = 0; i < main_model_p->dim_I45; ++i) {
    deriv_I45[i] = main_model_p->gamma44[i] * I44[i] + main_model_p->phi5[i] * I35[i] - I45[i] * (main_model_p->iota[i] + main_model_p->alpha45[i] + main_model_p->mu[i] + main_model_p->nu) + main_model_p->rate_move_out[i] * I45[i] + odin_sum2(main_model_p->in_I45, i, i, 0, main_model_p->dim_in_I45_2 - 1, main_model_p->dim_in_I45_1);
  }
  for (int i = 0; i < main_model_p->dim_S1a; ++i) {
    deriv_S1a[i] = main_model_p->E1a[i] - S1a[i] * main_model_p->lambda_sum_1a[i] - S1a[i] * main_model_p->mu[i] - S1a[i] * main_model_p->nu + main_model_p->rate_move_out_PrEP[i] * S1a[i] + odin_sum2(main_model_p->in_S1a, i, i, 0, main_model_p->dim_in_S1a_2 - 1, main_model_p->dim_in_S1a_1);
  }
  for (int i = 0; i < main_model_p->dim_S1b; ++i) {
    deriv_S1b[i] = main_model_p->E1b[i] - S1b[i] * main_model_p->lambda_sum_1b[i] - S1b[i] * main_model_p->mu[i] - S1b[i] * main_model_p->nu + main_model_p->rate_move_out_PrEP[i] * S1b[i] + odin_sum2(main_model_p->in_S1b, i, i, 0, main_model_p->dim_in_S1b_2 - 1, main_model_p->dim_in_S1b_1);
  }
  for (int i = 0; i < main_model_p->dim_S1c; ++i) {
    deriv_S1c[i] = main_model_p->E1c[i] - S1c[i] * main_model_p->lambda_sum_1c[i] - S1c[i] * main_model_p->mu[i] - S1c[i] * main_model_p->nu + main_model_p->rate_move_out_PrEP[i] * S1c[i] + odin_sum2(main_model_p->in_S1c, i, i, 0, main_model_p->dim_in_S1c_2 - 1, main_model_p->dim_in_S1c_1);
  }
  for (int i = 0; i < main_model_p->dim_S1d; ++i) {
    deriv_S1d[i] = main_model_p->E1d[i] - S1d[i] * main_model_p->lambda_sum_1d[i] - S1d[i] * main_model_p->mu[i] - S1d[i] * main_model_p->nu + main_model_p->rate_move_out_PrEP[i] * S1d[i] + odin_sum2(main_model_p->in_S1d, i, i, 0, main_model_p->dim_in_S1d_2 - 1, main_model_p->dim_in_S1d_1);
  }
  if (output != NULL) {
    double *output_infect_ART_y = output + 74;
    double *output_infect_ART_t = output + main_model_p->offset_output_infect_ART_t;
    double *output_viral_supp_y = output + main_model_p->offset_output_viral_supp_y;
    double *output_viral_supp_t = output + main_model_p->offset_output_viral_supp_t;
    double *output_gamma32_without_supp = output + main_model_p->offset_output_gamma32_without_supp;
    double *output_gamma33_without_supp = output + main_model_p->offset_output_gamma33_without_supp;
    double *output_gamma34_without_supp = output + main_model_p->offset_output_gamma34_without_supp;
    double *output_alpha33_without_supp = output + main_model_p->offset_output_alpha33_without_supp;
    double *output_alpha34_without_supp = output + main_model_p->offset_output_alpha34_without_supp;
    double *output_alpha35_without_supp = output + main_model_p->offset_output_alpha35_without_supp;
    double *output_c_comm = output + main_model_p->offset_output_c_comm;
    double *output_c_noncomm = output + main_model_p->offset_output_c_noncomm;
    double *output_pfFSW = output + main_model_p->offset_output_pfFSW;
    double *output_new_acute_infected = output + main_model_p->offset_output_new_acute_infected;
    double *output_new_people_in_group = output + main_model_p->offset_output_new_people_in_group;
    double *output_new_people_in_group_FSW_only = output + main_model_p->offset_output_new_people_in_group_FSW_only;
    double *output_above_500_by_group = output + main_model_p->offset_output_above_500_by_group;
    double *output_testing_prob = output + main_model_p->offset_output_testing_prob;
    double *output_tau_intervention = output + main_model_p->offset_output_tau_intervention;
    double *output_rho_intervention = output + main_model_p->offset_output_rho_intervention;
    double *output_zeta = output + main_model_p->offset_output_zeta;
    double *output_eP1a_effective = output + main_model_p->offset_output_eP1a_effective;
    double *output_eP1b_effective = output + main_model_p->offset_output_eP1b_effective;
    double *output_eP1c_effective = output + main_model_p->offset_output_eP1c_effective;
    double *output_tau = output + main_model_p->offset_output_tau;
    double *output_rho = output + main_model_p->offset_output_rho;
    double *output_iota = output + main_model_p->offset_output_iota;
    double *output_viral_supp = output + main_model_p->offset_output_viral_supp;
    double *output_HIV_positive = output + main_model_p->offset_output_HIV_positive;
    double *output_Number_Susceptibles = output + main_model_p->offset_output_Number_Susceptibles;
    double *output_HIV_positive_Diagnosed_Off_ART = output + main_model_p->offset_output_HIV_positive_Diagnosed_Off_ART;
    double *output_Primary_Off_ART = output + main_model_p->offset_output_Primary_Off_ART;
    double *output_CD4_above_500_Off_ART = output + main_model_p->offset_output_CD4_above_500_Off_ART;
    double *output_CD4_350_500_Off_ART = output + main_model_p->offset_output_CD4_350_500_Off_ART;
    double *output_CD4_200_350_Off_ART = output + main_model_p->offset_output_CD4_200_350_Off_ART;
    double *output_CD4_below_200_Off_ART = output + main_model_p->offset_output_CD4_below_200_Off_ART;
    double *output_HIV_positive_On_ART = output + main_model_p->offset_output_HIV_positive_On_ART;
    double *output_Number_DALY_W1 = output + main_model_p->offset_output_Number_DALY_W1;
    double *output_Number_DALY_W2 = output + main_model_p->offset_output_Number_DALY_W2;
    double *output_Number_DALY_W3 = output + main_model_p->offset_output_Number_DALY_W3;
    double *output_frac_F = output + main_model_p->offset_output_frac_F;
    double *output_frac_N_sexualpop = output + main_model_p->offset_output_frac_N_sexualpop;
    double *output_ART_coverage = output + main_model_p->offset_output_ART_coverage;
    double *output_infect_ART = output + main_model_p->offset_output_infect_ART;
    double *output_prep_offered = output + main_model_p->offset_output_prep_offered;
    double *output_omega = output + main_model_p->offset_output_omega;
    double *output_frac_N = output + main_model_p->offset_output_frac_N;
    double *output_mu = output + main_model_p->offset_output_mu;
    double *output_gamma01 = output + main_model_p->offset_output_gamma01;
    double *output_gamma11 = output + main_model_p->offset_output_gamma11;
    double *output_gamma32 = output + main_model_p->offset_output_gamma32;
    double *output_gamma33 = output + main_model_p->offset_output_gamma33;
    double *output_gamma34 = output + main_model_p->offset_output_gamma34;
    double *output_kappaa = output + main_model_p->offset_output_kappaa;
    double *output_kappab = output + main_model_p->offset_output_kappab;
    double *output_kappac = output + main_model_p->offset_output_kappac;
    double *output_kappa1 = output + main_model_p->offset_output_kappa1;
    double *output_alpha01 = output + main_model_p->offset_output_alpha01;
    double *output_alpha02 = output + main_model_p->offset_output_alpha02;
    double *output_alpha05 = output + main_model_p->offset_output_alpha05;
    double *output_alpha11 = output + main_model_p->offset_output_alpha11;
    double *output_alpha22 = output + main_model_p->offset_output_alpha22;
    double *output_alpha33 = output + main_model_p->offset_output_alpha33;
    double *output_alpha34 = output + main_model_p->offset_output_alpha34;
    double *output_alpha35 = output + main_model_p->offset_output_alpha35;
    double *output_beta_comm = output + main_model_p->offset_output_beta_comm;
    double *output_beta_noncomm = output + main_model_p->offset_output_beta_noncomm;
    double *output_p_comm = output + main_model_p->offset_output_p_comm;
    double *output_p_noncomm = output + main_model_p->offset_output_p_noncomm;
    double *output_eP0 = output + main_model_p->offset_output_eP0;
    double *output_eP1a = output + main_model_p->offset_output_eP1a;
    double *output_eP1b = output + main_model_p->offset_output_eP1b;
    double *output_eP1c = output + main_model_p->offset_output_eP1c;
    double *output_eP1d = output + main_model_p->offset_output_eP1d;
    double *output_fc_comm = output + main_model_p->offset_output_fc_comm;
    double *output_fP_comm = output + main_model_p->offset_output_fP_comm;
    double *output_fc_noncomm = output + main_model_p->offset_output_fc_noncomm;
    double *output_fP_noncomm = output + main_model_p->offset_output_fP_noncomm;
    double *output_n_comm = output + main_model_p->offset_output_n_comm;
    double *output_n_noncomm = output + main_model_p->offset_output_n_noncomm;
    double *output_N = output + main_model_p->offset_output_N;
    double *output_E0 = output + main_model_p->offset_output_E0;
    double *output_E1a = output + main_model_p->offset_output_E1a;
    double *output_E1b = output + main_model_p->offset_output_E1b;
    double *output_E1c = output + main_model_p->offset_output_E1c;
    double *output_E1d = output + main_model_p->offset_output_E1d;
    double *output_alphaItot = output + main_model_p->offset_output_alphaItot;
    double *output_prev = output + main_model_p->offset_output_prev;
    double *output_lambda = output + main_model_p->offset_output_lambda;
    double *output_lambda_0 = output + main_model_p->offset_output_lambda_0;
    double *output_lambda_1a = output + main_model_p->offset_output_lambda_1a;
    double *output_lambda_1b = output + main_model_p->offset_output_lambda_1b;
    double *output_lambda_1c = output + main_model_p->offset_output_lambda_1c;
    double *output_lambda_1d = output + main_model_p->offset_output_lambda_1d;
    double *output_lambda_sum_0 = output + main_model_p->offset_output_lambda_sum_0;
    double *output_lambda_sum_1a = output + main_model_p->offset_output_lambda_sum_1a;
    double *output_lambda_sum_1b = output + main_model_p->offset_output_lambda_sum_1b;
    double *output_lambda_sum_1c = output + main_model_p->offset_output_lambda_sum_1c;
    double *output_lambda_sum_1d = output + main_model_p->offset_output_lambda_sum_1d;
    double *output_c_comm_balanced = output + main_model_p->offset_output_c_comm_balanced;
    double *output_c_noncomm_balanced = output + main_model_p->offset_output_c_noncomm_balanced;
    double *output_theta = output + main_model_p->offset_output_theta;
    double *output_M_comm = output + main_model_p->offset_output_M_comm;
    double *output_M_noncomm = output + main_model_p->offset_output_M_noncomm;
    double *output_rate_move_in = output + main_model_p->offset_output_rate_move_in;
    double *output_rate_move_out = output + main_model_p->offset_output_rate_move_out;
    double *output_rate_move_out_PrEP = output + main_model_p->offset_output_rate_move_out_PrEP;
    memcpy(output_pfFSW, main_model_p->pfFSW, main_model_p->dim_pfFSW * sizeof(double));
    output[0] = main_model_p->infected_FSW_incoming;
    output[1] = main_model_p->prop_FSW_I0_1;
    output[2] = main_model_p->prop_FSW_I0_2;
    output[3] = main_model_p->prop_FSW_I0_3;
    output[4] = main_model_p->prop_FSW_I0_4;
    output[5] = main_model_p->prop_FSW_I0_5;
    output[6] = main_model_p->testpar;
    memcpy(output_gamma32_without_supp, main_model_p->gamma32_without_supp, main_model_p->dim_gamma32_without_supp * sizeof(double));
    memcpy(output_gamma33_without_supp, main_model_p->gamma33_without_supp, main_model_p->dim_gamma33_without_supp * sizeof(double));
    memcpy(output_gamma34_without_supp, main_model_p->gamma34_without_supp, main_model_p->dim_gamma34_without_supp * sizeof(double));
    memcpy(output_alpha33_without_supp, main_model_p->alpha33_without_supp, main_model_p->dim_alpha33_without_supp * sizeof(double));
    memcpy(output_alpha34_without_supp, main_model_p->alpha34_without_supp, main_model_p->dim_alpha34_without_supp * sizeof(double));
    memcpy(output_alpha35_without_supp, main_model_p->alpha35_without_supp, main_model_p->dim_alpha35_without_supp * sizeof(double));
    output[7] = main_model_p->who_believe_comm;
    memcpy(output_above_500_by_group, main_model_p->above_500_by_group, main_model_p->dim_above_500_by_group * sizeof(double));
    output[8] = ART_eligible_CD4_above_500;
    output[9] = ART_eligible_CD4_350_500;
    output[10] = ART_eligible_CD4_200_349;
    output[11] = ART_eligible_CD4_below_200;
    memcpy(output_infect_ART_y, main_model_p->infect_ART_y, main_model_p->dim_infect_ART_y * sizeof(double));
    memcpy(output_infect_ART_t, main_model_p->infect_ART_t, main_model_p->dim_infect_ART_t * sizeof(double));
    memcpy(output_testing_prob, main_model_p->testing_prob, main_model_p->dim_testing_prob * sizeof(double));
    output[12] = main_model_p->TasP_testing;
    memcpy(output_tau_intervention, main_model_p->tau_intervention, main_model_p->dim_tau_intervention * sizeof(double));
    memcpy(output_rho_intervention, main_model_p->rho_intervention, main_model_p->dim_rho_intervention * sizeof(double));
    output[13] = main_model_p->PrEPOnOff;
    output[14] = main_model_p->fPa;
    output[15] = main_model_p->fPb;
    output[16] = main_model_p->fPc;
    output[17] = prep_efficacious;
    memcpy(output_tau, main_model_p->tau, main_model_p->dim_tau * sizeof(double));
    memcpy(output_iota, main_model_p->iota, main_model_p->dim_iota * sizeof(double));
    memcpy(output_rho, main_model_p->rho, main_model_p->dim_rho * sizeof(double));
    memcpy(output_viral_supp_y, main_model_p->viral_supp_y, main_model_p->dim_viral_supp_y * sizeof(double));
    memcpy(output_viral_supp_t, main_model_p->viral_supp_t, main_model_p->dim_viral_supp_t * sizeof(double));
    memcpy(output_viral_supp, main_model_p->viral_supp, main_model_p->dim_viral_supp * sizeof(double));
    for (int i = 0; i < main_model_p->dim_HIV_positive; ++i) {
      main_model_p->HIV_positive[i] = I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i];
    }
    memcpy(output_HIV_positive, main_model_p->HIV_positive, main_model_p->dim_HIV_positive * sizeof(double));
    for (int i = 0; i < main_model_p->dim_Number_Susceptibles; ++i) {
      main_model_p->Number_Susceptibles[i] = S0[i] + S1a[i] + S1b[i] + S1c[i] + S1d[i];
    }
    memcpy(output_Number_Susceptibles, main_model_p->Number_Susceptibles, main_model_p->dim_Number_Susceptibles * sizeof(double));
    for (int i = 0; i < main_model_p->dim_HIV_positive_Diagnosed_Off_ART; ++i) {
      main_model_p->HIV_positive_Diagnosed_Off_ART[i] = I22[i] + I23[i] + I24[i] + I25[i];
    }
    memcpy(output_HIV_positive_Diagnosed_Off_ART, main_model_p->HIV_positive_Diagnosed_Off_ART, main_model_p->dim_HIV_positive_Diagnosed_Off_ART * sizeof(double));
    for (int i = 0; i < main_model_p->dim_Primary_Off_ART; ++i) {
      main_model_p->Primary_Off_ART[i] = I01[i] + I11[i];
    }
    for (int i = 0; i < main_model_p->dim_CD4_above_500_Off_ART; ++i) {
      main_model_p->CD4_above_500_Off_ART[i] = I02[i] + I22[i] + I42[i];
    }
    for (int i = 0; i < main_model_p->dim_CD4_350_500_Off_ART; ++i) {
      main_model_p->CD4_350_500_Off_ART[i] = I03[i] + I23[i] + I43[i];
    }
    for (int i = 0; i < main_model_p->dim_CD4_200_350_Off_ART; ++i) {
      main_model_p->CD4_200_350_Off_ART[i] = I04[i] + I24[i] + I44[i];
    }
    for (int i = 0; i < main_model_p->dim_CD4_below_200_Off_ART; ++i) {
      main_model_p->CD4_below_200_Off_ART[i] = I05[i] + I25[i] + I45[i];
    }
    memcpy(output_Primary_Off_ART, main_model_p->Primary_Off_ART, main_model_p->dim_Primary_Off_ART * sizeof(double));
    memcpy(output_CD4_above_500_Off_ART, main_model_p->CD4_above_500_Off_ART, main_model_p->dim_CD4_above_500_Off_ART * sizeof(double));
    memcpy(output_CD4_350_500_Off_ART, main_model_p->CD4_350_500_Off_ART, main_model_p->dim_CD4_350_500_Off_ART * sizeof(double));
    memcpy(output_CD4_200_350_Off_ART, main_model_p->CD4_200_350_Off_ART, main_model_p->dim_CD4_200_350_Off_ART * sizeof(double));
    memcpy(output_CD4_below_200_Off_ART, main_model_p->CD4_below_200_Off_ART, main_model_p->dim_CD4_below_200_Off_ART * sizeof(double));
    for (int i = 0; i < main_model_p->dim_HIV_positive_On_ART; ++i) {
      main_model_p->HIV_positive_On_ART[i] = I32[i] + I33[i] + I34[i] + I35[i];
    }
    memcpy(output_HIV_positive_On_ART, main_model_p->HIV_positive_On_ART, main_model_p->dim_HIV_positive_On_ART * sizeof(double));
    for (int i = 0; i < main_model_p->dim_Number_DALY_W1; ++i) {
      main_model_p->Number_DALY_W1[i] = I01[i] + I11[i] + I02[i] + I22[i] + I32[i] + I42[i] + I03[i] + I23[i] + I33[i] + I43[i] + I34[i] + I35[i];
    }
    memcpy(output_Number_DALY_W1, main_model_p->Number_DALY_W1, main_model_p->dim_Number_DALY_W1 * sizeof(double));
    for (int i = 0; i < main_model_p->dim_Number_DALY_W2; ++i) {
      main_model_p->Number_DALY_W2[i] = I05[i] + I25[i] + I45[i];
    }
    memcpy(output_Number_DALY_W2, main_model_p->Number_DALY_W2, main_model_p->dim_Number_DALY_W2 * sizeof(double));
    for (int i = 0; i < main_model_p->dim_Number_DALY_W3; ++i) {
      main_model_p->Number_DALY_W3[i] = I04[i] + I24[i] + I44[i];
    }
    memcpy(output_Number_DALY_W3, main_model_p->Number_DALY_W3, main_model_p->dim_Number_DALY_W3 * sizeof(double));
    output[18] = main_model_p->W0;
    output[19] = main_model_p->W1;
    output[20] = main_model_p->W2;
    output[21] = main_model_p->W3;
    output[22] = main_model_p->cost_Initiation_of_ART_study_FSW;
    output[23] = main_model_p->cost_Initiation_of_ART_government_FSW;
    output[24] = main_model_p->cost_1_year_of_ART_study_FSW;
    output[25] = main_model_p->cost_1_year_of_ART_government_FSW;
    output[26] = main_model_p->cost_Initiation_ART_rest_of_population;
    output[27] = main_model_p->cost_1_year_of_ART_rest_of_population;
    output[28] = main_model_p->cost_FSW_initiation_ART_Patient_costs;
    output[29] = main_model_p->cost_FSW_1_year_ART_Patient_costs;
    output[30] = main_model_p->cost_Initiation_of_PrEP_study;
    output[31] = main_model_p->cost_1_year_PrEP_perfect_adherence_study;
    output[32] = main_model_p->cost_1_year_PrEP_intermediate_adherence_study;
    output[33] = main_model_p->cost_1_year_PrEP_non_adherence_study;
    output[34] = main_model_p->cost_Initiation_of_PrEP_government;
    output[35] = main_model_p->cost_1_year_PrEP_perfect_adherence_government;
    output[36] = main_model_p->cost_1_year_PrEP_intermediate_adherence_government;
    output[37] = main_model_p->cost_1_year_PrEP_non_adherence_government;
    output[38] = main_model_p->cost_PREP_initiation_Patient_costs;
    output[39] = main_model_p->cost_PREP_1_year_ART_Patient_costs;
    double cumuInftot = odin_sum1(cumuInf, 0, main_model_p->dim_cumuInf - 1);
    output[40] = cumuInftot;
    double ART_coverage_men = (I32[4] + I33[4] + I34[4] + I35[4] + I32[5] + I33[5] + I34[5] + I35[5]) / (I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5]);
    double ART_coverage_women = (I32[0] + I33[0] + I34[0] + I35[0] + I32[1] + I33[1] + I34[1] + I35[1] + I32[2] + I33[2] + I34[2] + I35[2] + I32[3] + I33[3] + I34[3] + I35[3]) / (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3]);
    double ART_coverage_FSW = (I32[0] + I33[0] + I34[0] + I35[0]) / (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0]);
    double ART_coverage_all = (I32[0] + I33[0] + I34[0] + I35[0] + I32[1] + I33[1] + I34[1] + I35[1] + I32[2] + I33[2] + I34[2] + I35[2] + I32[3] + I33[3] + I34[3] + I35[3] + I32[4] + I33[4] + I34[4] + I35[4] + I32[5] + I33[5] + I34[5] + I35[5]) / (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3] + I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5]);
    for (int i = 0; i < main_model_p->dim_ART_coverage; ++i) {
      main_model_p->ART_coverage[i] = (I32[i] + I33[i] + I34[i] + I35[i]) / (I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i]);
    }
    memcpy(output_ART_coverage, main_model_p->ART_coverage, main_model_p->dim_ART_coverage * sizeof(double));
    double Men_on_ART = (I32[4] + I33[4] + I34[4] + I35[4] + I32[5] + I33[5] + I34[5] + I35[5]);
    double Women_on_ART = (I32[0] + I33[0] + I34[0] + I35[0] + I32[1] + I33[1] + I34[1] + I35[1] + I32[2] + I33[2] + I34[2] + I35[2] + I32[3] + I33[3] + I34[3] + I35[3]);
    double ART_sex_ratio = Women_on_ART / Men_on_ART;
    output[41] = ART_sex_ratio;
    double pc_S1a = (S1a[0]) * 100 / (S1a[0] + S1b[0] + S1c[0]);
    double pc_S1b = (S1b[0]) * 100 / (S1a[0] + S1b[0] + S1c[0]);
    double pc_S1c = (S1c[0]) * 100 / (S1a[0] + S1b[0] + S1c[0]);
    output[42] = pc_S1a;
    output[43] = pc_S1b;
    output[44] = pc_S1c;
    double pc_susceptible_FSW_On_PrEP = (S1a[0] + S1b[0] + S1c[0]) * 100 / (S0[0] + S1a[0] + S1b[0] + S1c[0] + S1d[0]);
    double pc_all_FSW_On_PrEP = (S1a[0] + S1b[0] + S1c[0]) * 100 / (S0[0] + S1a[0] + S1b[0] + S1c[0] + S1d[0] + I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0]);
    output[45] = pc_susceptible_FSW_On_PrEP;
    output[46] = pc_all_FSW_On_PrEP;
    double FSW_On_PrEP_all_cats = S1a[0] + S1b[0] + S1c[0];
    output[47] = FSW_On_PrEP_all_cats;
    output[48] = Men_on_ART;
    output[49] = Women_on_ART;
    output[50] = ART_coverage_men;
    output[51] = ART_coverage_women;
    output[52] = ART_coverage_FSW;
    output[53] = ART_coverage_all;
    output[54] = main_model_p->Ncat;
    memcpy(output_c_comm, main_model_p->c_comm, main_model_p->dim_c_comm * sizeof(double));
    memcpy(output_c_noncomm, main_model_p->c_noncomm, main_model_p->dim_c_noncomm * sizeof(double));
    output[55] = main_model_p->nu;
    output[56] = main_model_p->Nage;
    output[57] = main_model_p->dur_FSW;
    memcpy(output_infect_ART, main_model_p->infect_ART, main_model_p->dim_infect_ART * sizeof(double));
    output[58] = epsilon;
    memcpy(output_zeta, main_model_p->zeta, main_model_p->dim_zeta * sizeof(double));
    memcpy(output_prep_offered, main_model_p->prep_offered, main_model_p->dim_prep_offered * sizeof(double));
    memcpy(output_omega, main_model_p->omega, main_model_p->dim_omega * sizeof(double));
    memcpy(output_mu, main_model_p->mu, main_model_p->dim_mu * sizeof(double));
    memcpy(output_gamma01, main_model_p->gamma01, main_model_p->dim_gamma01 * sizeof(double));
    memcpy(output_gamma11, main_model_p->gamma11, main_model_p->dim_gamma11 * sizeof(double));
    memcpy(output_gamma32, main_model_p->gamma32, main_model_p->dim_gamma32 * sizeof(double));
    memcpy(output_gamma33, main_model_p->gamma33, main_model_p->dim_gamma33 * sizeof(double));
    memcpy(output_gamma34, main_model_p->gamma34, main_model_p->dim_gamma34 * sizeof(double));
    memcpy(output_kappaa, main_model_p->kappaa, main_model_p->dim_kappaa * sizeof(double));
    memcpy(output_kappab, main_model_p->kappab, main_model_p->dim_kappab * sizeof(double));
    memcpy(output_kappac, main_model_p->kappac, main_model_p->dim_kappac * sizeof(double));
    memcpy(output_kappa1, main_model_p->kappa1, main_model_p->dim_kappa1 * sizeof(double));
    memcpy(output_alpha01, main_model_p->alpha01, main_model_p->dim_alpha01 * sizeof(double));
    memcpy(output_alpha02, main_model_p->alpha02, main_model_p->dim_alpha02 * sizeof(double));
    memcpy(output_alpha05, main_model_p->alpha05, main_model_p->dim_alpha05 * sizeof(double));
    memcpy(output_alpha11, main_model_p->alpha11, main_model_p->dim_alpha11 * sizeof(double));
    memcpy(output_alpha22, main_model_p->alpha22, main_model_p->dim_alpha22 * sizeof(double));
    memcpy(output_alpha33, main_model_p->alpha33, main_model_p->dim_alpha33 * sizeof(double));
    memcpy(output_alpha34, main_model_p->alpha34, main_model_p->dim_alpha34 * sizeof(double));
    memcpy(output_alpha35, main_model_p->alpha35, main_model_p->dim_alpha35 * sizeof(double));
    memcpy(output_beta_comm, main_model_p->beta_comm, main_model_p->dim_beta_comm * sizeof(double));
    memcpy(output_beta_noncomm, main_model_p->beta_noncomm, main_model_p->dim_beta_noncomm * sizeof(double));
    memcpy(output_eP0, main_model_p->eP0, main_model_p->dim_eP0 * sizeof(double));
    memcpy(output_eP1a_effective, main_model_p->eP1a_effective, main_model_p->dim_eP1a_effective * sizeof(double));
    memcpy(output_eP1a, main_model_p->eP1a, main_model_p->dim_eP1a * sizeof(double));
    memcpy(output_eP1b_effective, main_model_p->eP1b_effective, main_model_p->dim_eP1b_effective * sizeof(double));
    memcpy(output_eP1b, main_model_p->eP1b, main_model_p->dim_eP1b * sizeof(double));
    memcpy(output_eP1c_effective, main_model_p->eP1c_effective, main_model_p->dim_eP1c_effective * sizeof(double));
    memcpy(output_eP1c, main_model_p->eP1c, main_model_p->dim_eP1c * sizeof(double));
    memcpy(output_eP1d, main_model_p->eP1d, main_model_p->dim_eP1d * sizeof(double));
    memcpy(output_fc_comm, main_model_p->fc_comm, main_model_p->dim_fc_comm * sizeof(double));
    memcpy(output_fP_comm, main_model_p->fP_comm, main_model_p->dim_fP_comm * sizeof(double));
    memcpy(output_fc_noncomm, main_model_p->fc_noncomm, main_model_p->dim_fc_noncomm * sizeof(double));
    memcpy(output_fP_noncomm, main_model_p->fP_noncomm, main_model_p->dim_fP_noncomm * sizeof(double));
    memcpy(output_n_comm, main_model_p->n_comm, main_model_p->dim_n_comm * sizeof(double));
    memcpy(output_n_noncomm, main_model_p->n_noncomm, main_model_p->dim_n_noncomm * sizeof(double));
    double Ntot_inc_former_FSW_nonCot = odin_sum1(main_model_p->N, 0, main_model_p->dim_N - 1);
    output[59] = Ntot_inc_former_FSW_nonCot;
    double new_people = epsilon * Ntot;
    output[60] = new_people;
    memcpy(output_new_people_in_group, main_model_p->new_people_in_group, main_model_p->dim_new_people_in_group * sizeof(double));
    memcpy(output_new_people_in_group_FSW_only, main_model_p->new_people_in_group_FSW_only, main_model_p->dim_new_people_in_group_FSW_only * sizeof(double));
    for (int i = 0; i < main_model_p->dim_frac_N; ++i) {
      main_model_p->frac_N[i] = main_model_p->N[i] / Ntot;
    }
    for (int i = 0; i < main_model_p->dim_frac_F; ++i) {
      main_model_p->frac_F[i] = (main_model_p->Ncat == 9 ? (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[6]) / Ntot : 0);
    }
    for (int i = 0; i < main_model_p->dim_frac_N_sexualpop; ++i) {
      main_model_p->frac_N_sexualpop[i] = (main_model_p->Ncat == 9 ? main_model_p->N[i] / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[4] + main_model_p->N[5]) : 0);
    }
    double frac_virgin = (main_model_p->Ncat == 9 ? (main_model_p->N[6] + main_model_p->N[7]) / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[6] + main_model_p->N[7]) : 0);
    output[61] = frac_virgin;
    memcpy(output_frac_F, main_model_p->frac_F, main_model_p->dim_frac_F * sizeof(double));
    memcpy(output_frac_N_sexualpop, main_model_p->frac_N_sexualpop, main_model_p->dim_frac_N_sexualpop * sizeof(double));
    double prev_FSW = 100 * (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0]) / main_model_p->N[0];
    double prev_LowFSW = 100 * (I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1]) / main_model_p->N[1];
    output[62] = prev_LowFSW;
    double prev_client = 100 * (I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4]) / main_model_p->N[4];
    double prev_men = 100 * (I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5] + I01[7] + I11[7] + I02[7] + I03[7] + I04[7] + I05[7] + I22[7] + I23[7] + I24[7] + I25[7] + I32[7] + I33[7] + I34[7] + I35[7] + I42[7] + I43[7] + I44[7] + I45[7]) / (main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[7]);
    double prev_women = 100 * (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3] + I01[6] + I11[6] + I02[6] + I03[6] + I04[6] + I05[6] + I22[6] + I23[6] + I24[6] + I25[6] + I32[6] + I33[6] + I34[6] + I35[6] + I42[6] + I43[6] + I44[6] + I45[6]) / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[6]);
    double prev_cotonou = 100 * (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3] + I01[6] + I11[6] + I02[6] + I03[6] + I04[6] + I05[6] + I22[6] + I23[6] + I24[6] + I25[6] + I32[6] + I33[6] + I34[6] + I35[6] + I42[6] + I43[6] + I44[6] + I45[6] + I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5] + I01[7] + I11[7] + I02[7] + I03[7] + I04[7] + I05[7] + I22[7] + I23[7] + I24[7] + I25[7] + I32[7] + I33[7] + I34[7] + I35[7] + I42[7] + I43[7] + I44[7] + I45[7]) / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[6] + main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[7]);
    output[63] = prev_men;
    output[64] = prev_women;
    output[65] = prev_cotonou;
    output[66] = Ntot;
    memcpy(output_N, main_model_p->N, main_model_p->dim_N * sizeof(double));
    output[67] = prev_FSW;
    output[68] = prev_client;
    memcpy(output_frac_N, main_model_p->frac_N, main_model_p->dim_frac_N * sizeof(double));
    memcpy(output_E1a, main_model_p->E1a, main_model_p->dim_E1a * sizeof(double));
    memcpy(output_E1b, main_model_p->E1b, main_model_p->dim_E1b * sizeof(double));
    memcpy(output_E1c, main_model_p->E1c, main_model_p->dim_E1c * sizeof(double));
    memcpy(output_E1d, main_model_p->E1d, main_model_p->dim_E1d * sizeof(double));
    for (int i = 0; i < main_model_p->dim_new_acute_infected; ++i) {
      main_model_p->new_acute_infected[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_1 * main_model_p->E0[i] * main_model_p->pfFSW[i];
    }
    memcpy(output_new_acute_infected, main_model_p->new_acute_infected, main_model_p->dim_new_acute_infected * sizeof(double));
    memcpy(output_E0, main_model_p->E0, main_model_p->dim_E0 * sizeof(double));
    memcpy(output_alphaItot, main_model_p->alphaItot, main_model_p->dim_alphaItot * sizeof(double));
    for (int i = 0; i < main_model_p->dim_prev; ++i) {
      main_model_p->prev[i] = 100 * (I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i]) / main_model_p->N[i];
    }
    memcpy(output_prev, main_model_p->prev, main_model_p->dim_prev * sizeof(double));
    double B_check_comm = (main_model_p->Ncat == 9 ? main_model_p->c_comm_balanced[0] * main_model_p->N[0] + main_model_p->c_comm_balanced[1] * main_model_p->N[1] + main_model_p->c_comm_balanced[2] * main_model_p->N[2] + main_model_p->c_comm_balanced[3] * main_model_p->N[3] - main_model_p->c_comm_balanced[4] * main_model_p->N[4] - main_model_p->c_comm_balanced[5] * main_model_p->N[5] : 1);
    output[69] = B_check_comm;
    memcpy(output_c_comm_balanced, main_model_p->c_comm_balanced, main_model_p->dim_c_comm_balanced * sizeof(double));
    double B_check_noncomm = (main_model_p->Ncat == 9 ? main_model_p->c_noncomm_balanced[0] * main_model_p->N[0] + main_model_p->c_noncomm_balanced[1] * main_model_p->N[1] + main_model_p->c_noncomm_balanced[2] * main_model_p->N[2] + main_model_p->c_noncomm_balanced[3] * main_model_p->N[3] - main_model_p->c_noncomm_balanced[4] * main_model_p->N[4] - main_model_p->c_noncomm_balanced[5] * main_model_p->N[5] : 1);
    output[70] = B_check_noncomm;
    memcpy(output_c_noncomm_balanced, main_model_p->c_noncomm_balanced, main_model_p->dim_c_noncomm_balanced * sizeof(double));
    memcpy(output_theta, main_model_p->theta, main_model_p->dim_theta * sizeof(double));
    memcpy(output_p_comm, main_model_p->p_comm, main_model_p->dim_p_comm * sizeof(double));
    memcpy(output_M_comm, main_model_p->M_comm, main_model_p->dim_M_comm * sizeof(double));
    for (int i = 0; i < main_model_p->dim_lambda_1; ++i) {
      for (int j = 0; j < main_model_p->dim_lambda_2; ++j) {
        main_model_p->lambda[i + j * main_model_p->dim_lambda_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
      }
    }
    double pc_of_FOI_on_clients_from_pro_FSW = main_model_p->lambda_0[4 + 0 * main_model_p->dim_lambda_0_1] / main_model_p->lambda_sum_0[4];
    output[71] = pc_of_FOI_on_clients_from_pro_FSW;
    memcpy(output_lambda, main_model_p->lambda, main_model_p->dim_lambda * sizeof(double));
    memcpy(output_lambda_0, main_model_p->lambda_0, main_model_p->dim_lambda_0 * sizeof(double));
    memcpy(output_lambda_1a, main_model_p->lambda_1a, main_model_p->dim_lambda_1a * sizeof(double));
    memcpy(output_lambda_1b, main_model_p->lambda_1b, main_model_p->dim_lambda_1b * sizeof(double));
    memcpy(output_lambda_1c, main_model_p->lambda_1c, main_model_p->dim_lambda_1c * sizeof(double));
    memcpy(output_lambda_1d, main_model_p->lambda_1d, main_model_p->dim_lambda_1d * sizeof(double));
    memcpy(output_lambda_sum_0, main_model_p->lambda_sum_0, main_model_p->dim_lambda_sum_0 * sizeof(double));
    memcpy(output_lambda_sum_1a, main_model_p->lambda_sum_1a, main_model_p->dim_lambda_sum_1a * sizeof(double));
    memcpy(output_lambda_sum_1b, main_model_p->lambda_sum_1b, main_model_p->dim_lambda_sum_1b * sizeof(double));
    memcpy(output_lambda_sum_1c, main_model_p->lambda_sum_1c, main_model_p->dim_lambda_sum_1c * sizeof(double));
    memcpy(output_lambda_sum_1d, main_model_p->lambda_sum_1d, main_model_p->dim_lambda_sum_1d * sizeof(double));
    memcpy(output_p_noncomm, main_model_p->p_noncomm, main_model_p->dim_p_noncomm * sizeof(double));
    memcpy(output_M_noncomm, main_model_p->M_noncomm, main_model_p->dim_M_noncomm * sizeof(double));
    double FSW_in = main_model_p->rate_move_in[0 + 2 * main_model_p->dim_rate_move_in_1] * main_model_p->N[2];
    output[72] = FSW_in;
    memcpy(output_rate_move_in, main_model_p->rate_move_in, main_model_p->dim_rate_move_in * sizeof(double));
    double FSW_out = main_model_p->rate_move_out[0] * main_model_p->N[0];
    output[73] = FSW_out;
    memcpy(output_rate_move_out, main_model_p->rate_move_out, main_model_p->dim_rate_move_out * sizeof(double));
    memcpy(output_rate_move_out_PrEP, main_model_p->rate_move_out_PrEP, main_model_p->dim_rate_move_out_PrEP * sizeof(double));
  }
}

void main_model_output(main_model_pars *main_model_p, double t, double *state, double *output) {
  double *cumuInf = state + main_model_p->offset_cumuInf;
  double *S0 = state + main_model_p->offset_S0;
  double *S1a = state + main_model_p->offset_S1a;
  double *S1b = state + main_model_p->offset_S1b;
  double *S1c = state + main_model_p->offset_S1c;
  double *S1d = state + main_model_p->offset_S1d;
  double *I01 = state + main_model_p->offset_I01;
  double *I11 = state + main_model_p->offset_I11;
  double *I02 = state + main_model_p->offset_I02;
  double *I03 = state + main_model_p->offset_I03;
  double *I04 = state + main_model_p->offset_I04;
  double *I05 = state + main_model_p->offset_I05;
  double *I22 = state + main_model_p->offset_I22;
  double *I23 = state + main_model_p->offset_I23;
  double *I24 = state + main_model_p->offset_I24;
  double *I25 = state + main_model_p->offset_I25;
  double *I32 = state + main_model_p->offset_I32;
  double *I33 = state + main_model_p->offset_I33;
  double *I34 = state + main_model_p->offset_I34;
  double *I35 = state + main_model_p->offset_I35;
  double *I42 = state + main_model_p->offset_I42;
  double *I43 = state + main_model_p->offset_I43;
  double *I44 = state + main_model_p->offset_I44;
  double *I45 = state + main_model_p->offset_I45;
  double *output_infect_ART_y = output + 74;
  double *output_infect_ART_t = output + main_model_p->offset_output_infect_ART_t;
  double *output_viral_supp_y = output + main_model_p->offset_output_viral_supp_y;
  double *output_viral_supp_t = output + main_model_p->offset_output_viral_supp_t;
  double *output_gamma32_without_supp = output + main_model_p->offset_output_gamma32_without_supp;
  double *output_gamma33_without_supp = output + main_model_p->offset_output_gamma33_without_supp;
  double *output_gamma34_without_supp = output + main_model_p->offset_output_gamma34_without_supp;
  double *output_alpha33_without_supp = output + main_model_p->offset_output_alpha33_without_supp;
  double *output_alpha34_without_supp = output + main_model_p->offset_output_alpha34_without_supp;
  double *output_alpha35_without_supp = output + main_model_p->offset_output_alpha35_without_supp;
  double *output_c_comm = output + main_model_p->offset_output_c_comm;
  double *output_c_noncomm = output + main_model_p->offset_output_c_noncomm;
  double *output_pfFSW = output + main_model_p->offset_output_pfFSW;
  double *output_new_acute_infected = output + main_model_p->offset_output_new_acute_infected;
  double *output_new_people_in_group = output + main_model_p->offset_output_new_people_in_group;
  double *output_new_people_in_group_FSW_only = output + main_model_p->offset_output_new_people_in_group_FSW_only;
  double *output_above_500_by_group = output + main_model_p->offset_output_above_500_by_group;
  double *output_testing_prob = output + main_model_p->offset_output_testing_prob;
  double *output_tau_intervention = output + main_model_p->offset_output_tau_intervention;
  double *output_rho_intervention = output + main_model_p->offset_output_rho_intervention;
  double *output_zeta = output + main_model_p->offset_output_zeta;
  double *output_eP1a_effective = output + main_model_p->offset_output_eP1a_effective;
  double *output_eP1b_effective = output + main_model_p->offset_output_eP1b_effective;
  double *output_eP1c_effective = output + main_model_p->offset_output_eP1c_effective;
  double *output_tau = output + main_model_p->offset_output_tau;
  double *output_rho = output + main_model_p->offset_output_rho;
  double *output_iota = output + main_model_p->offset_output_iota;
  double *output_viral_supp = output + main_model_p->offset_output_viral_supp;
  double *output_HIV_positive = output + main_model_p->offset_output_HIV_positive;
  double *output_Number_Susceptibles = output + main_model_p->offset_output_Number_Susceptibles;
  double *output_HIV_positive_Diagnosed_Off_ART = output + main_model_p->offset_output_HIV_positive_Diagnosed_Off_ART;
  double *output_Primary_Off_ART = output + main_model_p->offset_output_Primary_Off_ART;
  double *output_CD4_above_500_Off_ART = output + main_model_p->offset_output_CD4_above_500_Off_ART;
  double *output_CD4_350_500_Off_ART = output + main_model_p->offset_output_CD4_350_500_Off_ART;
  double *output_CD4_200_350_Off_ART = output + main_model_p->offset_output_CD4_200_350_Off_ART;
  double *output_CD4_below_200_Off_ART = output + main_model_p->offset_output_CD4_below_200_Off_ART;
  double *output_HIV_positive_On_ART = output + main_model_p->offset_output_HIV_positive_On_ART;
  double *output_Number_DALY_W1 = output + main_model_p->offset_output_Number_DALY_W1;
  double *output_Number_DALY_W2 = output + main_model_p->offset_output_Number_DALY_W2;
  double *output_Number_DALY_W3 = output + main_model_p->offset_output_Number_DALY_W3;
  double *output_frac_F = output + main_model_p->offset_output_frac_F;
  double *output_frac_N_sexualpop = output + main_model_p->offset_output_frac_N_sexualpop;
  double *output_ART_coverage = output + main_model_p->offset_output_ART_coverage;
  double *output_infect_ART = output + main_model_p->offset_output_infect_ART;
  double *output_prep_offered = output + main_model_p->offset_output_prep_offered;
  double *output_omega = output + main_model_p->offset_output_omega;
  double *output_frac_N = output + main_model_p->offset_output_frac_N;
  double *output_mu = output + main_model_p->offset_output_mu;
  double *output_gamma01 = output + main_model_p->offset_output_gamma01;
  double *output_gamma11 = output + main_model_p->offset_output_gamma11;
  double *output_gamma32 = output + main_model_p->offset_output_gamma32;
  double *output_gamma33 = output + main_model_p->offset_output_gamma33;
  double *output_gamma34 = output + main_model_p->offset_output_gamma34;
  double *output_kappaa = output + main_model_p->offset_output_kappaa;
  double *output_kappab = output + main_model_p->offset_output_kappab;
  double *output_kappac = output + main_model_p->offset_output_kappac;
  double *output_kappa1 = output + main_model_p->offset_output_kappa1;
  double *output_alpha01 = output + main_model_p->offset_output_alpha01;
  double *output_alpha02 = output + main_model_p->offset_output_alpha02;
  double *output_alpha05 = output + main_model_p->offset_output_alpha05;
  double *output_alpha11 = output + main_model_p->offset_output_alpha11;
  double *output_alpha22 = output + main_model_p->offset_output_alpha22;
  double *output_alpha33 = output + main_model_p->offset_output_alpha33;
  double *output_alpha34 = output + main_model_p->offset_output_alpha34;
  double *output_alpha35 = output + main_model_p->offset_output_alpha35;
  double *output_beta_comm = output + main_model_p->offset_output_beta_comm;
  double *output_beta_noncomm = output + main_model_p->offset_output_beta_noncomm;
  double *output_p_comm = output + main_model_p->offset_output_p_comm;
  double *output_p_noncomm = output + main_model_p->offset_output_p_noncomm;
  double *output_eP0 = output + main_model_p->offset_output_eP0;
  double *output_eP1a = output + main_model_p->offset_output_eP1a;
  double *output_eP1b = output + main_model_p->offset_output_eP1b;
  double *output_eP1c = output + main_model_p->offset_output_eP1c;
  double *output_eP1d = output + main_model_p->offset_output_eP1d;
  double *output_fc_comm = output + main_model_p->offset_output_fc_comm;
  double *output_fP_comm = output + main_model_p->offset_output_fP_comm;
  double *output_fc_noncomm = output + main_model_p->offset_output_fc_noncomm;
  double *output_fP_noncomm = output + main_model_p->offset_output_fP_noncomm;
  double *output_n_comm = output + main_model_p->offset_output_n_comm;
  double *output_n_noncomm = output + main_model_p->offset_output_n_noncomm;
  double *output_N = output + main_model_p->offset_output_N;
  double *output_E0 = output + main_model_p->offset_output_E0;
  double *output_E1a = output + main_model_p->offset_output_E1a;
  double *output_E1b = output + main_model_p->offset_output_E1b;
  double *output_E1c = output + main_model_p->offset_output_E1c;
  double *output_E1d = output + main_model_p->offset_output_E1d;
  double *output_alphaItot = output + main_model_p->offset_output_alphaItot;
  double *output_prev = output + main_model_p->offset_output_prev;
  double *output_lambda = output + main_model_p->offset_output_lambda;
  double *output_lambda_0 = output + main_model_p->offset_output_lambda_0;
  double *output_lambda_1a = output + main_model_p->offset_output_lambda_1a;
  double *output_lambda_1b = output + main_model_p->offset_output_lambda_1b;
  double *output_lambda_1c = output + main_model_p->offset_output_lambda_1c;
  double *output_lambda_1d = output + main_model_p->offset_output_lambda_1d;
  double *output_lambda_sum_0 = output + main_model_p->offset_output_lambda_sum_0;
  double *output_lambda_sum_1a = output + main_model_p->offset_output_lambda_sum_1a;
  double *output_lambda_sum_1b = output + main_model_p->offset_output_lambda_sum_1b;
  double *output_lambda_sum_1c = output + main_model_p->offset_output_lambda_sum_1c;
  double *output_lambda_sum_1d = output + main_model_p->offset_output_lambda_sum_1d;
  double *output_c_comm_balanced = output + main_model_p->offset_output_c_comm_balanced;
  double *output_c_noncomm_balanced = output + main_model_p->offset_output_c_noncomm_balanced;
  double *output_theta = output + main_model_p->offset_output_theta;
  double *output_M_comm = output + main_model_p->offset_output_M_comm;
  double *output_M_noncomm = output + main_model_p->offset_output_M_noncomm;
  double *output_rate_move_in = output + main_model_p->offset_output_rate_move_in;
  double *output_rate_move_out = output + main_model_p->offset_output_rate_move_out;
  double *output_rate_move_out_PrEP = output + main_model_p->offset_output_rate_move_out_PrEP;
  cinterpolate_eval(t, main_model_p->interpolate_pfFSW, main_model_p->pfFSW);
  memcpy(output_pfFSW, main_model_p->pfFSW, main_model_p->dim_pfFSW * sizeof(double));
  output[0] = main_model_p->infected_FSW_incoming;
  output[1] = main_model_p->prop_FSW_I0_1;
  output[2] = main_model_p->prop_FSW_I0_2;
  output[3] = main_model_p->prop_FSW_I0_3;
  output[4] = main_model_p->prop_FSW_I0_4;
  output[5] = main_model_p->prop_FSW_I0_5;
  output[6] = main_model_p->testpar;
  memcpy(output_gamma32_without_supp, main_model_p->gamma32_without_supp, main_model_p->dim_gamma32_without_supp * sizeof(double));
  memcpy(output_gamma33_without_supp, main_model_p->gamma33_without_supp, main_model_p->dim_gamma33_without_supp * sizeof(double));
  memcpy(output_gamma34_without_supp, main_model_p->gamma34_without_supp, main_model_p->dim_gamma34_without_supp * sizeof(double));
  memcpy(output_alpha33_without_supp, main_model_p->alpha33_without_supp, main_model_p->dim_alpha33_without_supp * sizeof(double));
  memcpy(output_alpha34_without_supp, main_model_p->alpha34_without_supp, main_model_p->dim_alpha34_without_supp * sizeof(double));
  memcpy(output_alpha35_without_supp, main_model_p->alpha35_without_supp, main_model_p->dim_alpha35_without_supp * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_c_comm, main_model_p->c_comm);
  cinterpolate_eval(t, main_model_p->interpolate_c_noncomm, main_model_p->c_noncomm);
  output[7] = main_model_p->who_believe_comm;
  memcpy(output_above_500_by_group, main_model_p->above_500_by_group, main_model_p->dim_above_500_by_group * sizeof(double));
  double ART_eligible_CD4_above_500 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_above_500, &ART_eligible_CD4_above_500);
  output[8] = ART_eligible_CD4_above_500;
  double ART_eligible_CD4_350_500 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_350_500, &ART_eligible_CD4_350_500);
  output[9] = ART_eligible_CD4_350_500;
  double ART_eligible_CD4_200_349 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_200_349, &ART_eligible_CD4_200_349);
  output[10] = ART_eligible_CD4_200_349;
  double ART_eligible_CD4_below_200 = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_ART_eligible_CD4_below_200, &ART_eligible_CD4_below_200);
  output[11] = ART_eligible_CD4_below_200;
  memcpy(output_infect_ART_y, main_model_p->infect_ART_y, main_model_p->dim_infect_ART_y * sizeof(double));
  memcpy(output_infect_ART_t, main_model_p->infect_ART_t, main_model_p->dim_infect_ART_t * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_testing_prob, main_model_p->testing_prob);
  memcpy(output_testing_prob, main_model_p->testing_prob, main_model_p->dim_testing_prob * sizeof(double));
  output[12] = main_model_p->TasP_testing;
  cinterpolate_eval(t, main_model_p->interpolate_tau_intervention, main_model_p->tau_intervention);
  cinterpolate_eval(t, main_model_p->interpolate_rho_intervention, main_model_p->rho_intervention);
  memcpy(output_tau_intervention, main_model_p->tau_intervention, main_model_p->dim_tau_intervention * sizeof(double));
  memcpy(output_rho_intervention, main_model_p->rho_intervention, main_model_p->dim_rho_intervention * sizeof(double));
  output[13] = main_model_p->PrEPOnOff;
  output[14] = main_model_p->fPa;
  output[15] = main_model_p->fPb;
  output[16] = main_model_p->fPc;
  double prep_efficacious = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_prep_efficacious, &prep_efficacious);
  output[17] = prep_efficacious;
  for (int i = 0; i < main_model_p->dim_tau; ++i) {
    main_model_p->tau[i] = -log(1 - main_model_p->testing_prob[i]);
  }
  memcpy(output_tau, main_model_p->tau, main_model_p->dim_tau * sizeof(double));
  memcpy(output_iota, main_model_p->iota, main_model_p->dim_iota * sizeof(double));
  memcpy(output_rho, main_model_p->rho, main_model_p->dim_rho * sizeof(double));
  memcpy(output_viral_supp_y, main_model_p->viral_supp_y, main_model_p->dim_viral_supp_y * sizeof(double));
  memcpy(output_viral_supp_t, main_model_p->viral_supp_t, main_model_p->dim_viral_supp_t * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_viral_supp, main_model_p->viral_supp);
  memcpy(output_viral_supp, main_model_p->viral_supp, main_model_p->dim_viral_supp * sizeof(double));
  for (int i = 0; i < main_model_p->dim_HIV_positive; ++i) {
    main_model_p->HIV_positive[i] = I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i];
  }
  memcpy(output_HIV_positive, main_model_p->HIV_positive, main_model_p->dim_HIV_positive * sizeof(double));
  for (int i = 0; i < main_model_p->dim_Number_Susceptibles; ++i) {
    main_model_p->Number_Susceptibles[i] = S0[i] + S1a[i] + S1b[i] + S1c[i] + S1d[i];
  }
  memcpy(output_Number_Susceptibles, main_model_p->Number_Susceptibles, main_model_p->dim_Number_Susceptibles * sizeof(double));
  for (int i = 0; i < main_model_p->dim_HIV_positive_Diagnosed_Off_ART; ++i) {
    main_model_p->HIV_positive_Diagnosed_Off_ART[i] = I22[i] + I23[i] + I24[i] + I25[i];
  }
  memcpy(output_HIV_positive_Diagnosed_Off_ART, main_model_p->HIV_positive_Diagnosed_Off_ART, main_model_p->dim_HIV_positive_Diagnosed_Off_ART * sizeof(double));
  for (int i = 0; i < main_model_p->dim_Primary_Off_ART; ++i) {
    main_model_p->Primary_Off_ART[i] = I01[i] + I11[i];
  }
  for (int i = 0; i < main_model_p->dim_CD4_above_500_Off_ART; ++i) {
    main_model_p->CD4_above_500_Off_ART[i] = I02[i] + I22[i] + I42[i];
  }
  for (int i = 0; i < main_model_p->dim_CD4_350_500_Off_ART; ++i) {
    main_model_p->CD4_350_500_Off_ART[i] = I03[i] + I23[i] + I43[i];
  }
  for (int i = 0; i < main_model_p->dim_CD4_200_350_Off_ART; ++i) {
    main_model_p->CD4_200_350_Off_ART[i] = I04[i] + I24[i] + I44[i];
  }
  for (int i = 0; i < main_model_p->dim_CD4_below_200_Off_ART; ++i) {
    main_model_p->CD4_below_200_Off_ART[i] = I05[i] + I25[i] + I45[i];
  }
  memcpy(output_Primary_Off_ART, main_model_p->Primary_Off_ART, main_model_p->dim_Primary_Off_ART * sizeof(double));
  memcpy(output_CD4_above_500_Off_ART, main_model_p->CD4_above_500_Off_ART, main_model_p->dim_CD4_above_500_Off_ART * sizeof(double));
  memcpy(output_CD4_350_500_Off_ART, main_model_p->CD4_350_500_Off_ART, main_model_p->dim_CD4_350_500_Off_ART * sizeof(double));
  memcpy(output_CD4_200_350_Off_ART, main_model_p->CD4_200_350_Off_ART, main_model_p->dim_CD4_200_350_Off_ART * sizeof(double));
  memcpy(output_CD4_below_200_Off_ART, main_model_p->CD4_below_200_Off_ART, main_model_p->dim_CD4_below_200_Off_ART * sizeof(double));
  for (int i = 0; i < main_model_p->dim_HIV_positive_On_ART; ++i) {
    main_model_p->HIV_positive_On_ART[i] = I32[i] + I33[i] + I34[i] + I35[i];
  }
  memcpy(output_HIV_positive_On_ART, main_model_p->HIV_positive_On_ART, main_model_p->dim_HIV_positive_On_ART * sizeof(double));
  for (int i = 0; i < main_model_p->dim_Number_DALY_W1; ++i) {
    main_model_p->Number_DALY_W1[i] = I01[i] + I11[i] + I02[i] + I22[i] + I32[i] + I42[i] + I03[i] + I23[i] + I33[i] + I43[i] + I34[i] + I35[i];
  }
  memcpy(output_Number_DALY_W1, main_model_p->Number_DALY_W1, main_model_p->dim_Number_DALY_W1 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_Number_DALY_W2; ++i) {
    main_model_p->Number_DALY_W2[i] = I05[i] + I25[i] + I45[i];
  }
  memcpy(output_Number_DALY_W2, main_model_p->Number_DALY_W2, main_model_p->dim_Number_DALY_W2 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_Number_DALY_W3; ++i) {
    main_model_p->Number_DALY_W3[i] = I04[i] + I24[i] + I44[i];
  }
  memcpy(output_Number_DALY_W3, main_model_p->Number_DALY_W3, main_model_p->dim_Number_DALY_W3 * sizeof(double));
  output[18] = main_model_p->W0;
  output[19] = main_model_p->W1;
  output[20] = main_model_p->W2;
  output[21] = main_model_p->W3;
  output[22] = main_model_p->cost_Initiation_of_ART_study_FSW;
  output[23] = main_model_p->cost_Initiation_of_ART_government_FSW;
  output[24] = main_model_p->cost_1_year_of_ART_study_FSW;
  output[25] = main_model_p->cost_1_year_of_ART_government_FSW;
  output[26] = main_model_p->cost_Initiation_ART_rest_of_population;
  output[27] = main_model_p->cost_1_year_of_ART_rest_of_population;
  output[28] = main_model_p->cost_FSW_initiation_ART_Patient_costs;
  output[29] = main_model_p->cost_FSW_1_year_ART_Patient_costs;
  output[30] = main_model_p->cost_Initiation_of_PrEP_study;
  output[31] = main_model_p->cost_1_year_PrEP_perfect_adherence_study;
  output[32] = main_model_p->cost_1_year_PrEP_intermediate_adherence_study;
  output[33] = main_model_p->cost_1_year_PrEP_non_adherence_study;
  output[34] = main_model_p->cost_Initiation_of_PrEP_government;
  output[35] = main_model_p->cost_1_year_PrEP_perfect_adherence_government;
  output[36] = main_model_p->cost_1_year_PrEP_intermediate_adherence_government;
  output[37] = main_model_p->cost_1_year_PrEP_non_adherence_government;
  output[38] = main_model_p->cost_PREP_initiation_Patient_costs;
  output[39] = main_model_p->cost_PREP_1_year_ART_Patient_costs;
  double cumuInftot = odin_sum1(cumuInf, 0, main_model_p->dim_cumuInf - 1);
  output[40] = cumuInftot;
  double ART_coverage_men = (I32[4] + I33[4] + I34[4] + I35[4] + I32[5] + I33[5] + I34[5] + I35[5]) / (I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5]);
  double ART_coverage_women = (I32[0] + I33[0] + I34[0] + I35[0] + I32[1] + I33[1] + I34[1] + I35[1] + I32[2] + I33[2] + I34[2] + I35[2] + I32[3] + I33[3] + I34[3] + I35[3]) / (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3]);
  double ART_coverage_FSW = (I32[0] + I33[0] + I34[0] + I35[0]) / (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0]);
  double ART_coverage_all = (I32[0] + I33[0] + I34[0] + I35[0] + I32[1] + I33[1] + I34[1] + I35[1] + I32[2] + I33[2] + I34[2] + I35[2] + I32[3] + I33[3] + I34[3] + I35[3] + I32[4] + I33[4] + I34[4] + I35[4] + I32[5] + I33[5] + I34[5] + I35[5]) / (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3] + I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5]);
  for (int i = 0; i < main_model_p->dim_ART_coverage; ++i) {
    main_model_p->ART_coverage[i] = (I32[i] + I33[i] + I34[i] + I35[i]) / (I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i]);
  }
  memcpy(output_ART_coverage, main_model_p->ART_coverage, main_model_p->dim_ART_coverage * sizeof(double));
  double Men_on_ART = (I32[4] + I33[4] + I34[4] + I35[4] + I32[5] + I33[5] + I34[5] + I35[5]);
  double Women_on_ART = (I32[0] + I33[0] + I34[0] + I35[0] + I32[1] + I33[1] + I34[1] + I35[1] + I32[2] + I33[2] + I34[2] + I35[2] + I32[3] + I33[3] + I34[3] + I35[3]);
  double ART_sex_ratio = Women_on_ART / Men_on_ART;
  output[41] = ART_sex_ratio;
  double pc_S1a = (S1a[0]) * 100 / (S1a[0] + S1b[0] + S1c[0]);
  double pc_S1b = (S1b[0]) * 100 / (S1a[0] + S1b[0] + S1c[0]);
  double pc_S1c = (S1c[0]) * 100 / (S1a[0] + S1b[0] + S1c[0]);
  output[42] = pc_S1a;
  output[43] = pc_S1b;
  output[44] = pc_S1c;
  double pc_susceptible_FSW_On_PrEP = (S1a[0] + S1b[0] + S1c[0]) * 100 / (S0[0] + S1a[0] + S1b[0] + S1c[0] + S1d[0]);
  double pc_all_FSW_On_PrEP = (S1a[0] + S1b[0] + S1c[0]) * 100 / (S0[0] + S1a[0] + S1b[0] + S1c[0] + S1d[0] + I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0]);
  output[45] = pc_susceptible_FSW_On_PrEP;
  output[46] = pc_all_FSW_On_PrEP;
  double FSW_On_PrEP_all_cats = S1a[0] + S1b[0] + S1c[0];
  output[47] = FSW_On_PrEP_all_cats;
  output[48] = Men_on_ART;
  output[49] = Women_on_ART;
  output[50] = ART_coverage_men;
  output[51] = ART_coverage_women;
  output[52] = ART_coverage_FSW;
  output[53] = ART_coverage_all;
  output[54] = main_model_p->Ncat;
  memcpy(output_c_comm, main_model_p->c_comm, main_model_p->dim_c_comm * sizeof(double));
  memcpy(output_c_noncomm, main_model_p->c_noncomm, main_model_p->dim_c_noncomm * sizeof(double));
  output[55] = main_model_p->nu;
  output[56] = main_model_p->Nage;
  output[57] = main_model_p->dur_FSW;
  cinterpolate_eval(t, main_model_p->interpolate_infect_ART, main_model_p->infect_ART);
  memcpy(output_infect_ART, main_model_p->infect_ART, main_model_p->dim_infect_ART * sizeof(double));
  double epsilon = 0.0;
  cinterpolate_eval(t, main_model_p->interpolate_epsilon, &epsilon);
  output[58] = epsilon;
  cinterpolate_eval(t, main_model_p->interpolate_prep_offered, main_model_p->prep_offered);
  for (int i = 0; i < main_model_p->dim_zeta; ++i) {
    main_model_p->zeta[i] = (main_model_p->tau[i] + main_model_p->tau_intervention[i]) * main_model_p->sigma[i] * main_model_p->prep_offered[i] * main_model_p->PrEPOnOff;
  }
  memcpy(output_zeta, main_model_p->zeta, main_model_p->dim_zeta * sizeof(double));
  memcpy(output_prep_offered, main_model_p->prep_offered, main_model_p->dim_prep_offered * sizeof(double));
  memcpy(output_omega, main_model_p->omega, main_model_p->dim_omega * sizeof(double));
  memcpy(output_mu, main_model_p->mu, main_model_p->dim_mu * sizeof(double));
  memcpy(output_gamma01, main_model_p->gamma01, main_model_p->dim_gamma01 * sizeof(double));
  memcpy(output_gamma11, main_model_p->gamma11, main_model_p->dim_gamma11 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_gamma32; ++i) {
    main_model_p->gamma32[i] = main_model_p->gamma32_without_supp[i] / main_model_p->viral_supp[i];
  }
  memcpy(output_gamma32, main_model_p->gamma32, main_model_p->dim_gamma32 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_gamma33; ++i) {
    main_model_p->gamma33[i] = main_model_p->gamma33_without_supp[i] / main_model_p->viral_supp[i];
  }
  memcpy(output_gamma33, main_model_p->gamma33, main_model_p->dim_gamma33 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_gamma34; ++i) {
    main_model_p->gamma34[i] = main_model_p->gamma34_without_supp[i] / main_model_p->viral_supp[i];
  }
  memcpy(output_gamma34, main_model_p->gamma34, main_model_p->dim_gamma34 * sizeof(double));
  memcpy(output_kappaa, main_model_p->kappaa, main_model_p->dim_kappaa * sizeof(double));
  memcpy(output_kappab, main_model_p->kappab, main_model_p->dim_kappab * sizeof(double));
  memcpy(output_kappac, main_model_p->kappac, main_model_p->dim_kappac * sizeof(double));
  memcpy(output_kappa1, main_model_p->kappa1, main_model_p->dim_kappa1 * sizeof(double));
  memcpy(output_alpha01, main_model_p->alpha01, main_model_p->dim_alpha01 * sizeof(double));
  memcpy(output_alpha02, main_model_p->alpha02, main_model_p->dim_alpha02 * sizeof(double));
  memcpy(output_alpha05, main_model_p->alpha05, main_model_p->dim_alpha05 * sizeof(double));
  memcpy(output_alpha11, main_model_p->alpha11, main_model_p->dim_alpha11 * sizeof(double));
  memcpy(output_alpha22, main_model_p->alpha22, main_model_p->dim_alpha22 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_alpha33; ++i) {
    main_model_p->alpha33[i] = main_model_p->alpha33_without_supp[i] / main_model_p->viral_supp[i];
  }
  memcpy(output_alpha33, main_model_p->alpha33, main_model_p->dim_alpha33 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_alpha34; ++i) {
    main_model_p->alpha34[i] = main_model_p->alpha34_without_supp[i] / main_model_p->viral_supp[i];
  }
  memcpy(output_alpha34, main_model_p->alpha34, main_model_p->dim_alpha34 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_alpha35; ++i) {
    main_model_p->alpha35[i] = main_model_p->alpha35_without_supp[i] / main_model_p->viral_supp[i];
  }
  memcpy(output_alpha35, main_model_p->alpha35, main_model_p->dim_alpha35 * sizeof(double));
  memcpy(output_beta_comm, main_model_p->beta_comm, main_model_p->dim_beta_comm * sizeof(double));
  memcpy(output_beta_noncomm, main_model_p->beta_noncomm, main_model_p->dim_beta_noncomm * sizeof(double));
  memcpy(output_eP0, main_model_p->eP0, main_model_p->dim_eP0 * sizeof(double));
  for (int i = 0; i < main_model_p->dim_eP1a_effective; ++i) {
    main_model_p->eP1a_effective[i] = main_model_p->eP1a[i] * prep_efficacious;
  }
  memcpy(output_eP1a_effective, main_model_p->eP1a_effective, main_model_p->dim_eP1a_effective * sizeof(double));
  memcpy(output_eP1a, main_model_p->eP1a, main_model_p->dim_eP1a * sizeof(double));
  for (int i = 0; i < main_model_p->dim_eP1b_effective; ++i) {
    main_model_p->eP1b_effective[i] = main_model_p->eP1b[i] * prep_efficacious;
  }
  memcpy(output_eP1b_effective, main_model_p->eP1b_effective, main_model_p->dim_eP1b_effective * sizeof(double));
  memcpy(output_eP1b, main_model_p->eP1b, main_model_p->dim_eP1b * sizeof(double));
  for (int i = 0; i < main_model_p->dim_eP1c_effective; ++i) {
    main_model_p->eP1c_effective[i] = main_model_p->eP1c[i] * prep_efficacious;
  }
  memcpy(output_eP1c_effective, main_model_p->eP1c_effective, main_model_p->dim_eP1c_effective * sizeof(double));
  memcpy(output_eP1c, main_model_p->eP1c, main_model_p->dim_eP1c * sizeof(double));
  memcpy(output_eP1d, main_model_p->eP1d, main_model_p->dim_eP1d * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_fc_comm, main_model_p->fc_comm);
  memcpy(output_fc_comm, main_model_p->fc_comm, main_model_p->dim_fc_comm * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_fP_comm, main_model_p->fP_comm);
  memcpy(output_fP_comm, main_model_p->fP_comm, main_model_p->dim_fP_comm * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_fc_noncomm, main_model_p->fc_noncomm);
  memcpy(output_fc_noncomm, main_model_p->fc_noncomm, main_model_p->dim_fc_noncomm * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_fP_noncomm, main_model_p->fP_noncomm);
  memcpy(output_fP_noncomm, main_model_p->fP_noncomm, main_model_p->dim_fP_noncomm * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_n_comm, main_model_p->n_comm);
  memcpy(output_n_comm, main_model_p->n_comm, main_model_p->dim_n_comm * sizeof(double));
  cinterpolate_eval(t, main_model_p->interpolate_n_noncomm, main_model_p->n_noncomm);
  memcpy(output_n_noncomm, main_model_p->n_noncomm, main_model_p->dim_n_noncomm * sizeof(double));
  for (int i = 0; i < main_model_p->dim_N; ++i) {
    main_model_p->N[i] = S0[i] + S1a[i] + S1b[i] + S1c[i] + S1d[i] + I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i];
  }
  double Ntot = (main_model_p->Ncat == 9 ? (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[6] + main_model_p->N[7]) : odin_sum1(main_model_p->N, 0, main_model_p->dim_N - 1));
  double Ntot_inc_former_FSW_nonCot = odin_sum1(main_model_p->N, 0, main_model_p->dim_N - 1);
  output[59] = Ntot_inc_former_FSW_nonCot;
  double new_people = epsilon * Ntot;
  output[60] = new_people;
  for (int i = 0; i < main_model_p->dim_new_people_in_group; ++i) {
    main_model_p->new_people_in_group[i] = (epsilon + main_model_p->mu[i] + main_model_p->nu) * Ntot * main_model_p->omega[i];
  }
  for (int i = 0; i < main_model_p->dim_new_people_in_group_FSW_only; ++i) {
    main_model_p->new_people_in_group_FSW_only[i] = main_model_p->rate_leave_pro_FSW * main_model_p->N[i] * main_model_p->fraction_FSW_foreign * main_model_p->FSW_ONLY[i];
  }
  memcpy(output_new_people_in_group, main_model_p->new_people_in_group, main_model_p->dim_new_people_in_group * sizeof(double));
  memcpy(output_new_people_in_group_FSW_only, main_model_p->new_people_in_group_FSW_only, main_model_p->dim_new_people_in_group_FSW_only * sizeof(double));
  for (int i = 0; i < main_model_p->dim_frac_N; ++i) {
    main_model_p->frac_N[i] = main_model_p->N[i] / Ntot;
  }
  for (int i = 0; i < main_model_p->dim_frac_F; ++i) {
    main_model_p->frac_F[i] = (main_model_p->Ncat == 9 ? (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[6]) / Ntot : 0);
  }
  for (int i = 0; i < main_model_p->dim_frac_N_sexualpop; ++i) {
    main_model_p->frac_N_sexualpop[i] = (main_model_p->Ncat == 9 ? main_model_p->N[i] / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[4] + main_model_p->N[5]) : 0);
  }
  double frac_virgin = (main_model_p->Ncat == 9 ? (main_model_p->N[6] + main_model_p->N[7]) / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[6] + main_model_p->N[7]) : 0);
  output[61] = frac_virgin;
  memcpy(output_frac_F, main_model_p->frac_F, main_model_p->dim_frac_F * sizeof(double));
  memcpy(output_frac_N_sexualpop, main_model_p->frac_N_sexualpop, main_model_p->dim_frac_N_sexualpop * sizeof(double));
  double prev_FSW = 100 * (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0]) / main_model_p->N[0];
  double prev_LowFSW = 100 * (I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1]) / main_model_p->N[1];
  output[62] = prev_LowFSW;
  double prev_client = 100 * (I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4]) / main_model_p->N[4];
  double prev_men = 100 * (I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5] + I01[7] + I11[7] + I02[7] + I03[7] + I04[7] + I05[7] + I22[7] + I23[7] + I24[7] + I25[7] + I32[7] + I33[7] + I34[7] + I35[7] + I42[7] + I43[7] + I44[7] + I45[7]) / (main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[7]);
  double prev_women = 100 * (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3] + I01[6] + I11[6] + I02[6] + I03[6] + I04[6] + I05[6] + I22[6] + I23[6] + I24[6] + I25[6] + I32[6] + I33[6] + I34[6] + I35[6] + I42[6] + I43[6] + I44[6] + I45[6]) / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[6]);
  double prev_cotonou = 100 * (I01[0] + I11[0] + I02[0] + I03[0] + I04[0] + I05[0] + I22[0] + I23[0] + I24[0] + I25[0] + I32[0] + I33[0] + I34[0] + I35[0] + I42[0] + I43[0] + I44[0] + I45[0] + I01[1] + I11[1] + I02[1] + I03[1] + I04[1] + I05[1] + I22[1] + I23[1] + I24[1] + I25[1] + I32[1] + I33[1] + I34[1] + I35[1] + I42[1] + I43[1] + I44[1] + I45[1] + I01[2] + I11[2] + I02[2] + I03[2] + I04[2] + I05[2] + I22[2] + I23[2] + I24[2] + I25[2] + I32[2] + I33[2] + I34[2] + I35[2] + I42[2] + I43[2] + I44[2] + I45[2] + I01[3] + I11[3] + I02[3] + I03[3] + I04[3] + I05[3] + I22[3] + I23[3] + I24[3] + I25[3] + I32[3] + I33[3] + I34[3] + I35[3] + I42[3] + I43[3] + I44[3] + I45[3] + I01[6] + I11[6] + I02[6] + I03[6] + I04[6] + I05[6] + I22[6] + I23[6] + I24[6] + I25[6] + I32[6] + I33[6] + I34[6] + I35[6] + I42[6] + I43[6] + I44[6] + I45[6] + I01[4] + I11[4] + I02[4] + I03[4] + I04[4] + I05[4] + I22[4] + I23[4] + I24[4] + I25[4] + I32[4] + I33[4] + I34[4] + I35[4] + I42[4] + I43[4] + I44[4] + I45[4] + I01[5] + I11[5] + I02[5] + I03[5] + I04[5] + I05[5] + I22[5] + I23[5] + I24[5] + I25[5] + I32[5] + I33[5] + I34[5] + I35[5] + I42[5] + I43[5] + I44[5] + I45[5] + I01[7] + I11[7] + I02[7] + I03[7] + I04[7] + I05[7] + I22[7] + I23[7] + I24[7] + I25[7] + I32[7] + I33[7] + I34[7] + I35[7] + I42[7] + I43[7] + I44[7] + I45[7]) / (main_model_p->N[0] + main_model_p->N[1] + main_model_p->N[2] + main_model_p->N[3] + main_model_p->N[6] + main_model_p->N[4] + main_model_p->N[5] + main_model_p->N[7]);
  output[63] = prev_men;
  output[64] = prev_women;
  output[65] = prev_cotonou;
  output[66] = Ntot;
  memcpy(output_N, main_model_p->N, main_model_p->dim_N * sizeof(double));
  output[67] = prev_FSW;
  output[68] = prev_client;
  memcpy(output_frac_N, main_model_p->frac_N, main_model_p->dim_frac_N * sizeof(double));
  for (int i = 0; i < main_model_p->dim_E1a; ++i) {
    main_model_p->E1a[i] = main_model_p->zeta[i] * main_model_p->fPa * S0[i] - main_model_p->psia[i] * S1a[i] - main_model_p->kappaa[i] * S1a[i];
  }
  memcpy(output_E1a, main_model_p->E1a, main_model_p->dim_E1a * sizeof(double));
  for (int i = 0; i < main_model_p->dim_E1b; ++i) {
    main_model_p->E1b[i] = main_model_p->zeta[i] * main_model_p->fPb * S0[i] + main_model_p->psia[i] * S1a[i] - main_model_p->psib[i] * S1b[i] - main_model_p->kappab[i] * S1b[i];
  }
  memcpy(output_E1b, main_model_p->E1b, main_model_p->dim_E1b * sizeof(double));
  for (int i = 0; i < main_model_p->dim_E1c; ++i) {
    main_model_p->E1c[i] = main_model_p->zeta[i] * main_model_p->fPc * S0[i] + main_model_p->psib[i] * S1b[i] - main_model_p->kappac[i] * S1c[i];
  }
  memcpy(output_E1c, main_model_p->E1c, main_model_p->dim_E1c * sizeof(double));
  for (int i = 0; i < main_model_p->dim_E1d; ++i) {
    main_model_p->E1d[i] = main_model_p->kappaa[i] * S1a[i] + main_model_p->kappab[i] * S1b[i] + main_model_p->kappac[i] * S1c[i];
  }
  memcpy(output_E1d, main_model_p->E1d, main_model_p->dim_E1d * sizeof(double));
  for (int i = 0; i < main_model_p->dim_alphaItot; ++i) {
    main_model_p->alphaItot[i] = main_model_p->alpha01[i] * I01[i] + main_model_p->alpha11[i] * I11[i] + main_model_p->alpha02[i] * I02[i] + main_model_p->alpha03[i] * I03[i] + main_model_p->alpha04[i] * I04[i] + main_model_p->alpha05[i] * I05[i] + main_model_p->alpha22[i] * I22[i] + main_model_p->alpha23[i] * I23[i] + main_model_p->alpha24[i] * I24[i] + main_model_p->alpha25[i] * I25[i] + main_model_p->alpha32[i] * I32[i] + main_model_p->alpha33[i] * I33[i] + main_model_p->alpha34[i] * I34[i] + main_model_p->alpha35[i] * I35[i] + main_model_p->alpha42[i] * I42[i] + main_model_p->alpha43[i] * I43[i] + main_model_p->alpha44[i] * I44[i] + main_model_p->alpha45[i] * I45[i];
  }
  for (int i = 0; i < main_model_p->dim_E0; ++i) {
    main_model_p->E0[i] = (main_model_p->replaceDeaths == 1 ? main_model_p->mu[i] * main_model_p->N[i] + main_model_p->nu * main_model_p->N[i] + main_model_p->alphaItot[i] + epsilon * Ntot * main_model_p->omega[i] : main_model_p->new_people_in_group[i] + main_model_p->new_people_in_group_FSW_only[i]);
  }
  for (int i = 0; i < main_model_p->dim_new_acute_infected; ++i) {
    main_model_p->new_acute_infected[i] = main_model_p->infected_FSW_incoming * main_model_p->prop_FSW_I0_1 * main_model_p->E0[i] * main_model_p->pfFSW[i];
  }
  memcpy(output_new_acute_infected, main_model_p->new_acute_infected, main_model_p->dim_new_acute_infected * sizeof(double));
  memcpy(output_E0, main_model_p->E0, main_model_p->dim_E0 * sizeof(double));
  memcpy(output_alphaItot, main_model_p->alphaItot, main_model_p->dim_alphaItot * sizeof(double));
  for (int i = 0; i < main_model_p->dim_prev; ++i) {
    main_model_p->prev[i] = 100 * (I01[i] + I11[i] + I02[i] + I03[i] + I04[i] + I05[i] + I22[i] + I23[i] + I24[i] + I25[i] + I32[i] + I33[i] + I34[i] + I35[i] + I42[i] + I43[i] + I44[i] + I45[i]) / main_model_p->N[i];
  }
  memcpy(output_prev, main_model_p->prev, main_model_p->dim_prev * sizeof(double));
  for (int i = 0; i < main_model_p->dim_c_comm_balanced; ++i) {
    main_model_p->c_comm_balanced[i] = main_model_p->c_comm[i];
  }
  {
    int i = 4;
    main_model_p->c_comm_balanced[i] = (main_model_p->Ncat == 9 && main_model_p->who_believe_comm == 0 ? (main_model_p->c_comm[0] * main_model_p->N[0] + main_model_p->c_comm[1] * main_model_p->N[1]) / main_model_p->N[4] : main_model_p->c_comm_balanced[4]);
  }
  {
    int i = 0;
    main_model_p->c_comm_balanced[i] = (main_model_p->Ncat == 9 && main_model_p->who_believe_comm == 1 ? (main_model_p->c_comm[4] * main_model_p->N[4] - main_model_p->c_comm[1] * main_model_p->N[1]) / main_model_p->N[0] : main_model_p->c_comm_balanced[0]);
  }
  double B_check_comm = (main_model_p->Ncat == 9 ? main_model_p->c_comm_balanced[0] * main_model_p->N[0] + main_model_p->c_comm_balanced[1] * main_model_p->N[1] + main_model_p->c_comm_balanced[2] * main_model_p->N[2] + main_model_p->c_comm_balanced[3] * main_model_p->N[3] - main_model_p->c_comm_balanced[4] * main_model_p->N[4] - main_model_p->c_comm_balanced[5] * main_model_p->N[5] : 1);
  output[69] = B_check_comm;
  memcpy(output_c_comm_balanced, main_model_p->c_comm_balanced, main_model_p->dim_c_comm_balanced * sizeof(double));
  for (int i = 0; i < main_model_p->dim_c_noncomm_balanced; ++i) {
    main_model_p->c_noncomm_balanced[i] = main_model_p->c_noncomm[i];
  }
  {
    int i = 2;
    main_model_p->c_noncomm_balanced[i] = (main_model_p->Ncat == 9 ? (main_model_p->N[4] * main_model_p->c_noncomm[4] + main_model_p->N[5] * main_model_p->c_noncomm[5] - main_model_p->N[0] * main_model_p->c_noncomm[0] - main_model_p->N[1] * main_model_p->c_noncomm[1]) / (main_model_p->N[2] + main_model_p->N[3]) : main_model_p->c_noncomm_balanced[2]);
  }
  {
    int i = 3;
    main_model_p->c_noncomm_balanced[i] = (main_model_p->Ncat == 9 ? main_model_p->c_noncomm_balanced[2] : main_model_p->c_noncomm_balanced[3]);
  }
  double B_check_noncomm = (main_model_p->Ncat == 9 ? main_model_p->c_noncomm_balanced[0] * main_model_p->N[0] + main_model_p->c_noncomm_balanced[1] * main_model_p->N[1] + main_model_p->c_noncomm_balanced[2] * main_model_p->N[2] + main_model_p->c_noncomm_balanced[3] * main_model_p->N[3] - main_model_p->c_noncomm_balanced[4] * main_model_p->N[4] - main_model_p->c_noncomm_balanced[5] * main_model_p->N[5] : 1);
  output[70] = B_check_noncomm;
  memcpy(output_c_noncomm_balanced, main_model_p->c_noncomm_balanced, main_model_p->dim_c_noncomm_balanced * sizeof(double));
  memcpy(output_theta, main_model_p->theta, main_model_p->dim_theta * sizeof(double));
  for (int i = 0; i < main_model_p->dim_comm_partnerships_requested_1; ++i) {
    for (int j = 0; j < main_model_p->dim_comm_partnerships_requested_2; ++j) {
      main_model_p->comm_partnerships_requested[i + j * main_model_p->dim_comm_partnerships_requested_1] = main_model_p->N[j] * main_model_p->c_comm_balanced[j] * main_model_p->M_comm[i + j * main_model_p->dim_M_comm_1];
    }
  }
  for (int i = 0; i < main_model_p->dim_p_comm_1; ++i) {
    for (int j = 0; j < main_model_p->dim_p_comm_2; ++j) {
      main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1] = (main_model_p->M_comm[i + j * main_model_p->dim_M_comm_1] == 0 ? 0 : main_model_p->M_comm[i + j * main_model_p->dim_M_comm_1] * main_model_p->N[j] * main_model_p->c_comm_balanced[j] / odin_sum2(main_model_p->comm_partnerships_requested, i, i, 0, main_model_p->dim_comm_partnerships_requested_2 - 1, main_model_p->dim_comm_partnerships_requested_1));
    }
  }
  memcpy(output_p_comm, main_model_p->p_comm, main_model_p->dim_p_comm * sizeof(double));
  memcpy(output_M_comm, main_model_p->M_comm, main_model_p->dim_M_comm * sizeof(double));
  for (int i = 0; i < main_model_p->dim_noncomm_partnerships_requested_1; ++i) {
    for (int j = 0; j < main_model_p->dim_noncomm_partnerships_requested_2; ++j) {
      main_model_p->noncomm_partnerships_requested[i + j * main_model_p->dim_noncomm_partnerships_requested_1] = main_model_p->N[j] * main_model_p->c_noncomm_balanced[j] * main_model_p->M_noncomm[i + j * main_model_p->dim_M_noncomm_1];
    }
  }
  for (int i = 0; i < main_model_p->dim_p_noncomm_1; ++i) {
    for (int j = 0; j < main_model_p->dim_p_noncomm_2; ++j) {
      main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1] = (main_model_p->M_noncomm[i + j * main_model_p->dim_M_noncomm_1] == 0 ? 0 : main_model_p->M_noncomm[i + j * main_model_p->dim_M_noncomm_1] * main_model_p->N[j] * main_model_p->c_noncomm_balanced[j] / odin_sum2(main_model_p->noncomm_partnerships_requested, i, i, 0, main_model_p->dim_noncomm_partnerships_requested_2 - 1, main_model_p->dim_noncomm_partnerships_requested_1));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_2; ++j) {
      main_model_p->lambda[i + j * main_model_p->dim_lambda_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_0_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_0_2; ++j) {
      main_model_p->lambda_0[i + j * main_model_p->dim_lambda_0_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP0[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1a_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1a_2; ++j) {
      main_model_p->lambda_1a[i + j * main_model_p->dim_lambda_1a_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1a_effective[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1b_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1b_2; ++j) {
      main_model_p->lambda_1b[i + j * main_model_p->dim_lambda_1b_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1b_effective[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1c_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1c_2; ++j) {
      main_model_p->lambda_1c[i + j * main_model_p->dim_lambda_1c_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1c_effective[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_1d_1; ++i) {
    for (int j = 0; j < main_model_p->dim_lambda_1d_2; ++j) {
      main_model_p->lambda_1d[i + j * main_model_p->dim_lambda_1d_1] = (i == j ? 0 : compute_lambda(main_model_p->c_comm_balanced[i], main_model_p->p_comm[i + j * main_model_p->dim_p_comm_1], S0[j], S1a[j], S1b[j], S1c[j], I01[j], I11[j], I02[j], I03[j], I04[j], I05[j], I22[j], I23[j], I24[j], I25[j], I32[j], I33[j], I34[j], I35[j], I42[j], I43[j], I44[j], I45[j], main_model_p->N[j], main_model_p->beta_comm[i], main_model_p->R, main_model_p->fc_comm[i + j * main_model_p->dim_fc_comm_1], main_model_p->fP_comm[i], main_model_p->n_comm[i + j * main_model_p->dim_n_comm_1], main_model_p->eP1d[i], main_model_p->ec[i], main_model_p->fc_noncomm[i + j * main_model_p->dim_fc_noncomm_1], main_model_p->fP_noncomm[i], main_model_p->n_noncomm[i + j * main_model_p->dim_n_noncomm_1], main_model_p->c_noncomm_balanced[i], main_model_p->p_noncomm[i + j * main_model_p->dim_p_noncomm_1], main_model_p->infect_ART[j], main_model_p->infect_acute, main_model_p->infect_AIDS, main_model_p->beta_noncomm[i]));
    }
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_0; ++i) {
    main_model_p->lambda_sum_0[i] = odin_sum2(main_model_p->lambda_0, i, i, 0, main_model_p->dim_lambda_0_2 - 1, main_model_p->dim_lambda_0_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1a; ++i) {
    main_model_p->lambda_sum_1a[i] = odin_sum2(main_model_p->lambda_1a, i, i, 0, main_model_p->dim_lambda_1a_2 - 1, main_model_p->dim_lambda_1a_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1b; ++i) {
    main_model_p->lambda_sum_1b[i] = odin_sum2(main_model_p->lambda_1b, i, i, 0, main_model_p->dim_lambda_1b_2 - 1, main_model_p->dim_lambda_1b_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1c; ++i) {
    main_model_p->lambda_sum_1c[i] = odin_sum2(main_model_p->lambda_1c, i, i, 0, main_model_p->dim_lambda_1c_2 - 1, main_model_p->dim_lambda_1c_1);
  }
  for (int i = 0; i < main_model_p->dim_lambda_sum_1d; ++i) {
    main_model_p->lambda_sum_1d[i] = odin_sum2(main_model_p->lambda_1d, i, i, 0, main_model_p->dim_lambda_1d_2 - 1, main_model_p->dim_lambda_1d_1);
  }
  double pc_of_FOI_on_clients_from_pro_FSW = main_model_p->lambda_0[4 + 0 * main_model_p->dim_lambda_0_1] / main_model_p->lambda_sum_0[4];
  output[71] = pc_of_FOI_on_clients_from_pro_FSW;
  memcpy(output_lambda, main_model_p->lambda, main_model_p->dim_lambda * sizeof(double));
  memcpy(output_lambda_0, main_model_p->lambda_0, main_model_p->dim_lambda_0 * sizeof(double));
  memcpy(output_lambda_1a, main_model_p->lambda_1a, main_model_p->dim_lambda_1a * sizeof(double));
  memcpy(output_lambda_1b, main_model_p->lambda_1b, main_model_p->dim_lambda_1b * sizeof(double));
  memcpy(output_lambda_1c, main_model_p->lambda_1c, main_model_p->dim_lambda_1c * sizeof(double));
  memcpy(output_lambda_1d, main_model_p->lambda_1d, main_model_p->dim_lambda_1d * sizeof(double));
  memcpy(output_lambda_sum_0, main_model_p->lambda_sum_0, main_model_p->dim_lambda_sum_0 * sizeof(double));
  memcpy(output_lambda_sum_1a, main_model_p->lambda_sum_1a, main_model_p->dim_lambda_sum_1a * sizeof(double));
  memcpy(output_lambda_sum_1b, main_model_p->lambda_sum_1b, main_model_p->dim_lambda_sum_1b * sizeof(double));
  memcpy(output_lambda_sum_1c, main_model_p->lambda_sum_1c, main_model_p->dim_lambda_sum_1c * sizeof(double));
  memcpy(output_lambda_sum_1d, main_model_p->lambda_sum_1d, main_model_p->dim_lambda_sum_1d * sizeof(double));
  memcpy(output_p_noncomm, main_model_p->p_noncomm, main_model_p->dim_p_noncomm * sizeof(double));
  memcpy(output_M_noncomm, main_model_p->M_noncomm, main_model_p->dim_M_noncomm * sizeof(double));
  double FSW_in = main_model_p->rate_move_in[0 + 2 * main_model_p->dim_rate_move_in_1] * main_model_p->N[2];
  output[72] = FSW_in;
  memcpy(output_rate_move_in, main_model_p->rate_move_in, main_model_p->dim_rate_move_in * sizeof(double));
  double FSW_out = main_model_p->rate_move_out[0] * main_model_p->N[0];
  output[73] = FSW_out;
  memcpy(output_rate_move_out, main_model_p->rate_move_out, main_model_p->dim_rate_move_out * sizeof(double));
  memcpy(output_rate_move_out_PrEP, main_model_p->rate_move_out_PrEP, main_model_p->dim_rate_move_out_PrEP * sizeof(double));
}

// deSolve interface
// Global variable set on initmod, as per deSolve design
static main_model_pars *main_model_p;
void main_model_initmod_ds(void(* odeparms) (int *, double *)) {
  DL_FUNC get_deSolve_gparms = R_GetCCallable("deSolve", "get_deSolve_gparms");
  main_model_p = main_model_get_pointer(get_deSolve_gparms(), 1);
}
void main_model_deriv_ds(int *neq, double *t, double *state,
                         double *dstatedt, double *output, int *np) {
  main_model_deriv(main_model_p, *t, state, dstatedt, output);
}

// dde interface
void main_model_deriv_dde(size_t n_eq, double t, double *state,
                           double *dstatedt, void *main_model_p) {
  main_model_deriv((main_model_pars*)main_model_p, t, state, dstatedt, NULL);
}

void main_model_output_dde(size_t n_eq, double t, double *state,
                           size_t dim_output, double *output, void *main_model_p) {
  main_model_output((main_model_pars*)main_model_p, t, state, output);
}

SEXP main_model_deriv_r(SEXP main_model_ptr, SEXP t, SEXP state) {
  SEXP dstatedt = PROTECT(allocVector(REALSXP, LENGTH(state)));
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  SEXP output_ptr = PROTECT(allocVector(REALSXP, main_model_p->dim_output));
  setAttrib(dstatedt, install("output"), output_ptr);
  double *output = REAL(output_ptr);
  main_model_deriv(main_model_p, REAL(t)[0], REAL(state), REAL(dstatedt), output);
  UNPROTECT(2);
  return dstatedt;
}

// Translate all elements in the struct back to R
// This will mostly be useful for debugging.
SEXP main_model_contents(SEXP main_model_ptr) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  SEXP state = PROTECT(allocVector(VECSXP, 873));
  SET_VECTOR_ELT(state, 0, ScalarInteger(main_model_p->odin_use_dde));
  SET_VECTOR_ELT(state, 1, ScalarReal(main_model_p->prop_FSW_I0_1));
  SET_VECTOR_ELT(state, 2, ScalarReal(main_model_p->prop_FSW_I0_2));
  SET_VECTOR_ELT(state, 3, ScalarReal(main_model_p->prop_FSW_I0_3));
  SET_VECTOR_ELT(state, 4, ScalarReal(main_model_p->prop_FSW_I0_4));
  SET_VECTOR_ELT(state, 5, ScalarReal(main_model_p->prop_FSW_I0_5));
  SET_VECTOR_ELT(state, 6, ScalarReal(main_model_p->testpar));
  SET_VECTOR_ELT(state, 7, ScalarReal(main_model_p->replaceDeaths));
  SET_VECTOR_ELT(state, 8, ScalarInteger(main_model_p->dim_pfFSW_t));
  SET_VECTOR_ELT(state, 9, allocVector(REALSXP, main_model_p->dim_pfFSW_t));
  memcpy(REAL(VECTOR_ELT(state, 9)), main_model_p->pfFSW_t, main_model_p->dim_pfFSW_t * sizeof(double));
  SET_VECTOR_ELT(state, 10, ScalarInteger(main_model_p->dim_pfFSW_y));
  SET_VECTOR_ELT(state, 11, ScalarInteger(main_model_p->dim_pfFSW_y_1));
  SET_VECTOR_ELT(state, 12, ScalarInteger(main_model_p->dim_pfFSW_y_2));
  SET_VECTOR_ELT(state, 13, allocVector(REALSXP, main_model_p->dim_pfFSW_y));
  memcpy(REAL(VECTOR_ELT(state, 13)), main_model_p->pfFSW_y, main_model_p->dim_pfFSW_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 13), 2, main_model_p->dim_pfFSW_y_1, main_model_p->dim_pfFSW_y_2);
  SET_VECTOR_ELT(state, 14, ScalarReal(main_model_p->infected_FSW_incoming));
  SET_VECTOR_ELT(state, 15, ScalarReal(main_model_p->rate_leave_pro_FSW));
  SET_VECTOR_ELT(state, 16, ScalarReal(main_model_p->fraction_FSW_foreign));
  SET_VECTOR_ELT(state, 17, ScalarInteger(main_model_p->dim_c_t_comm));
  SET_VECTOR_ELT(state, 18, allocVector(REALSXP, main_model_p->dim_c_t_comm));
  memcpy(REAL(VECTOR_ELT(state, 18)), main_model_p->c_t_comm, main_model_p->dim_c_t_comm * sizeof(double));
  SET_VECTOR_ELT(state, 19, ScalarInteger(main_model_p->dim_c_t_noncomm));
  SET_VECTOR_ELT(state, 20, allocVector(REALSXP, main_model_p->dim_c_t_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 20)), main_model_p->c_t_noncomm, main_model_p->dim_c_t_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 21, ScalarInteger(main_model_p->dim_c_y_comm));
  SET_VECTOR_ELT(state, 22, ScalarInteger(main_model_p->dim_c_y_comm_1));
  SET_VECTOR_ELT(state, 23, ScalarInteger(main_model_p->dim_c_y_comm_2));
  SET_VECTOR_ELT(state, 24, allocVector(REALSXP, main_model_p->dim_c_y_comm));
  memcpy(REAL(VECTOR_ELT(state, 24)), main_model_p->c_y_comm, main_model_p->dim_c_y_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 24), 2, main_model_p->dim_c_y_comm_1, main_model_p->dim_c_y_comm_2);
  SET_VECTOR_ELT(state, 25, ScalarInteger(main_model_p->dim_c_y_noncomm));
  SET_VECTOR_ELT(state, 26, ScalarInteger(main_model_p->dim_c_y_noncomm_1));
  SET_VECTOR_ELT(state, 27, ScalarInteger(main_model_p->dim_c_y_noncomm_2));
  SET_VECTOR_ELT(state, 28, allocVector(REALSXP, main_model_p->dim_c_y_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 28)), main_model_p->c_y_noncomm, main_model_p->dim_c_y_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 28), 2, main_model_p->dim_c_y_noncomm_1, main_model_p->dim_c_y_noncomm_2);
  SET_VECTOR_ELT(state, 29, ScalarReal(main_model_p->who_believe_comm));
  SET_VECTOR_ELT(state, 30, ScalarInteger(main_model_p->dim_ART_eligible_CD4_above_500_t));
  SET_VECTOR_ELT(state, 31, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_above_500_t));
  memcpy(REAL(VECTOR_ELT(state, 31)), main_model_p->ART_eligible_CD4_above_500_t, main_model_p->dim_ART_eligible_CD4_above_500_t * sizeof(double));
  SET_VECTOR_ELT(state, 32, ScalarInteger(main_model_p->dim_ART_eligible_CD4_350_500_t));
  SET_VECTOR_ELT(state, 33, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_350_500_t));
  memcpy(REAL(VECTOR_ELT(state, 33)), main_model_p->ART_eligible_CD4_350_500_t, main_model_p->dim_ART_eligible_CD4_350_500_t * sizeof(double));
  SET_VECTOR_ELT(state, 34, ScalarInteger(main_model_p->dim_ART_eligible_CD4_200_349_t));
  SET_VECTOR_ELT(state, 35, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_200_349_t));
  memcpy(REAL(VECTOR_ELT(state, 35)), main_model_p->ART_eligible_CD4_200_349_t, main_model_p->dim_ART_eligible_CD4_200_349_t * sizeof(double));
  SET_VECTOR_ELT(state, 36, ScalarInteger(main_model_p->dim_ART_eligible_CD4_below_200_t));
  SET_VECTOR_ELT(state, 37, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_below_200_t));
  memcpy(REAL(VECTOR_ELT(state, 37)), main_model_p->ART_eligible_CD4_below_200_t, main_model_p->dim_ART_eligible_CD4_below_200_t * sizeof(double));
  SET_VECTOR_ELT(state, 38, ScalarInteger(main_model_p->dim_ART_eligible_CD4_above_500_y));
  SET_VECTOR_ELT(state, 39, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_above_500_y));
  memcpy(REAL(VECTOR_ELT(state, 39)), main_model_p->ART_eligible_CD4_above_500_y, main_model_p->dim_ART_eligible_CD4_above_500_y * sizeof(double));
  SET_VECTOR_ELT(state, 40, ScalarInteger(main_model_p->dim_ART_eligible_CD4_350_500_y));
  SET_VECTOR_ELT(state, 41, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_350_500_y));
  memcpy(REAL(VECTOR_ELT(state, 41)), main_model_p->ART_eligible_CD4_350_500_y, main_model_p->dim_ART_eligible_CD4_350_500_y * sizeof(double));
  SET_VECTOR_ELT(state, 42, ScalarInteger(main_model_p->dim_ART_eligible_CD4_200_349_y));
  SET_VECTOR_ELT(state, 43, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_200_349_y));
  memcpy(REAL(VECTOR_ELT(state, 43)), main_model_p->ART_eligible_CD4_200_349_y, main_model_p->dim_ART_eligible_CD4_200_349_y * sizeof(double));
  SET_VECTOR_ELT(state, 44, ScalarInteger(main_model_p->dim_ART_eligible_CD4_below_200_y));
  SET_VECTOR_ELT(state, 45, allocVector(REALSXP, main_model_p->dim_ART_eligible_CD4_below_200_y));
  memcpy(REAL(VECTOR_ELT(state, 45)), main_model_p->ART_eligible_CD4_below_200_y, main_model_p->dim_ART_eligible_CD4_below_200_y * sizeof(double));
  SET_VECTOR_ELT(state, 46, ScalarInteger(main_model_p->dim_infect_ART_y));
  SET_VECTOR_ELT(state, 47, ScalarInteger(main_model_p->dim_infect_ART_y_1));
  SET_VECTOR_ELT(state, 48, ScalarInteger(main_model_p->dim_infect_ART_y_2));
  SET_VECTOR_ELT(state, 49, allocVector(REALSXP, main_model_p->dim_infect_ART_y));
  memcpy(REAL(VECTOR_ELT(state, 49)), main_model_p->infect_ART_y, main_model_p->dim_infect_ART_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 49), 2, main_model_p->dim_infect_ART_y_1, main_model_p->dim_infect_ART_y_2);
  SET_VECTOR_ELT(state, 50, ScalarInteger(main_model_p->offset_output_infect_ART_y));
  SET_VECTOR_ELT(state, 51, ScalarInteger(main_model_p->dim_infect_ART_t));
  SET_VECTOR_ELT(state, 52, allocVector(REALSXP, main_model_p->dim_infect_ART_t));
  memcpy(REAL(VECTOR_ELT(state, 52)), main_model_p->infect_ART_t, main_model_p->dim_infect_ART_t * sizeof(double));
  SET_VECTOR_ELT(state, 53, ScalarInteger(main_model_p->offset_output_infect_ART_t));
  SET_VECTOR_ELT(state, 54, ScalarInteger(main_model_p->dim_testing_prob_t));
  SET_VECTOR_ELT(state, 55, allocVector(REALSXP, main_model_p->dim_testing_prob_t));
  memcpy(REAL(VECTOR_ELT(state, 55)), main_model_p->testing_prob_t, main_model_p->dim_testing_prob_t * sizeof(double));
  SET_VECTOR_ELT(state, 56, ScalarInteger(main_model_p->dim_testing_prob_y));
  SET_VECTOR_ELT(state, 57, ScalarInteger(main_model_p->dim_testing_prob_y_1));
  SET_VECTOR_ELT(state, 58, ScalarInteger(main_model_p->dim_testing_prob_y_2));
  SET_VECTOR_ELT(state, 59, allocVector(REALSXP, main_model_p->dim_testing_prob_y));
  memcpy(REAL(VECTOR_ELT(state, 59)), main_model_p->testing_prob_y, main_model_p->dim_testing_prob_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 59), 2, main_model_p->dim_testing_prob_y_1, main_model_p->dim_testing_prob_y_2);
  SET_VECTOR_ELT(state, 60, ScalarReal(main_model_p->TasP_testing));
  SET_VECTOR_ELT(state, 61, ScalarInteger(main_model_p->dim_tau_intervention_t));
  SET_VECTOR_ELT(state, 62, allocVector(REALSXP, main_model_p->dim_tau_intervention_t));
  memcpy(REAL(VECTOR_ELT(state, 62)), main_model_p->tau_intervention_t, main_model_p->dim_tau_intervention_t * sizeof(double));
  SET_VECTOR_ELT(state, 63, ScalarInteger(main_model_p->dim_tau_intervention_y));
  SET_VECTOR_ELT(state, 64, ScalarInteger(main_model_p->dim_tau_intervention_y_1));
  SET_VECTOR_ELT(state, 65, ScalarInteger(main_model_p->dim_tau_intervention_y_2));
  SET_VECTOR_ELT(state, 66, allocVector(REALSXP, main_model_p->dim_tau_intervention_y));
  memcpy(REAL(VECTOR_ELT(state, 66)), main_model_p->tau_intervention_y, main_model_p->dim_tau_intervention_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 66), 2, main_model_p->dim_tau_intervention_y_1, main_model_p->dim_tau_intervention_y_2);
  SET_VECTOR_ELT(state, 67, ScalarInteger(main_model_p->dim_rho_intervention_t));
  SET_VECTOR_ELT(state, 68, allocVector(REALSXP, main_model_p->dim_rho_intervention_t));
  memcpy(REAL(VECTOR_ELT(state, 68)), main_model_p->rho_intervention_t, main_model_p->dim_rho_intervention_t * sizeof(double));
  SET_VECTOR_ELT(state, 69, ScalarInteger(main_model_p->dim_rho_intervention_y));
  SET_VECTOR_ELT(state, 70, ScalarInteger(main_model_p->dim_rho_intervention_y_1));
  SET_VECTOR_ELT(state, 71, ScalarInteger(main_model_p->dim_rho_intervention_y_2));
  SET_VECTOR_ELT(state, 72, allocVector(REALSXP, main_model_p->dim_rho_intervention_y));
  memcpy(REAL(VECTOR_ELT(state, 72)), main_model_p->rho_intervention_y, main_model_p->dim_rho_intervention_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 72), 2, main_model_p->dim_rho_intervention_y_1, main_model_p->dim_rho_intervention_y_2);
  SET_VECTOR_ELT(state, 73, ScalarReal(main_model_p->PrEPOnOff));
  SET_VECTOR_ELT(state, 74, ScalarReal(main_model_p->fPa));
  SET_VECTOR_ELT(state, 75, ScalarReal(main_model_p->fPb));
  SET_VECTOR_ELT(state, 76, ScalarReal(main_model_p->fPc));
  SET_VECTOR_ELT(state, 77, ScalarInteger(main_model_p->dim_prep_efficacious_t));
  SET_VECTOR_ELT(state, 78, allocVector(REALSXP, main_model_p->dim_prep_efficacious_t));
  memcpy(REAL(VECTOR_ELT(state, 78)), main_model_p->prep_efficacious_t, main_model_p->dim_prep_efficacious_t * sizeof(double));
  SET_VECTOR_ELT(state, 79, ScalarInteger(main_model_p->dim_prep_efficacious_y));
  SET_VECTOR_ELT(state, 80, allocVector(REALSXP, main_model_p->dim_prep_efficacious_y));
  memcpy(REAL(VECTOR_ELT(state, 80)), main_model_p->prep_efficacious_y, main_model_p->dim_prep_efficacious_y * sizeof(double));
  SET_VECTOR_ELT(state, 81, ScalarReal(main_model_p->RR_test_CD4200));
  SET_VECTOR_ELT(state, 82, ScalarInteger(main_model_p->dim_viral_supp_y));
  SET_VECTOR_ELT(state, 83, ScalarInteger(main_model_p->dim_viral_supp_y_1));
  SET_VECTOR_ELT(state, 84, ScalarInteger(main_model_p->dim_viral_supp_y_2));
  SET_VECTOR_ELT(state, 85, allocVector(REALSXP, main_model_p->dim_viral_supp_y));
  memcpy(REAL(VECTOR_ELT(state, 85)), main_model_p->viral_supp_y, main_model_p->dim_viral_supp_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 85), 2, main_model_p->dim_viral_supp_y_1, main_model_p->dim_viral_supp_y_2);
  SET_VECTOR_ELT(state, 86, ScalarInteger(main_model_p->offset_output_viral_supp_y));
  SET_VECTOR_ELT(state, 87, ScalarInteger(main_model_p->dim_viral_supp_t));
  SET_VECTOR_ELT(state, 88, allocVector(REALSXP, main_model_p->dim_viral_supp_t));
  memcpy(REAL(VECTOR_ELT(state, 88)), main_model_p->viral_supp_t, main_model_p->dim_viral_supp_t * sizeof(double));
  SET_VECTOR_ELT(state, 89, ScalarInteger(main_model_p->offset_output_viral_supp_t));
  SET_VECTOR_ELT(state, 90, ScalarReal(main_model_p->W0));
  SET_VECTOR_ELT(state, 91, ScalarReal(main_model_p->W1));
  SET_VECTOR_ELT(state, 92, ScalarReal(main_model_p->W2));
  SET_VECTOR_ELT(state, 93, ScalarReal(main_model_p->W3));
  SET_VECTOR_ELT(state, 94, ScalarReal(main_model_p->cost_Initiation_of_ART_study_FSW));
  SET_VECTOR_ELT(state, 95, ScalarReal(main_model_p->cost_Initiation_of_ART_government_FSW));
  SET_VECTOR_ELT(state, 96, ScalarReal(main_model_p->cost_1_year_of_ART_study_FSW));
  SET_VECTOR_ELT(state, 97, ScalarReal(main_model_p->cost_1_year_of_ART_government_FSW));
  SET_VECTOR_ELT(state, 98, ScalarReal(main_model_p->cost_Initiation_ART_rest_of_population));
  SET_VECTOR_ELT(state, 99, ScalarReal(main_model_p->cost_1_year_of_ART_rest_of_population));
  SET_VECTOR_ELT(state, 100, ScalarReal(main_model_p->cost_FSW_initiation_ART_Patient_costs));
  SET_VECTOR_ELT(state, 101, ScalarReal(main_model_p->cost_FSW_1_year_ART_Patient_costs));
  SET_VECTOR_ELT(state, 102, ScalarReal(main_model_p->cost_Initiation_of_PrEP_study));
  SET_VECTOR_ELT(state, 103, ScalarReal(main_model_p->cost_1_year_PrEP_perfect_adherence_study));
  SET_VECTOR_ELT(state, 104, ScalarReal(main_model_p->cost_1_year_PrEP_intermediate_adherence_study));
  SET_VECTOR_ELT(state, 105, ScalarReal(main_model_p->cost_1_year_PrEP_non_adherence_study));
  SET_VECTOR_ELT(state, 106, ScalarReal(main_model_p->cost_Initiation_of_PrEP_government));
  SET_VECTOR_ELT(state, 107, ScalarReal(main_model_p->cost_1_year_PrEP_perfect_adherence_government));
  SET_VECTOR_ELT(state, 108, ScalarReal(main_model_p->cost_1_year_PrEP_intermediate_adherence_government));
  SET_VECTOR_ELT(state, 109, ScalarReal(main_model_p->cost_1_year_PrEP_non_adherence_government));
  SET_VECTOR_ELT(state, 110, ScalarReal(main_model_p->cost_PREP_initiation_Patient_costs));
  SET_VECTOR_ELT(state, 111, ScalarReal(main_model_p->cost_PREP_1_year_ART_Patient_costs));
  SET_VECTOR_ELT(state, 112, ScalarInteger(main_model_p->Ncat));
  SET_VECTOR_ELT(state, 113, ScalarReal(main_model_p->Nage));
  SET_VECTOR_ELT(state, 114, ScalarReal(main_model_p->infect_acute));
  SET_VECTOR_ELT(state, 115, ScalarReal(main_model_p->infect_AIDS));
  SET_VECTOR_ELT(state, 116, ScalarReal(main_model_p->nu));
  SET_VECTOR_ELT(state, 117, ScalarReal(main_model_p->R));
  SET_VECTOR_ELT(state, 118, ScalarInteger(main_model_p->dim_epsilon_t));
  SET_VECTOR_ELT(state, 119, allocVector(REALSXP, main_model_p->dim_epsilon_t));
  memcpy(REAL(VECTOR_ELT(state, 119)), main_model_p->epsilon_t, main_model_p->dim_epsilon_t * sizeof(double));
  SET_VECTOR_ELT(state, 120, ScalarInteger(main_model_p->dim_epsilon_y));
  SET_VECTOR_ELT(state, 121, allocVector(REALSXP, main_model_p->dim_epsilon_y));
  memcpy(REAL(VECTOR_ELT(state, 121)), main_model_p->epsilon_y, main_model_p->dim_epsilon_y * sizeof(double));
  SET_VECTOR_ELT(state, 122, ScalarInteger(main_model_p->dim_fc_t_comm));
  SET_VECTOR_ELT(state, 123, allocVector(REALSXP, main_model_p->dim_fc_t_comm));
  memcpy(REAL(VECTOR_ELT(state, 123)), main_model_p->fc_t_comm, main_model_p->dim_fc_t_comm * sizeof(double));
  SET_VECTOR_ELT(state, 124, ScalarInteger(main_model_p->dim_fc_y_comm));
  SET_VECTOR_ELT(state, 125, ScalarInteger(main_model_p->dim_fc_y_comm_1));
  SET_VECTOR_ELT(state, 126, ScalarInteger(main_model_p->dim_fc_y_comm_2));
  SET_VECTOR_ELT(state, 127, ScalarInteger(main_model_p->dim_fc_y_comm_3));
  SET_VECTOR_ELT(state, 128, ScalarInteger(main_model_p->dim_fc_y_comm_12));
  SET_VECTOR_ELT(state, 129, allocVector(REALSXP, main_model_p->dim_fc_y_comm));
  memcpy(REAL(VECTOR_ELT(state, 129)), main_model_p->fc_y_comm, main_model_p->dim_fc_y_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 129), 3, main_model_p->dim_fc_y_comm_1, main_model_p->dim_fc_y_comm_2, main_model_p->dim_fc_y_comm_3);
  SET_VECTOR_ELT(state, 130, ScalarInteger(main_model_p->dim_fP_t_comm));
  SET_VECTOR_ELT(state, 131, allocVector(REALSXP, main_model_p->dim_fP_t_comm));
  memcpy(REAL(VECTOR_ELT(state, 131)), main_model_p->fP_t_comm, main_model_p->dim_fP_t_comm * sizeof(double));
  SET_VECTOR_ELT(state, 132, ScalarInteger(main_model_p->dim_fP_y_comm));
  SET_VECTOR_ELT(state, 133, ScalarInteger(main_model_p->dim_fP_y_comm_1));
  SET_VECTOR_ELT(state, 134, ScalarInteger(main_model_p->dim_fP_y_comm_2));
  SET_VECTOR_ELT(state, 135, allocVector(REALSXP, main_model_p->dim_fP_y_comm));
  memcpy(REAL(VECTOR_ELT(state, 135)), main_model_p->fP_y_comm, main_model_p->dim_fP_y_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 135), 2, main_model_p->dim_fP_y_comm_1, main_model_p->dim_fP_y_comm_2);
  SET_VECTOR_ELT(state, 136, ScalarInteger(main_model_p->dim_fc_t_noncomm));
  SET_VECTOR_ELT(state, 137, allocVector(REALSXP, main_model_p->dim_fc_t_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 137)), main_model_p->fc_t_noncomm, main_model_p->dim_fc_t_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 138, ScalarInteger(main_model_p->dim_fc_y_noncomm));
  SET_VECTOR_ELT(state, 139, ScalarInteger(main_model_p->dim_fc_y_noncomm_1));
  SET_VECTOR_ELT(state, 140, ScalarInteger(main_model_p->dim_fc_y_noncomm_2));
  SET_VECTOR_ELT(state, 141, ScalarInteger(main_model_p->dim_fc_y_noncomm_3));
  SET_VECTOR_ELT(state, 142, ScalarInteger(main_model_p->dim_fc_y_noncomm_12));
  SET_VECTOR_ELT(state, 143, allocVector(REALSXP, main_model_p->dim_fc_y_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 143)), main_model_p->fc_y_noncomm, main_model_p->dim_fc_y_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 143), 3, main_model_p->dim_fc_y_noncomm_1, main_model_p->dim_fc_y_noncomm_2, main_model_p->dim_fc_y_noncomm_3);
  SET_VECTOR_ELT(state, 144, ScalarInteger(main_model_p->dim_fP_t_noncomm));
  SET_VECTOR_ELT(state, 145, allocVector(REALSXP, main_model_p->dim_fP_t_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 145)), main_model_p->fP_t_noncomm, main_model_p->dim_fP_t_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 146, ScalarInteger(main_model_p->dim_fP_y_noncomm));
  SET_VECTOR_ELT(state, 147, ScalarInteger(main_model_p->dim_fP_y_noncomm_1));
  SET_VECTOR_ELT(state, 148, ScalarInteger(main_model_p->dim_fP_y_noncomm_2));
  SET_VECTOR_ELT(state, 149, allocVector(REALSXP, main_model_p->dim_fP_y_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 149)), main_model_p->fP_y_noncomm, main_model_p->dim_fP_y_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 149), 2, main_model_p->dim_fP_y_noncomm_1, main_model_p->dim_fP_y_noncomm_2);
  SET_VECTOR_ELT(state, 150, ScalarInteger(main_model_p->dim_n_t_comm));
  SET_VECTOR_ELT(state, 151, allocVector(REALSXP, main_model_p->dim_n_t_comm));
  memcpy(REAL(VECTOR_ELT(state, 151)), main_model_p->n_t_comm, main_model_p->dim_n_t_comm * sizeof(double));
  SET_VECTOR_ELT(state, 152, ScalarInteger(main_model_p->dim_n_y_comm));
  SET_VECTOR_ELT(state, 153, ScalarInteger(main_model_p->dim_n_y_comm_1));
  SET_VECTOR_ELT(state, 154, ScalarInteger(main_model_p->dim_n_y_comm_2));
  SET_VECTOR_ELT(state, 155, ScalarInteger(main_model_p->dim_n_y_comm_3));
  SET_VECTOR_ELT(state, 156, ScalarInteger(main_model_p->dim_n_y_comm_12));
  SET_VECTOR_ELT(state, 157, allocVector(REALSXP, main_model_p->dim_n_y_comm));
  memcpy(REAL(VECTOR_ELT(state, 157)), main_model_p->n_y_comm, main_model_p->dim_n_y_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 157), 3, main_model_p->dim_n_y_comm_1, main_model_p->dim_n_y_comm_2, main_model_p->dim_n_y_comm_3);
  SET_VECTOR_ELT(state, 158, ScalarInteger(main_model_p->dim_n_t_noncomm));
  SET_VECTOR_ELT(state, 159, allocVector(REALSXP, main_model_p->dim_n_t_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 159)), main_model_p->n_t_noncomm, main_model_p->dim_n_t_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 160, ScalarInteger(main_model_p->dim_n_y_noncomm));
  SET_VECTOR_ELT(state, 161, ScalarInteger(main_model_p->dim_n_y_noncomm_1));
  SET_VECTOR_ELT(state, 162, ScalarInteger(main_model_p->dim_n_y_noncomm_2));
  SET_VECTOR_ELT(state, 163, ScalarInteger(main_model_p->dim_n_y_noncomm_3));
  SET_VECTOR_ELT(state, 164, ScalarInteger(main_model_p->dim_n_y_noncomm_12));
  SET_VECTOR_ELT(state, 165, allocVector(REALSXP, main_model_p->dim_n_y_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 165)), main_model_p->n_y_noncomm, main_model_p->dim_n_y_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 165), 3, main_model_p->dim_n_y_noncomm_1, main_model_p->dim_n_y_noncomm_2, main_model_p->dim_n_y_noncomm_3);
  SET_VECTOR_ELT(state, 166, ScalarReal(main_model_p->dur_FSW));
  SET_VECTOR_ELT(state, 167, ScalarInteger(main_model_p->dim_prep_intervention_t));
  SET_VECTOR_ELT(state, 168, allocVector(REALSXP, main_model_p->dim_prep_intervention_t));
  memcpy(REAL(VECTOR_ELT(state, 168)), main_model_p->prep_intervention_t, main_model_p->dim_prep_intervention_t * sizeof(double));
  SET_VECTOR_ELT(state, 169, ScalarInteger(main_model_p->dim_prep_intervention_y));
  SET_VECTOR_ELT(state, 170, ScalarInteger(main_model_p->dim_prep_intervention_y_1));
  SET_VECTOR_ELT(state, 171, ScalarInteger(main_model_p->dim_prep_intervention_y_2));
  SET_VECTOR_ELT(state, 172, allocVector(REALSXP, main_model_p->dim_prep_intervention_y));
  memcpy(REAL(VECTOR_ELT(state, 172)), main_model_p->prep_intervention_y, main_model_p->dim_prep_intervention_y * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 172), 2, main_model_p->dim_prep_intervention_y_1, main_model_p->dim_prep_intervention_y_2);
  SET_VECTOR_ELT(state, 173, ScalarInteger(main_model_p->dim_gamma32_without_supp));
  SET_VECTOR_ELT(state, 174, allocVector(REALSXP, main_model_p->dim_gamma32_without_supp));
  memcpy(REAL(VECTOR_ELT(state, 174)), main_model_p->gamma32_without_supp, main_model_p->dim_gamma32_without_supp * sizeof(double));
  SET_VECTOR_ELT(state, 175, ScalarInteger(main_model_p->offset_output_gamma32_without_supp));
  SET_VECTOR_ELT(state, 176, ScalarInteger(main_model_p->dim_gamma33_without_supp));
  SET_VECTOR_ELT(state, 177, allocVector(REALSXP, main_model_p->dim_gamma33_without_supp));
  memcpy(REAL(VECTOR_ELT(state, 177)), main_model_p->gamma33_without_supp, main_model_p->dim_gamma33_without_supp * sizeof(double));
  SET_VECTOR_ELT(state, 178, ScalarInteger(main_model_p->offset_output_gamma33_without_supp));
  SET_VECTOR_ELT(state, 179, ScalarInteger(main_model_p->dim_gamma34_without_supp));
  SET_VECTOR_ELT(state, 180, allocVector(REALSXP, main_model_p->dim_gamma34_without_supp));
  memcpy(REAL(VECTOR_ELT(state, 180)), main_model_p->gamma34_without_supp, main_model_p->dim_gamma34_without_supp * sizeof(double));
  SET_VECTOR_ELT(state, 181, ScalarInteger(main_model_p->offset_output_gamma34_without_supp));
  SET_VECTOR_ELT(state, 182, ScalarInteger(main_model_p->dim_alpha33_without_supp));
  SET_VECTOR_ELT(state, 183, allocVector(REALSXP, main_model_p->dim_alpha33_without_supp));
  memcpy(REAL(VECTOR_ELT(state, 183)), main_model_p->alpha33_without_supp, main_model_p->dim_alpha33_without_supp * sizeof(double));
  SET_VECTOR_ELT(state, 184, ScalarInteger(main_model_p->offset_output_alpha33_without_supp));
  SET_VECTOR_ELT(state, 185, ScalarInteger(main_model_p->dim_alpha34_without_supp));
  SET_VECTOR_ELT(state, 186, allocVector(REALSXP, main_model_p->dim_alpha34_without_supp));
  memcpy(REAL(VECTOR_ELT(state, 186)), main_model_p->alpha34_without_supp, main_model_p->dim_alpha34_without_supp * sizeof(double));
  SET_VECTOR_ELT(state, 187, ScalarInteger(main_model_p->offset_output_alpha34_without_supp));
  SET_VECTOR_ELT(state, 188, ScalarInteger(main_model_p->dim_alpha35_without_supp));
  SET_VECTOR_ELT(state, 189, allocVector(REALSXP, main_model_p->dim_alpha35_without_supp));
  memcpy(REAL(VECTOR_ELT(state, 189)), main_model_p->alpha35_without_supp, main_model_p->dim_alpha35_without_supp * sizeof(double));
  SET_VECTOR_ELT(state, 190, ScalarInteger(main_model_p->offset_output_alpha35_without_supp));
  SET_VECTOR_ELT(state, 191, ScalarInteger(main_model_p->dim_c_comm));
  SET_VECTOR_ELT(state, 192, allocVector(REALSXP, main_model_p->dim_c_comm));
  memcpy(REAL(VECTOR_ELT(state, 192)), main_model_p->c_comm, main_model_p->dim_c_comm * sizeof(double));
  SET_VECTOR_ELT(state, 193, ScalarInteger(main_model_p->offset_output_c_comm));
  SET_VECTOR_ELT(state, 194, ScalarInteger(main_model_p->dim_c_noncomm));
  SET_VECTOR_ELT(state, 195, allocVector(REALSXP, main_model_p->dim_c_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 195)), main_model_p->c_noncomm, main_model_p->dim_c_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 196, ScalarInteger(main_model_p->offset_output_c_noncomm));
  SET_VECTOR_ELT(state, 197, ScalarInteger(main_model_p->dim_pfFSW));
  SET_VECTOR_ELT(state, 198, allocVector(REALSXP, main_model_p->dim_pfFSW));
  memcpy(REAL(VECTOR_ELT(state, 198)), main_model_p->pfFSW, main_model_p->dim_pfFSW * sizeof(double));
  SET_VECTOR_ELT(state, 199, ScalarInteger(main_model_p->offset_output_pfFSW));
  SET_VECTOR_ELT(state, 200, ScalarInteger(main_model_p->dim_new_acute_infected));
  SET_VECTOR_ELT(state, 201, allocVector(REALSXP, main_model_p->dim_new_acute_infected));
  memcpy(REAL(VECTOR_ELT(state, 201)), main_model_p->new_acute_infected, main_model_p->dim_new_acute_infected * sizeof(double));
  SET_VECTOR_ELT(state, 202, ScalarInteger(main_model_p->offset_output_new_acute_infected));
  SET_VECTOR_ELT(state, 203, ScalarInteger(main_model_p->dim_FSW_ONLY));
  SET_VECTOR_ELT(state, 204, allocVector(REALSXP, main_model_p->dim_FSW_ONLY));
  memcpy(REAL(VECTOR_ELT(state, 204)), main_model_p->FSW_ONLY, main_model_p->dim_FSW_ONLY * sizeof(double));
  SET_VECTOR_ELT(state, 205, ScalarInteger(main_model_p->dim_new_people_in_group));
  SET_VECTOR_ELT(state, 206, allocVector(REALSXP, main_model_p->dim_new_people_in_group));
  memcpy(REAL(VECTOR_ELT(state, 206)), main_model_p->new_people_in_group, main_model_p->dim_new_people_in_group * sizeof(double));
  SET_VECTOR_ELT(state, 207, ScalarInteger(main_model_p->offset_output_new_people_in_group));
  SET_VECTOR_ELT(state, 208, ScalarInteger(main_model_p->dim_new_people_in_group_FSW_only));
  SET_VECTOR_ELT(state, 209, allocVector(REALSXP, main_model_p->dim_new_people_in_group_FSW_only));
  memcpy(REAL(VECTOR_ELT(state, 209)), main_model_p->new_people_in_group_FSW_only, main_model_p->dim_new_people_in_group_FSW_only * sizeof(double));
  SET_VECTOR_ELT(state, 210, ScalarInteger(main_model_p->offset_output_new_people_in_group_FSW_only));
  SET_VECTOR_ELT(state, 211, ScalarInteger(main_model_p->dim_comm_partnerships_requested));
  SET_VECTOR_ELT(state, 212, ScalarInteger(main_model_p->dim_comm_partnerships_requested_1));
  SET_VECTOR_ELT(state, 213, ScalarInteger(main_model_p->dim_comm_partnerships_requested_2));
  SET_VECTOR_ELT(state, 214, allocVector(REALSXP, main_model_p->dim_comm_partnerships_requested));
  memcpy(REAL(VECTOR_ELT(state, 214)), main_model_p->comm_partnerships_requested, main_model_p->dim_comm_partnerships_requested * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 214), 2, main_model_p->dim_comm_partnerships_requested_1, main_model_p->dim_comm_partnerships_requested_2);
  SET_VECTOR_ELT(state, 215, ScalarInteger(main_model_p->dim_noncomm_partnerships_requested));
  SET_VECTOR_ELT(state, 216, ScalarInteger(main_model_p->dim_noncomm_partnerships_requested_1));
  SET_VECTOR_ELT(state, 217, ScalarInteger(main_model_p->dim_noncomm_partnerships_requested_2));
  SET_VECTOR_ELT(state, 218, allocVector(REALSXP, main_model_p->dim_noncomm_partnerships_requested));
  memcpy(REAL(VECTOR_ELT(state, 218)), main_model_p->noncomm_partnerships_requested, main_model_p->dim_noncomm_partnerships_requested * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 218), 2, main_model_p->dim_noncomm_partnerships_requested_1, main_model_p->dim_noncomm_partnerships_requested_2);
  SET_VECTOR_ELT(state, 219, ScalarInteger(main_model_p->dim_above_500_by_group));
  SET_VECTOR_ELT(state, 220, allocVector(REALSXP, main_model_p->dim_above_500_by_group));
  memcpy(REAL(VECTOR_ELT(state, 220)), main_model_p->above_500_by_group, main_model_p->dim_above_500_by_group * sizeof(double));
  SET_VECTOR_ELT(state, 221, ScalarInteger(main_model_p->offset_output_above_500_by_group));
  SET_VECTOR_ELT(state, 222, ScalarInteger(main_model_p->dim_testing_prob));
  SET_VECTOR_ELT(state, 223, allocVector(REALSXP, main_model_p->dim_testing_prob));
  memcpy(REAL(VECTOR_ELT(state, 223)), main_model_p->testing_prob, main_model_p->dim_testing_prob * sizeof(double));
  SET_VECTOR_ELT(state, 224, ScalarInteger(main_model_p->offset_output_testing_prob));
  SET_VECTOR_ELT(state, 225, ScalarInteger(main_model_p->dim_tau_intervention));
  SET_VECTOR_ELT(state, 226, allocVector(REALSXP, main_model_p->dim_tau_intervention));
  memcpy(REAL(VECTOR_ELT(state, 226)), main_model_p->tau_intervention, main_model_p->dim_tau_intervention * sizeof(double));
  SET_VECTOR_ELT(state, 227, ScalarInteger(main_model_p->offset_output_tau_intervention));
  SET_VECTOR_ELT(state, 228, ScalarInteger(main_model_p->dim_rho_intervention));
  SET_VECTOR_ELT(state, 229, allocVector(REALSXP, main_model_p->dim_rho_intervention));
  memcpy(REAL(VECTOR_ELT(state, 229)), main_model_p->rho_intervention, main_model_p->dim_rho_intervention * sizeof(double));
  SET_VECTOR_ELT(state, 230, ScalarInteger(main_model_p->offset_output_rho_intervention));
  SET_VECTOR_ELT(state, 231, ScalarInteger(main_model_p->dim_zeta));
  SET_VECTOR_ELT(state, 232, allocVector(REALSXP, main_model_p->dim_zeta));
  memcpy(REAL(VECTOR_ELT(state, 232)), main_model_p->zeta, main_model_p->dim_zeta * sizeof(double));
  SET_VECTOR_ELT(state, 233, ScalarInteger(main_model_p->offset_output_zeta));
  SET_VECTOR_ELT(state, 234, ScalarInteger(main_model_p->dim_sigma));
  SET_VECTOR_ELT(state, 235, allocVector(REALSXP, main_model_p->dim_sigma));
  memcpy(REAL(VECTOR_ELT(state, 235)), main_model_p->sigma, main_model_p->dim_sigma * sizeof(double));
  SET_VECTOR_ELT(state, 236, ScalarInteger(main_model_p->dim_eP1a_effective));
  SET_VECTOR_ELT(state, 237, allocVector(REALSXP, main_model_p->dim_eP1a_effective));
  memcpy(REAL(VECTOR_ELT(state, 237)), main_model_p->eP1a_effective, main_model_p->dim_eP1a_effective * sizeof(double));
  SET_VECTOR_ELT(state, 238, ScalarInteger(main_model_p->offset_output_eP1a_effective));
  SET_VECTOR_ELT(state, 239, ScalarInteger(main_model_p->dim_eP1b_effective));
  SET_VECTOR_ELT(state, 240, allocVector(REALSXP, main_model_p->dim_eP1b_effective));
  memcpy(REAL(VECTOR_ELT(state, 240)), main_model_p->eP1b_effective, main_model_p->dim_eP1b_effective * sizeof(double));
  SET_VECTOR_ELT(state, 241, ScalarInteger(main_model_p->offset_output_eP1b_effective));
  SET_VECTOR_ELT(state, 242, ScalarInteger(main_model_p->dim_eP1c_effective));
  SET_VECTOR_ELT(state, 243, allocVector(REALSXP, main_model_p->dim_eP1c_effective));
  memcpy(REAL(VECTOR_ELT(state, 243)), main_model_p->eP1c_effective, main_model_p->dim_eP1c_effective * sizeof(double));
  SET_VECTOR_ELT(state, 244, ScalarInteger(main_model_p->offset_output_eP1c_effective));
  SET_VECTOR_ELT(state, 245, ScalarInteger(main_model_p->dim_tau));
  SET_VECTOR_ELT(state, 246, allocVector(REALSXP, main_model_p->dim_tau));
  memcpy(REAL(VECTOR_ELT(state, 246)), main_model_p->tau, main_model_p->dim_tau * sizeof(double));
  SET_VECTOR_ELT(state, 247, ScalarInteger(main_model_p->offset_output_tau));
  SET_VECTOR_ELT(state, 248, ScalarInteger(main_model_p->dim_test_rate_prep));
  SET_VECTOR_ELT(state, 249, allocVector(REALSXP, main_model_p->dim_test_rate_prep));
  memcpy(REAL(VECTOR_ELT(state, 249)), main_model_p->test_rate_prep, main_model_p->dim_test_rate_prep * sizeof(double));
  SET_VECTOR_ELT(state, 250, ScalarInteger(main_model_p->dim_rho));
  SET_VECTOR_ELT(state, 251, allocVector(REALSXP, main_model_p->dim_rho));
  memcpy(REAL(VECTOR_ELT(state, 251)), main_model_p->rho, main_model_p->dim_rho * sizeof(double));
  SET_VECTOR_ELT(state, 252, ScalarInteger(main_model_p->offset_output_rho));
  SET_VECTOR_ELT(state, 253, ScalarInteger(main_model_p->dim_iota));
  SET_VECTOR_ELT(state, 254, allocVector(REALSXP, main_model_p->dim_iota));
  memcpy(REAL(VECTOR_ELT(state, 254)), main_model_p->iota, main_model_p->dim_iota * sizeof(double));
  SET_VECTOR_ELT(state, 255, ScalarInteger(main_model_p->offset_output_iota));
  SET_VECTOR_ELT(state, 256, ScalarInteger(main_model_p->dim_viral_supp));
  SET_VECTOR_ELT(state, 257, allocVector(REALSXP, main_model_p->dim_viral_supp));
  memcpy(REAL(VECTOR_ELT(state, 257)), main_model_p->viral_supp, main_model_p->dim_viral_supp * sizeof(double));
  SET_VECTOR_ELT(state, 258, ScalarInteger(main_model_p->offset_output_viral_supp));
  SET_VECTOR_ELT(state, 259, ScalarInteger(main_model_p->dim_HIV_positive));
  SET_VECTOR_ELT(state, 260, allocVector(REALSXP, main_model_p->dim_HIV_positive));
  memcpy(REAL(VECTOR_ELT(state, 260)), main_model_p->HIV_positive, main_model_p->dim_HIV_positive * sizeof(double));
  SET_VECTOR_ELT(state, 261, ScalarInteger(main_model_p->offset_output_HIV_positive));
  SET_VECTOR_ELT(state, 262, ScalarInteger(main_model_p->dim_Number_Susceptibles));
  SET_VECTOR_ELT(state, 263, allocVector(REALSXP, main_model_p->dim_Number_Susceptibles));
  memcpy(REAL(VECTOR_ELT(state, 263)), main_model_p->Number_Susceptibles, main_model_p->dim_Number_Susceptibles * sizeof(double));
  SET_VECTOR_ELT(state, 264, ScalarInteger(main_model_p->offset_output_Number_Susceptibles));
  SET_VECTOR_ELT(state, 265, ScalarInteger(main_model_p->dim_HIV_positive_Diagnosed_Off_ART));
  SET_VECTOR_ELT(state, 266, allocVector(REALSXP, main_model_p->dim_HIV_positive_Diagnosed_Off_ART));
  memcpy(REAL(VECTOR_ELT(state, 266)), main_model_p->HIV_positive_Diagnosed_Off_ART, main_model_p->dim_HIV_positive_Diagnosed_Off_ART * sizeof(double));
  SET_VECTOR_ELT(state, 267, ScalarInteger(main_model_p->offset_output_HIV_positive_Diagnosed_Off_ART));
  SET_VECTOR_ELT(state, 268, ScalarInteger(main_model_p->dim_Primary_Off_ART));
  SET_VECTOR_ELT(state, 269, allocVector(REALSXP, main_model_p->dim_Primary_Off_ART));
  memcpy(REAL(VECTOR_ELT(state, 269)), main_model_p->Primary_Off_ART, main_model_p->dim_Primary_Off_ART * sizeof(double));
  SET_VECTOR_ELT(state, 270, ScalarInteger(main_model_p->offset_output_Primary_Off_ART));
  SET_VECTOR_ELT(state, 271, ScalarInteger(main_model_p->dim_CD4_above_500_Off_ART));
  SET_VECTOR_ELT(state, 272, allocVector(REALSXP, main_model_p->dim_CD4_above_500_Off_ART));
  memcpy(REAL(VECTOR_ELT(state, 272)), main_model_p->CD4_above_500_Off_ART, main_model_p->dim_CD4_above_500_Off_ART * sizeof(double));
  SET_VECTOR_ELT(state, 273, ScalarInteger(main_model_p->offset_output_CD4_above_500_Off_ART));
  SET_VECTOR_ELT(state, 274, ScalarInteger(main_model_p->dim_CD4_350_500_Off_ART));
  SET_VECTOR_ELT(state, 275, allocVector(REALSXP, main_model_p->dim_CD4_350_500_Off_ART));
  memcpy(REAL(VECTOR_ELT(state, 275)), main_model_p->CD4_350_500_Off_ART, main_model_p->dim_CD4_350_500_Off_ART * sizeof(double));
  SET_VECTOR_ELT(state, 276, ScalarInteger(main_model_p->offset_output_CD4_350_500_Off_ART));
  SET_VECTOR_ELT(state, 277, ScalarInteger(main_model_p->dim_CD4_200_350_Off_ART));
  SET_VECTOR_ELT(state, 278, allocVector(REALSXP, main_model_p->dim_CD4_200_350_Off_ART));
  memcpy(REAL(VECTOR_ELT(state, 278)), main_model_p->CD4_200_350_Off_ART, main_model_p->dim_CD4_200_350_Off_ART * sizeof(double));
  SET_VECTOR_ELT(state, 279, ScalarInteger(main_model_p->offset_output_CD4_200_350_Off_ART));
  SET_VECTOR_ELT(state, 280, ScalarInteger(main_model_p->dim_CD4_below_200_Off_ART));
  SET_VECTOR_ELT(state, 281, allocVector(REALSXP, main_model_p->dim_CD4_below_200_Off_ART));
  memcpy(REAL(VECTOR_ELT(state, 281)), main_model_p->CD4_below_200_Off_ART, main_model_p->dim_CD4_below_200_Off_ART * sizeof(double));
  SET_VECTOR_ELT(state, 282, ScalarInteger(main_model_p->offset_output_CD4_below_200_Off_ART));
  SET_VECTOR_ELT(state, 283, ScalarInteger(main_model_p->dim_HIV_positive_On_ART));
  SET_VECTOR_ELT(state, 284, allocVector(REALSXP, main_model_p->dim_HIV_positive_On_ART));
  memcpy(REAL(VECTOR_ELT(state, 284)), main_model_p->HIV_positive_On_ART, main_model_p->dim_HIV_positive_On_ART * sizeof(double));
  SET_VECTOR_ELT(state, 285, ScalarInteger(main_model_p->offset_output_HIV_positive_On_ART));
  SET_VECTOR_ELT(state, 286, ScalarInteger(main_model_p->dim_Number_DALY_W1));
  SET_VECTOR_ELT(state, 287, allocVector(REALSXP, main_model_p->dim_Number_DALY_W1));
  memcpy(REAL(VECTOR_ELT(state, 287)), main_model_p->Number_DALY_W1, main_model_p->dim_Number_DALY_W1 * sizeof(double));
  SET_VECTOR_ELT(state, 288, ScalarInteger(main_model_p->offset_output_Number_DALY_W1));
  SET_VECTOR_ELT(state, 289, ScalarInteger(main_model_p->dim_Number_DALY_W2));
  SET_VECTOR_ELT(state, 290, allocVector(REALSXP, main_model_p->dim_Number_DALY_W2));
  memcpy(REAL(VECTOR_ELT(state, 290)), main_model_p->Number_DALY_W2, main_model_p->dim_Number_DALY_W2 * sizeof(double));
  SET_VECTOR_ELT(state, 291, ScalarInteger(main_model_p->offset_output_Number_DALY_W2));
  SET_VECTOR_ELT(state, 292, ScalarInteger(main_model_p->dim_Number_DALY_W3));
  SET_VECTOR_ELT(state, 293, allocVector(REALSXP, main_model_p->dim_Number_DALY_W3));
  memcpy(REAL(VECTOR_ELT(state, 293)), main_model_p->Number_DALY_W3, main_model_p->dim_Number_DALY_W3 * sizeof(double));
  SET_VECTOR_ELT(state, 294, ScalarInteger(main_model_p->offset_output_Number_DALY_W3));
  SET_VECTOR_ELT(state, 295, ScalarInteger(main_model_p->dim_cumuDeaths_On_ART));
  SET_VECTOR_ELT(state, 296, allocVector(REALSXP, main_model_p->dim_cumuDeaths_On_ART));
  memcpy(REAL(VECTOR_ELT(state, 296)), main_model_p->initial_cumuDeaths_On_ART, main_model_p->dim_cumuDeaths_On_ART * sizeof(double));
  SET_VECTOR_ELT(state, 297, ScalarInteger(main_model_p->offset_cumuDeaths_On_ART));
  SET_VECTOR_ELT(state, 298, ScalarInteger(main_model_p->dim_cumuARTinitiations_not_TasP));
  SET_VECTOR_ELT(state, 299, allocVector(REALSXP, main_model_p->dim_cumuARTinitiations_not_TasP));
  memcpy(REAL(VECTOR_ELT(state, 299)), main_model_p->initial_cumuARTinitiations_not_TasP, main_model_p->dim_cumuARTinitiations_not_TasP * sizeof(double));
  SET_VECTOR_ELT(state, 300, ScalarInteger(main_model_p->offset_cumuARTinitiations_not_TasP));
  SET_VECTOR_ELT(state, 301, ScalarInteger(main_model_p->dim_cumu_PrEP_dropouts));
  SET_VECTOR_ELT(state, 302, allocVector(REALSXP, main_model_p->dim_cumu_PrEP_dropouts));
  memcpy(REAL(VECTOR_ELT(state, 302)), main_model_p->initial_cumu_PrEP_dropouts, main_model_p->dim_cumu_PrEP_dropouts * sizeof(double));
  SET_VECTOR_ELT(state, 303, ScalarInteger(main_model_p->offset_cumu_PrEP_dropouts));
  SET_VECTOR_ELT(state, 304, ScalarInteger(main_model_p->dim_S0_infections));
  SET_VECTOR_ELT(state, 305, allocVector(REALSXP, main_model_p->dim_S0_infections));
  memcpy(REAL(VECTOR_ELT(state, 305)), main_model_p->initial_S0_infections, main_model_p->dim_S0_infections * sizeof(double));
  SET_VECTOR_ELT(state, 306, ScalarInteger(main_model_p->offset_S0_infections));
  SET_VECTOR_ELT(state, 307, ScalarInteger(main_model_p->dim_S1a_infections));
  SET_VECTOR_ELT(state, 308, allocVector(REALSXP, main_model_p->dim_S1a_infections));
  memcpy(REAL(VECTOR_ELT(state, 308)), main_model_p->initial_S1a_infections, main_model_p->dim_S1a_infections * sizeof(double));
  SET_VECTOR_ELT(state, 309, ScalarInteger(main_model_p->offset_S1a_infections));
  SET_VECTOR_ELT(state, 310, ScalarInteger(main_model_p->dim_S1b_infections));
  SET_VECTOR_ELT(state, 311, allocVector(REALSXP, main_model_p->dim_S1b_infections));
  memcpy(REAL(VECTOR_ELT(state, 311)), main_model_p->initial_S1b_infections, main_model_p->dim_S1b_infections * sizeof(double));
  SET_VECTOR_ELT(state, 312, ScalarInteger(main_model_p->offset_S1b_infections));
  SET_VECTOR_ELT(state, 313, ScalarInteger(main_model_p->dim_S1c_infections));
  SET_VECTOR_ELT(state, 314, allocVector(REALSXP, main_model_p->dim_S1c_infections));
  memcpy(REAL(VECTOR_ELT(state, 314)), main_model_p->initial_S1c_infections, main_model_p->dim_S1c_infections * sizeof(double));
  SET_VECTOR_ELT(state, 315, ScalarInteger(main_model_p->offset_S1c_infections));
  SET_VECTOR_ELT(state, 316, ScalarInteger(main_model_p->dim_S1d_infections));
  SET_VECTOR_ELT(state, 317, allocVector(REALSXP, main_model_p->dim_S1d_infections));
  memcpy(REAL(VECTOR_ELT(state, 317)), main_model_p->initial_S1d_infections, main_model_p->dim_S1d_infections * sizeof(double));
  SET_VECTOR_ELT(state, 318, ScalarInteger(main_model_p->offset_S1d_infections));
  SET_VECTOR_ELT(state, 319, ScalarInteger(main_model_p->dim_frac_F));
  SET_VECTOR_ELT(state, 320, allocVector(REALSXP, main_model_p->dim_frac_F));
  memcpy(REAL(VECTOR_ELT(state, 320)), main_model_p->frac_F, main_model_p->dim_frac_F * sizeof(double));
  SET_VECTOR_ELT(state, 321, ScalarInteger(main_model_p->offset_output_frac_F));
  SET_VECTOR_ELT(state, 322, ScalarInteger(main_model_p->dim_frac_N_sexualpop));
  SET_VECTOR_ELT(state, 323, allocVector(REALSXP, main_model_p->dim_frac_N_sexualpop));
  memcpy(REAL(VECTOR_ELT(state, 323)), main_model_p->frac_N_sexualpop, main_model_p->dim_frac_N_sexualpop * sizeof(double));
  SET_VECTOR_ELT(state, 324, ScalarInteger(main_model_p->offset_output_frac_N_sexualpop));
  SET_VECTOR_ELT(state, 325, ScalarInteger(main_model_p->dim_ART_coverage));
  SET_VECTOR_ELT(state, 326, allocVector(REALSXP, main_model_p->dim_ART_coverage));
  memcpy(REAL(VECTOR_ELT(state, 326)), main_model_p->ART_coverage, main_model_p->dim_ART_coverage * sizeof(double));
  SET_VECTOR_ELT(state, 327, ScalarInteger(main_model_p->offset_output_ART_coverage));
  SET_VECTOR_ELT(state, 328, ScalarInteger(main_model_p->dim_infect_ART));
  SET_VECTOR_ELT(state, 329, allocVector(REALSXP, main_model_p->dim_infect_ART));
  memcpy(REAL(VECTOR_ELT(state, 329)), main_model_p->infect_ART, main_model_p->dim_infect_ART * sizeof(double));
  SET_VECTOR_ELT(state, 330, ScalarInteger(main_model_p->offset_output_infect_ART));
  SET_VECTOR_ELT(state, 331, ScalarInteger(main_model_p->dim_prep_offered));
  SET_VECTOR_ELT(state, 332, allocVector(REALSXP, main_model_p->dim_prep_offered));
  memcpy(REAL(VECTOR_ELT(state, 332)), main_model_p->prep_offered, main_model_p->dim_prep_offered * sizeof(double));
  SET_VECTOR_ELT(state, 333, ScalarInteger(main_model_p->offset_output_prep_offered));
  SET_VECTOR_ELT(state, 334, ScalarInteger(main_model_p->dim_omega));
  SET_VECTOR_ELT(state, 335, allocVector(REALSXP, main_model_p->dim_omega));
  memcpy(REAL(VECTOR_ELT(state, 335)), main_model_p->omega, main_model_p->dim_omega * sizeof(double));
  SET_VECTOR_ELT(state, 336, ScalarInteger(main_model_p->offset_output_omega));
  SET_VECTOR_ELT(state, 337, ScalarInteger(main_model_p->dim_frac_N));
  SET_VECTOR_ELT(state, 338, allocVector(REALSXP, main_model_p->dim_frac_N));
  memcpy(REAL(VECTOR_ELT(state, 338)), main_model_p->frac_N, main_model_p->dim_frac_N * sizeof(double));
  SET_VECTOR_ELT(state, 339, ScalarInteger(main_model_p->offset_output_frac_N));
  SET_VECTOR_ELT(state, 340, ScalarInteger(main_model_p->dim_mu));
  SET_VECTOR_ELT(state, 341, allocVector(REALSXP, main_model_p->dim_mu));
  memcpy(REAL(VECTOR_ELT(state, 341)), main_model_p->mu, main_model_p->dim_mu * sizeof(double));
  SET_VECTOR_ELT(state, 342, ScalarInteger(main_model_p->offset_output_mu));
  SET_VECTOR_ELT(state, 343, ScalarInteger(main_model_p->dim_gamma01));
  SET_VECTOR_ELT(state, 344, allocVector(REALSXP, main_model_p->dim_gamma01));
  memcpy(REAL(VECTOR_ELT(state, 344)), main_model_p->gamma01, main_model_p->dim_gamma01 * sizeof(double));
  SET_VECTOR_ELT(state, 345, ScalarInteger(main_model_p->offset_output_gamma01));
  SET_VECTOR_ELT(state, 346, ScalarInteger(main_model_p->dim_gamma02));
  SET_VECTOR_ELT(state, 347, allocVector(REALSXP, main_model_p->dim_gamma02));
  memcpy(REAL(VECTOR_ELT(state, 347)), main_model_p->gamma02, main_model_p->dim_gamma02 * sizeof(double));
  SET_VECTOR_ELT(state, 348, ScalarInteger(main_model_p->dim_gamma03));
  SET_VECTOR_ELT(state, 349, allocVector(REALSXP, main_model_p->dim_gamma03));
  memcpy(REAL(VECTOR_ELT(state, 349)), main_model_p->gamma03, main_model_p->dim_gamma03 * sizeof(double));
  SET_VECTOR_ELT(state, 350, ScalarInteger(main_model_p->dim_gamma04));
  SET_VECTOR_ELT(state, 351, allocVector(REALSXP, main_model_p->dim_gamma04));
  memcpy(REAL(VECTOR_ELT(state, 351)), main_model_p->gamma04, main_model_p->dim_gamma04 * sizeof(double));
  SET_VECTOR_ELT(state, 352, ScalarInteger(main_model_p->dim_gamma11));
  SET_VECTOR_ELT(state, 353, allocVector(REALSXP, main_model_p->dim_gamma11));
  memcpy(REAL(VECTOR_ELT(state, 353)), main_model_p->gamma11, main_model_p->dim_gamma11 * sizeof(double));
  SET_VECTOR_ELT(state, 354, ScalarInteger(main_model_p->offset_output_gamma11));
  SET_VECTOR_ELT(state, 355, ScalarInteger(main_model_p->dim_gamma22));
  SET_VECTOR_ELT(state, 356, allocVector(REALSXP, main_model_p->dim_gamma22));
  memcpy(REAL(VECTOR_ELT(state, 356)), main_model_p->gamma22, main_model_p->dim_gamma22 * sizeof(double));
  SET_VECTOR_ELT(state, 357, ScalarInteger(main_model_p->dim_gamma23));
  SET_VECTOR_ELT(state, 358, allocVector(REALSXP, main_model_p->dim_gamma23));
  memcpy(REAL(VECTOR_ELT(state, 358)), main_model_p->gamma23, main_model_p->dim_gamma23 * sizeof(double));
  SET_VECTOR_ELT(state, 359, ScalarInteger(main_model_p->dim_gamma24));
  SET_VECTOR_ELT(state, 360, allocVector(REALSXP, main_model_p->dim_gamma24));
  memcpy(REAL(VECTOR_ELT(state, 360)), main_model_p->gamma24, main_model_p->dim_gamma24 * sizeof(double));
  SET_VECTOR_ELT(state, 361, ScalarInteger(main_model_p->dim_gamma32));
  SET_VECTOR_ELT(state, 362, allocVector(REALSXP, main_model_p->dim_gamma32));
  memcpy(REAL(VECTOR_ELT(state, 362)), main_model_p->gamma32, main_model_p->dim_gamma32 * sizeof(double));
  SET_VECTOR_ELT(state, 363, ScalarInteger(main_model_p->offset_output_gamma32));
  SET_VECTOR_ELT(state, 364, ScalarInteger(main_model_p->dim_gamma33));
  SET_VECTOR_ELT(state, 365, allocVector(REALSXP, main_model_p->dim_gamma33));
  memcpy(REAL(VECTOR_ELT(state, 365)), main_model_p->gamma33, main_model_p->dim_gamma33 * sizeof(double));
  SET_VECTOR_ELT(state, 366, ScalarInteger(main_model_p->offset_output_gamma33));
  SET_VECTOR_ELT(state, 367, ScalarInteger(main_model_p->dim_gamma34));
  SET_VECTOR_ELT(state, 368, allocVector(REALSXP, main_model_p->dim_gamma34));
  memcpy(REAL(VECTOR_ELT(state, 368)), main_model_p->gamma34, main_model_p->dim_gamma34 * sizeof(double));
  SET_VECTOR_ELT(state, 369, ScalarInteger(main_model_p->offset_output_gamma34));
  SET_VECTOR_ELT(state, 370, ScalarInteger(main_model_p->dim_gamma42));
  SET_VECTOR_ELT(state, 371, allocVector(REALSXP, main_model_p->dim_gamma42));
  memcpy(REAL(VECTOR_ELT(state, 371)), main_model_p->gamma42, main_model_p->dim_gamma42 * sizeof(double));
  SET_VECTOR_ELT(state, 372, ScalarInteger(main_model_p->dim_gamma43));
  SET_VECTOR_ELT(state, 373, allocVector(REALSXP, main_model_p->dim_gamma43));
  memcpy(REAL(VECTOR_ELT(state, 373)), main_model_p->gamma43, main_model_p->dim_gamma43 * sizeof(double));
  SET_VECTOR_ELT(state, 374, ScalarInteger(main_model_p->dim_gamma44));
  SET_VECTOR_ELT(state, 375, allocVector(REALSXP, main_model_p->dim_gamma44));
  memcpy(REAL(VECTOR_ELT(state, 375)), main_model_p->gamma44, main_model_p->dim_gamma44 * sizeof(double));
  SET_VECTOR_ELT(state, 376, ScalarInteger(main_model_p->dim_phi2));
  SET_VECTOR_ELT(state, 377, allocVector(REALSXP, main_model_p->dim_phi2));
  memcpy(REAL(VECTOR_ELT(state, 377)), main_model_p->phi2, main_model_p->dim_phi2 * sizeof(double));
  SET_VECTOR_ELT(state, 378, ScalarInteger(main_model_p->dim_phi3));
  SET_VECTOR_ELT(state, 379, allocVector(REALSXP, main_model_p->dim_phi3));
  memcpy(REAL(VECTOR_ELT(state, 379)), main_model_p->phi3, main_model_p->dim_phi3 * sizeof(double));
  SET_VECTOR_ELT(state, 380, ScalarInteger(main_model_p->dim_phi4));
  SET_VECTOR_ELT(state, 381, allocVector(REALSXP, main_model_p->dim_phi4));
  memcpy(REAL(VECTOR_ELT(state, 381)), main_model_p->phi4, main_model_p->dim_phi4 * sizeof(double));
  SET_VECTOR_ELT(state, 382, ScalarInteger(main_model_p->dim_phi5));
  SET_VECTOR_ELT(state, 383, allocVector(REALSXP, main_model_p->dim_phi5));
  memcpy(REAL(VECTOR_ELT(state, 383)), main_model_p->phi5, main_model_p->dim_phi5 * sizeof(double));
  SET_VECTOR_ELT(state, 384, ScalarInteger(main_model_p->dim_psia));
  SET_VECTOR_ELT(state, 385, allocVector(REALSXP, main_model_p->dim_psia));
  memcpy(REAL(VECTOR_ELT(state, 385)), main_model_p->psia, main_model_p->dim_psia * sizeof(double));
  SET_VECTOR_ELT(state, 386, ScalarInteger(main_model_p->dim_psib));
  SET_VECTOR_ELT(state, 387, allocVector(REALSXP, main_model_p->dim_psib));
  memcpy(REAL(VECTOR_ELT(state, 387)), main_model_p->psib, main_model_p->dim_psib * sizeof(double));
  SET_VECTOR_ELT(state, 388, ScalarInteger(main_model_p->dim_kappaa));
  SET_VECTOR_ELT(state, 389, allocVector(REALSXP, main_model_p->dim_kappaa));
  memcpy(REAL(VECTOR_ELT(state, 389)), main_model_p->kappaa, main_model_p->dim_kappaa * sizeof(double));
  SET_VECTOR_ELT(state, 390, ScalarInteger(main_model_p->offset_output_kappaa));
  SET_VECTOR_ELT(state, 391, ScalarInteger(main_model_p->dim_kappab));
  SET_VECTOR_ELT(state, 392, allocVector(REALSXP, main_model_p->dim_kappab));
  memcpy(REAL(VECTOR_ELT(state, 392)), main_model_p->kappab, main_model_p->dim_kappab * sizeof(double));
  SET_VECTOR_ELT(state, 393, ScalarInteger(main_model_p->offset_output_kappab));
  SET_VECTOR_ELT(state, 394, ScalarInteger(main_model_p->dim_kappac));
  SET_VECTOR_ELT(state, 395, allocVector(REALSXP, main_model_p->dim_kappac));
  memcpy(REAL(VECTOR_ELT(state, 395)), main_model_p->kappac, main_model_p->dim_kappac * sizeof(double));
  SET_VECTOR_ELT(state, 396, ScalarInteger(main_model_p->offset_output_kappac));
  SET_VECTOR_ELT(state, 397, ScalarInteger(main_model_p->dim_kappa1));
  SET_VECTOR_ELT(state, 398, allocVector(REALSXP, main_model_p->dim_kappa1));
  memcpy(REAL(VECTOR_ELT(state, 398)), main_model_p->kappa1, main_model_p->dim_kappa1 * sizeof(double));
  SET_VECTOR_ELT(state, 399, ScalarInteger(main_model_p->offset_output_kappa1));
  SET_VECTOR_ELT(state, 400, ScalarInteger(main_model_p->dim_alpha01));
  SET_VECTOR_ELT(state, 401, allocVector(REALSXP, main_model_p->dim_alpha01));
  memcpy(REAL(VECTOR_ELT(state, 401)), main_model_p->alpha01, main_model_p->dim_alpha01 * sizeof(double));
  SET_VECTOR_ELT(state, 402, ScalarInteger(main_model_p->offset_output_alpha01));
  SET_VECTOR_ELT(state, 403, ScalarInteger(main_model_p->dim_alpha02));
  SET_VECTOR_ELT(state, 404, allocVector(REALSXP, main_model_p->dim_alpha02));
  memcpy(REAL(VECTOR_ELT(state, 404)), main_model_p->alpha02, main_model_p->dim_alpha02 * sizeof(double));
  SET_VECTOR_ELT(state, 405, ScalarInteger(main_model_p->offset_output_alpha02));
  SET_VECTOR_ELT(state, 406, ScalarInteger(main_model_p->dim_alpha03));
  SET_VECTOR_ELT(state, 407, allocVector(REALSXP, main_model_p->dim_alpha03));
  memcpy(REAL(VECTOR_ELT(state, 407)), main_model_p->alpha03, main_model_p->dim_alpha03 * sizeof(double));
  SET_VECTOR_ELT(state, 408, ScalarInteger(main_model_p->dim_alpha04));
  SET_VECTOR_ELT(state, 409, allocVector(REALSXP, main_model_p->dim_alpha04));
  memcpy(REAL(VECTOR_ELT(state, 409)), main_model_p->alpha04, main_model_p->dim_alpha04 * sizeof(double));
  SET_VECTOR_ELT(state, 410, ScalarInteger(main_model_p->dim_alpha05));
  SET_VECTOR_ELT(state, 411, allocVector(REALSXP, main_model_p->dim_alpha05));
  memcpy(REAL(VECTOR_ELT(state, 411)), main_model_p->alpha05, main_model_p->dim_alpha05 * sizeof(double));
  SET_VECTOR_ELT(state, 412, ScalarInteger(main_model_p->offset_output_alpha05));
  SET_VECTOR_ELT(state, 413, ScalarInteger(main_model_p->dim_alpha11));
  SET_VECTOR_ELT(state, 414, allocVector(REALSXP, main_model_p->dim_alpha11));
  memcpy(REAL(VECTOR_ELT(state, 414)), main_model_p->alpha11, main_model_p->dim_alpha11 * sizeof(double));
  SET_VECTOR_ELT(state, 415, ScalarInteger(main_model_p->offset_output_alpha11));
  SET_VECTOR_ELT(state, 416, ScalarInteger(main_model_p->dim_alpha22));
  SET_VECTOR_ELT(state, 417, allocVector(REALSXP, main_model_p->dim_alpha22));
  memcpy(REAL(VECTOR_ELT(state, 417)), main_model_p->alpha22, main_model_p->dim_alpha22 * sizeof(double));
  SET_VECTOR_ELT(state, 418, ScalarInteger(main_model_p->offset_output_alpha22));
  SET_VECTOR_ELT(state, 419, ScalarInteger(main_model_p->dim_alpha23));
  SET_VECTOR_ELT(state, 420, allocVector(REALSXP, main_model_p->dim_alpha23));
  memcpy(REAL(VECTOR_ELT(state, 420)), main_model_p->alpha23, main_model_p->dim_alpha23 * sizeof(double));
  SET_VECTOR_ELT(state, 421, ScalarInteger(main_model_p->dim_alpha24));
  SET_VECTOR_ELT(state, 422, allocVector(REALSXP, main_model_p->dim_alpha24));
  memcpy(REAL(VECTOR_ELT(state, 422)), main_model_p->alpha24, main_model_p->dim_alpha24 * sizeof(double));
  SET_VECTOR_ELT(state, 423, ScalarInteger(main_model_p->dim_alpha25));
  SET_VECTOR_ELT(state, 424, allocVector(REALSXP, main_model_p->dim_alpha25));
  memcpy(REAL(VECTOR_ELT(state, 424)), main_model_p->alpha25, main_model_p->dim_alpha25 * sizeof(double));
  SET_VECTOR_ELT(state, 425, ScalarInteger(main_model_p->dim_alpha32));
  SET_VECTOR_ELT(state, 426, allocVector(REALSXP, main_model_p->dim_alpha32));
  memcpy(REAL(VECTOR_ELT(state, 426)), main_model_p->alpha32, main_model_p->dim_alpha32 * sizeof(double));
  SET_VECTOR_ELT(state, 427, ScalarInteger(main_model_p->dim_alpha33));
  SET_VECTOR_ELT(state, 428, allocVector(REALSXP, main_model_p->dim_alpha33));
  memcpy(REAL(VECTOR_ELT(state, 428)), main_model_p->alpha33, main_model_p->dim_alpha33 * sizeof(double));
  SET_VECTOR_ELT(state, 429, ScalarInteger(main_model_p->offset_output_alpha33));
  SET_VECTOR_ELT(state, 430, ScalarInteger(main_model_p->dim_alpha34));
  SET_VECTOR_ELT(state, 431, allocVector(REALSXP, main_model_p->dim_alpha34));
  memcpy(REAL(VECTOR_ELT(state, 431)), main_model_p->alpha34, main_model_p->dim_alpha34 * sizeof(double));
  SET_VECTOR_ELT(state, 432, ScalarInteger(main_model_p->offset_output_alpha34));
  SET_VECTOR_ELT(state, 433, ScalarInteger(main_model_p->dim_alpha35));
  SET_VECTOR_ELT(state, 434, allocVector(REALSXP, main_model_p->dim_alpha35));
  memcpy(REAL(VECTOR_ELT(state, 434)), main_model_p->alpha35, main_model_p->dim_alpha35 * sizeof(double));
  SET_VECTOR_ELT(state, 435, ScalarInteger(main_model_p->offset_output_alpha35));
  SET_VECTOR_ELT(state, 436, ScalarInteger(main_model_p->dim_alpha42));
  SET_VECTOR_ELT(state, 437, allocVector(REALSXP, main_model_p->dim_alpha42));
  memcpy(REAL(VECTOR_ELT(state, 437)), main_model_p->alpha42, main_model_p->dim_alpha42 * sizeof(double));
  SET_VECTOR_ELT(state, 438, ScalarInteger(main_model_p->dim_alpha43));
  SET_VECTOR_ELT(state, 439, allocVector(REALSXP, main_model_p->dim_alpha43));
  memcpy(REAL(VECTOR_ELT(state, 439)), main_model_p->alpha43, main_model_p->dim_alpha43 * sizeof(double));
  SET_VECTOR_ELT(state, 440, ScalarInteger(main_model_p->dim_alpha44));
  SET_VECTOR_ELT(state, 441, allocVector(REALSXP, main_model_p->dim_alpha44));
  memcpy(REAL(VECTOR_ELT(state, 441)), main_model_p->alpha44, main_model_p->dim_alpha44 * sizeof(double));
  SET_VECTOR_ELT(state, 442, ScalarInteger(main_model_p->dim_alpha45));
  SET_VECTOR_ELT(state, 443, allocVector(REALSXP, main_model_p->dim_alpha45));
  memcpy(REAL(VECTOR_ELT(state, 443)), main_model_p->alpha45, main_model_p->dim_alpha45 * sizeof(double));
  SET_VECTOR_ELT(state, 444, ScalarInteger(main_model_p->dim_beta_comm));
  SET_VECTOR_ELT(state, 445, allocVector(REALSXP, main_model_p->dim_beta_comm));
  memcpy(REAL(VECTOR_ELT(state, 445)), main_model_p->beta_comm, main_model_p->dim_beta_comm * sizeof(double));
  SET_VECTOR_ELT(state, 446, ScalarInteger(main_model_p->offset_output_beta_comm));
  SET_VECTOR_ELT(state, 447, ScalarInteger(main_model_p->dim_beta_noncomm));
  SET_VECTOR_ELT(state, 448, allocVector(REALSXP, main_model_p->dim_beta_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 448)), main_model_p->beta_noncomm, main_model_p->dim_beta_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 449, ScalarInteger(main_model_p->offset_output_beta_noncomm));
  SET_VECTOR_ELT(state, 450, ScalarInteger(main_model_p->dim_p_comm));
  SET_VECTOR_ELT(state, 451, ScalarInteger(main_model_p->dim_p_comm_1));
  SET_VECTOR_ELT(state, 452, ScalarInteger(main_model_p->dim_p_comm_2));
  SET_VECTOR_ELT(state, 453, allocVector(REALSXP, main_model_p->dim_p_comm));
  memcpy(REAL(VECTOR_ELT(state, 453)), main_model_p->p_comm, main_model_p->dim_p_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 453), 2, main_model_p->dim_p_comm_1, main_model_p->dim_p_comm_2);
  SET_VECTOR_ELT(state, 454, ScalarInteger(main_model_p->offset_output_p_comm));
  SET_VECTOR_ELT(state, 455, ScalarInteger(main_model_p->dim_p_noncomm));
  SET_VECTOR_ELT(state, 456, ScalarInteger(main_model_p->dim_p_noncomm_1));
  SET_VECTOR_ELT(state, 457, ScalarInteger(main_model_p->dim_p_noncomm_2));
  SET_VECTOR_ELT(state, 458, allocVector(REALSXP, main_model_p->dim_p_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 458)), main_model_p->p_noncomm, main_model_p->dim_p_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 458), 2, main_model_p->dim_p_noncomm_1, main_model_p->dim_p_noncomm_2);
  SET_VECTOR_ELT(state, 459, ScalarInteger(main_model_p->offset_output_p_noncomm));
  SET_VECTOR_ELT(state, 460, ScalarInteger(main_model_p->dim_ec));
  SET_VECTOR_ELT(state, 461, allocVector(REALSXP, main_model_p->dim_ec));
  memcpy(REAL(VECTOR_ELT(state, 461)), main_model_p->ec, main_model_p->dim_ec * sizeof(double));
  SET_VECTOR_ELT(state, 462, ScalarInteger(main_model_p->dim_eP));
  SET_VECTOR_ELT(state, 463, allocVector(REALSXP, main_model_p->dim_eP));
  memcpy(REAL(VECTOR_ELT(state, 463)), main_model_p->eP, main_model_p->dim_eP * sizeof(double));
  SET_VECTOR_ELT(state, 464, ScalarInteger(main_model_p->dim_eP0));
  SET_VECTOR_ELT(state, 465, allocVector(REALSXP, main_model_p->dim_eP0));
  memcpy(REAL(VECTOR_ELT(state, 465)), main_model_p->eP0, main_model_p->dim_eP0 * sizeof(double));
  SET_VECTOR_ELT(state, 466, ScalarInteger(main_model_p->offset_output_eP0));
  SET_VECTOR_ELT(state, 467, ScalarInteger(main_model_p->dim_eP1a));
  SET_VECTOR_ELT(state, 468, allocVector(REALSXP, main_model_p->dim_eP1a));
  memcpy(REAL(VECTOR_ELT(state, 468)), main_model_p->eP1a, main_model_p->dim_eP1a * sizeof(double));
  SET_VECTOR_ELT(state, 469, ScalarInteger(main_model_p->offset_output_eP1a));
  SET_VECTOR_ELT(state, 470, ScalarInteger(main_model_p->dim_eP1b));
  SET_VECTOR_ELT(state, 471, allocVector(REALSXP, main_model_p->dim_eP1b));
  memcpy(REAL(VECTOR_ELT(state, 471)), main_model_p->eP1b, main_model_p->dim_eP1b * sizeof(double));
  SET_VECTOR_ELT(state, 472, ScalarInteger(main_model_p->offset_output_eP1b));
  SET_VECTOR_ELT(state, 473, ScalarInteger(main_model_p->dim_eP1c));
  SET_VECTOR_ELT(state, 474, allocVector(REALSXP, main_model_p->dim_eP1c));
  memcpy(REAL(VECTOR_ELT(state, 474)), main_model_p->eP1c, main_model_p->dim_eP1c * sizeof(double));
  SET_VECTOR_ELT(state, 475, ScalarInteger(main_model_p->offset_output_eP1c));
  SET_VECTOR_ELT(state, 476, ScalarInteger(main_model_p->dim_eP1d));
  SET_VECTOR_ELT(state, 477, allocVector(REALSXP, main_model_p->dim_eP1d));
  memcpy(REAL(VECTOR_ELT(state, 477)), main_model_p->eP1d, main_model_p->dim_eP1d * sizeof(double));
  SET_VECTOR_ELT(state, 478, ScalarInteger(main_model_p->offset_output_eP1d));
  SET_VECTOR_ELT(state, 479, ScalarInteger(main_model_p->dim_fc_comm));
  SET_VECTOR_ELT(state, 480, ScalarInteger(main_model_p->dim_fc_comm_1));
  SET_VECTOR_ELT(state, 481, ScalarInteger(main_model_p->dim_fc_comm_2));
  SET_VECTOR_ELT(state, 482, allocVector(REALSXP, main_model_p->dim_fc_comm));
  memcpy(REAL(VECTOR_ELT(state, 482)), main_model_p->fc_comm, main_model_p->dim_fc_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 482), 2, main_model_p->dim_fc_comm_1, main_model_p->dim_fc_comm_2);
  SET_VECTOR_ELT(state, 483, ScalarInteger(main_model_p->offset_output_fc_comm));
  SET_VECTOR_ELT(state, 484, ScalarInteger(main_model_p->dim_fP_comm));
  SET_VECTOR_ELT(state, 485, allocVector(REALSXP, main_model_p->dim_fP_comm));
  memcpy(REAL(VECTOR_ELT(state, 485)), main_model_p->fP_comm, main_model_p->dim_fP_comm * sizeof(double));
  SET_VECTOR_ELT(state, 486, ScalarInteger(main_model_p->offset_output_fP_comm));
  SET_VECTOR_ELT(state, 487, ScalarInteger(main_model_p->dim_fc_noncomm));
  SET_VECTOR_ELT(state, 488, ScalarInteger(main_model_p->dim_fc_noncomm_1));
  SET_VECTOR_ELT(state, 489, ScalarInteger(main_model_p->dim_fc_noncomm_2));
  SET_VECTOR_ELT(state, 490, allocVector(REALSXP, main_model_p->dim_fc_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 490)), main_model_p->fc_noncomm, main_model_p->dim_fc_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 490), 2, main_model_p->dim_fc_noncomm_1, main_model_p->dim_fc_noncomm_2);
  SET_VECTOR_ELT(state, 491, ScalarInteger(main_model_p->offset_output_fc_noncomm));
  SET_VECTOR_ELT(state, 492, ScalarInteger(main_model_p->dim_fP_noncomm));
  SET_VECTOR_ELT(state, 493, allocVector(REALSXP, main_model_p->dim_fP_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 493)), main_model_p->fP_noncomm, main_model_p->dim_fP_noncomm * sizeof(double));
  SET_VECTOR_ELT(state, 494, ScalarInteger(main_model_p->offset_output_fP_noncomm));
  SET_VECTOR_ELT(state, 495, ScalarInteger(main_model_p->dim_n_comm));
  SET_VECTOR_ELT(state, 496, ScalarInteger(main_model_p->dim_n_comm_1));
  SET_VECTOR_ELT(state, 497, ScalarInteger(main_model_p->dim_n_comm_2));
  SET_VECTOR_ELT(state, 498, allocVector(REALSXP, main_model_p->dim_n_comm));
  memcpy(REAL(VECTOR_ELT(state, 498)), main_model_p->n_comm, main_model_p->dim_n_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 498), 2, main_model_p->dim_n_comm_1, main_model_p->dim_n_comm_2);
  SET_VECTOR_ELT(state, 499, ScalarInteger(main_model_p->offset_output_n_comm));
  SET_VECTOR_ELT(state, 500, ScalarInteger(main_model_p->dim_n_noncomm));
  SET_VECTOR_ELT(state, 501, ScalarInteger(main_model_p->dim_n_noncomm_1));
  SET_VECTOR_ELT(state, 502, ScalarInteger(main_model_p->dim_n_noncomm_2));
  SET_VECTOR_ELT(state, 503, allocVector(REALSXP, main_model_p->dim_n_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 503)), main_model_p->n_noncomm, main_model_p->dim_n_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 503), 2, main_model_p->dim_n_noncomm_1, main_model_p->dim_n_noncomm_2);
  SET_VECTOR_ELT(state, 504, ScalarInteger(main_model_p->offset_output_n_noncomm));
  SET_VECTOR_ELT(state, 505, ScalarInteger(main_model_p->dim_cumuHIVDeaths));
  SET_VECTOR_ELT(state, 506, allocVector(REALSXP, main_model_p->dim_cumuHIVDeaths));
  memcpy(REAL(VECTOR_ELT(state, 506)), main_model_p->initial_cumuHIVDeaths, main_model_p->dim_cumuHIVDeaths * sizeof(double));
  SET_VECTOR_ELT(state, 507, ScalarInteger(main_model_p->offset_cumuHIVDeaths));
  SET_VECTOR_ELT(state, 508, ScalarInteger(main_model_p->dim_cumuARTinitiations));
  SET_VECTOR_ELT(state, 509, allocVector(REALSXP, main_model_p->dim_cumuARTinitiations));
  memcpy(REAL(VECTOR_ELT(state, 509)), main_model_p->initial_cumuARTinitiations, main_model_p->dim_cumuARTinitiations * sizeof(double));
  SET_VECTOR_ELT(state, 510, ScalarInteger(main_model_p->offset_cumuARTinitiations));
  SET_VECTOR_ELT(state, 511, ScalarInteger(main_model_p->dim_TasPinitiations));
  SET_VECTOR_ELT(state, 512, allocVector(REALSXP, main_model_p->dim_TasPinitiations));
  memcpy(REAL(VECTOR_ELT(state, 512)), main_model_p->initial_TasPinitiations, main_model_p->dim_TasPinitiations * sizeof(double));
  SET_VECTOR_ELT(state, 513, ScalarInteger(main_model_p->offset_TasPinitiations));
  SET_VECTOR_ELT(state, 514, ScalarInteger(main_model_p->dim_cumuARTREinitiations));
  SET_VECTOR_ELT(state, 515, allocVector(REALSXP, main_model_p->dim_cumuARTREinitiations));
  memcpy(REAL(VECTOR_ELT(state, 515)), main_model_p->initial_cumuARTREinitiations, main_model_p->dim_cumuARTREinitiations * sizeof(double));
  SET_VECTOR_ELT(state, 516, ScalarInteger(main_model_p->offset_cumuARTREinitiations));
  SET_VECTOR_ELT(state, 517, ScalarInteger(main_model_p->dim_dropouts));
  SET_VECTOR_ELT(state, 518, allocVector(REALSXP, main_model_p->dim_dropouts));
  memcpy(REAL(VECTOR_ELT(state, 518)), main_model_p->initial_dropouts, main_model_p->dim_dropouts * sizeof(double));
  SET_VECTOR_ELT(state, 519, ScalarInteger(main_model_p->offset_dropouts));
  SET_VECTOR_ELT(state, 520, ScalarInteger(main_model_p->dim_cumuAllDeaths));
  SET_VECTOR_ELT(state, 521, allocVector(REALSXP, main_model_p->dim_cumuAllDeaths));
  memcpy(REAL(VECTOR_ELT(state, 521)), main_model_p->initial_cumuAllDeaths, main_model_p->dim_cumuAllDeaths * sizeof(double));
  SET_VECTOR_ELT(state, 522, ScalarInteger(main_model_p->offset_cumuAllDeaths));
  SET_VECTOR_ELT(state, 523, ScalarInteger(main_model_p->dim_cumuInf));
  SET_VECTOR_ELT(state, 524, allocVector(REALSXP, main_model_p->dim_cumuInf));
  memcpy(REAL(VECTOR_ELT(state, 524)), main_model_p->initial_cumuInf, main_model_p->dim_cumuInf * sizeof(double));
  SET_VECTOR_ELT(state, 525, ScalarInteger(main_model_p->offset_cumuInf));
  SET_VECTOR_ELT(state, 526, ScalarInteger(main_model_p->dim_PrEPinitiations));
  SET_VECTOR_ELT(state, 527, allocVector(REALSXP, main_model_p->dim_PrEPinitiations));
  memcpy(REAL(VECTOR_ELT(state, 527)), main_model_p->initial_PrEPinitiations, main_model_p->dim_PrEPinitiations * sizeof(double));
  SET_VECTOR_ELT(state, 528, ScalarInteger(main_model_p->offset_PrEPinitiations));
  SET_VECTOR_ELT(state, 529, ScalarInteger(main_model_p->dim_PrEPinitiations1a));
  SET_VECTOR_ELT(state, 530, allocVector(REALSXP, main_model_p->dim_PrEPinitiations1a));
  memcpy(REAL(VECTOR_ELT(state, 530)), main_model_p->initial_PrEPinitiations1a, main_model_p->dim_PrEPinitiations1a * sizeof(double));
  SET_VECTOR_ELT(state, 531, ScalarInteger(main_model_p->offset_PrEPinitiations1a));
  SET_VECTOR_ELT(state, 532, ScalarInteger(main_model_p->dim_PrEPinitiations1b));
  SET_VECTOR_ELT(state, 533, allocVector(REALSXP, main_model_p->dim_PrEPinitiations1b));
  memcpy(REAL(VECTOR_ELT(state, 533)), main_model_p->initial_PrEPinitiations1b, main_model_p->dim_PrEPinitiations1b * sizeof(double));
  SET_VECTOR_ELT(state, 534, ScalarInteger(main_model_p->offset_PrEPinitiations1b));
  SET_VECTOR_ELT(state, 535, ScalarInteger(main_model_p->dim_PrEPinitiations1c));
  SET_VECTOR_ELT(state, 536, allocVector(REALSXP, main_model_p->dim_PrEPinitiations1c));
  memcpy(REAL(VECTOR_ELT(state, 536)), main_model_p->initial_PrEPinitiations1c, main_model_p->dim_PrEPinitiations1c * sizeof(double));
  SET_VECTOR_ELT(state, 537, ScalarInteger(main_model_p->offset_PrEPinitiations1c));
  SET_VECTOR_ELT(state, 538, ScalarInteger(main_model_p->dim_S0));
  SET_VECTOR_ELT(state, 539, allocVector(REALSXP, main_model_p->dim_S0));
  memcpy(REAL(VECTOR_ELT(state, 539)), main_model_p->initial_S0, main_model_p->dim_S0 * sizeof(double));
  SET_VECTOR_ELT(state, 540, ScalarInteger(main_model_p->offset_S0));
  SET_VECTOR_ELT(state, 541, ScalarInteger(main_model_p->dim_S1a));
  SET_VECTOR_ELT(state, 542, allocVector(REALSXP, main_model_p->dim_S1a));
  memcpy(REAL(VECTOR_ELT(state, 542)), main_model_p->initial_S1a, main_model_p->dim_S1a * sizeof(double));
  SET_VECTOR_ELT(state, 543, ScalarInteger(main_model_p->offset_S1a));
  SET_VECTOR_ELT(state, 544, ScalarInteger(main_model_p->dim_S1b));
  SET_VECTOR_ELT(state, 545, allocVector(REALSXP, main_model_p->dim_S1b));
  memcpy(REAL(VECTOR_ELT(state, 545)), main_model_p->initial_S1b, main_model_p->dim_S1b * sizeof(double));
  SET_VECTOR_ELT(state, 546, ScalarInteger(main_model_p->offset_S1b));
  SET_VECTOR_ELT(state, 547, ScalarInteger(main_model_p->dim_S1c));
  SET_VECTOR_ELT(state, 548, allocVector(REALSXP, main_model_p->dim_S1c));
  memcpy(REAL(VECTOR_ELT(state, 548)), main_model_p->initial_S1c, main_model_p->dim_S1c * sizeof(double));
  SET_VECTOR_ELT(state, 549, ScalarInteger(main_model_p->offset_S1c));
  SET_VECTOR_ELT(state, 550, ScalarInteger(main_model_p->dim_S1d));
  SET_VECTOR_ELT(state, 551, allocVector(REALSXP, main_model_p->dim_S1d));
  memcpy(REAL(VECTOR_ELT(state, 551)), main_model_p->initial_S1d, main_model_p->dim_S1d * sizeof(double));
  SET_VECTOR_ELT(state, 552, ScalarInteger(main_model_p->offset_S1d));
  SET_VECTOR_ELT(state, 553, ScalarInteger(main_model_p->dim_I01));
  SET_VECTOR_ELT(state, 554, allocVector(REALSXP, main_model_p->dim_I01));
  memcpy(REAL(VECTOR_ELT(state, 554)), main_model_p->initial_I01, main_model_p->dim_I01 * sizeof(double));
  SET_VECTOR_ELT(state, 555, ScalarInteger(main_model_p->offset_I01));
  SET_VECTOR_ELT(state, 556, ScalarInteger(main_model_p->dim_I11));
  SET_VECTOR_ELT(state, 557, allocVector(REALSXP, main_model_p->dim_I11));
  memcpy(REAL(VECTOR_ELT(state, 557)), main_model_p->initial_I11, main_model_p->dim_I11 * sizeof(double));
  SET_VECTOR_ELT(state, 558, ScalarInteger(main_model_p->offset_I11));
  SET_VECTOR_ELT(state, 559, ScalarInteger(main_model_p->dim_I02));
  SET_VECTOR_ELT(state, 560, allocVector(REALSXP, main_model_p->dim_I02));
  memcpy(REAL(VECTOR_ELT(state, 560)), main_model_p->initial_I02, main_model_p->dim_I02 * sizeof(double));
  SET_VECTOR_ELT(state, 561, ScalarInteger(main_model_p->offset_I02));
  SET_VECTOR_ELT(state, 562, ScalarInteger(main_model_p->dim_I03));
  SET_VECTOR_ELT(state, 563, allocVector(REALSXP, main_model_p->dim_I03));
  memcpy(REAL(VECTOR_ELT(state, 563)), main_model_p->initial_I03, main_model_p->dim_I03 * sizeof(double));
  SET_VECTOR_ELT(state, 564, ScalarInteger(main_model_p->offset_I03));
  SET_VECTOR_ELT(state, 565, ScalarInteger(main_model_p->dim_I04));
  SET_VECTOR_ELT(state, 566, allocVector(REALSXP, main_model_p->dim_I04));
  memcpy(REAL(VECTOR_ELT(state, 566)), main_model_p->initial_I04, main_model_p->dim_I04 * sizeof(double));
  SET_VECTOR_ELT(state, 567, ScalarInteger(main_model_p->offset_I04));
  SET_VECTOR_ELT(state, 568, ScalarInteger(main_model_p->dim_I05));
  SET_VECTOR_ELT(state, 569, allocVector(REALSXP, main_model_p->dim_I05));
  memcpy(REAL(VECTOR_ELT(state, 569)), main_model_p->initial_I05, main_model_p->dim_I05 * sizeof(double));
  SET_VECTOR_ELT(state, 570, ScalarInteger(main_model_p->offset_I05));
  SET_VECTOR_ELT(state, 571, ScalarInteger(main_model_p->dim_I22));
  SET_VECTOR_ELT(state, 572, allocVector(REALSXP, main_model_p->dim_I22));
  memcpy(REAL(VECTOR_ELT(state, 572)), main_model_p->initial_I22, main_model_p->dim_I22 * sizeof(double));
  SET_VECTOR_ELT(state, 573, ScalarInteger(main_model_p->offset_I22));
  SET_VECTOR_ELT(state, 574, ScalarInteger(main_model_p->dim_I23));
  SET_VECTOR_ELT(state, 575, allocVector(REALSXP, main_model_p->dim_I23));
  memcpy(REAL(VECTOR_ELT(state, 575)), main_model_p->initial_I23, main_model_p->dim_I23 * sizeof(double));
  SET_VECTOR_ELT(state, 576, ScalarInteger(main_model_p->offset_I23));
  SET_VECTOR_ELT(state, 577, ScalarInteger(main_model_p->dim_I24));
  SET_VECTOR_ELT(state, 578, allocVector(REALSXP, main_model_p->dim_I24));
  memcpy(REAL(VECTOR_ELT(state, 578)), main_model_p->initial_I24, main_model_p->dim_I24 * sizeof(double));
  SET_VECTOR_ELT(state, 579, ScalarInteger(main_model_p->offset_I24));
  SET_VECTOR_ELT(state, 580, ScalarInteger(main_model_p->dim_I25));
  SET_VECTOR_ELT(state, 581, allocVector(REALSXP, main_model_p->dim_I25));
  memcpy(REAL(VECTOR_ELT(state, 581)), main_model_p->initial_I25, main_model_p->dim_I25 * sizeof(double));
  SET_VECTOR_ELT(state, 582, ScalarInteger(main_model_p->offset_I25));
  SET_VECTOR_ELT(state, 583, ScalarInteger(main_model_p->dim_I32));
  SET_VECTOR_ELT(state, 584, allocVector(REALSXP, main_model_p->dim_I32));
  memcpy(REAL(VECTOR_ELT(state, 584)), main_model_p->initial_I32, main_model_p->dim_I32 * sizeof(double));
  SET_VECTOR_ELT(state, 585, ScalarInteger(main_model_p->offset_I32));
  SET_VECTOR_ELT(state, 586, ScalarInteger(main_model_p->dim_I33));
  SET_VECTOR_ELT(state, 587, allocVector(REALSXP, main_model_p->dim_I33));
  memcpy(REAL(VECTOR_ELT(state, 587)), main_model_p->initial_I33, main_model_p->dim_I33 * sizeof(double));
  SET_VECTOR_ELT(state, 588, ScalarInteger(main_model_p->offset_I33));
  SET_VECTOR_ELT(state, 589, ScalarInteger(main_model_p->dim_I34));
  SET_VECTOR_ELT(state, 590, allocVector(REALSXP, main_model_p->dim_I34));
  memcpy(REAL(VECTOR_ELT(state, 590)), main_model_p->initial_I34, main_model_p->dim_I34 * sizeof(double));
  SET_VECTOR_ELT(state, 591, ScalarInteger(main_model_p->offset_I34));
  SET_VECTOR_ELT(state, 592, ScalarInteger(main_model_p->dim_I35));
  SET_VECTOR_ELT(state, 593, allocVector(REALSXP, main_model_p->dim_I35));
  memcpy(REAL(VECTOR_ELT(state, 593)), main_model_p->initial_I35, main_model_p->dim_I35 * sizeof(double));
  SET_VECTOR_ELT(state, 594, ScalarInteger(main_model_p->offset_I35));
  SET_VECTOR_ELT(state, 595, ScalarInteger(main_model_p->dim_I42));
  SET_VECTOR_ELT(state, 596, allocVector(REALSXP, main_model_p->dim_I42));
  memcpy(REAL(VECTOR_ELT(state, 596)), main_model_p->initial_I42, main_model_p->dim_I42 * sizeof(double));
  SET_VECTOR_ELT(state, 597, ScalarInteger(main_model_p->offset_I42));
  SET_VECTOR_ELT(state, 598, ScalarInteger(main_model_p->dim_I43));
  SET_VECTOR_ELT(state, 599, allocVector(REALSXP, main_model_p->dim_I43));
  memcpy(REAL(VECTOR_ELT(state, 599)), main_model_p->initial_I43, main_model_p->dim_I43 * sizeof(double));
  SET_VECTOR_ELT(state, 600, ScalarInteger(main_model_p->offset_I43));
  SET_VECTOR_ELT(state, 601, ScalarInteger(main_model_p->dim_I44));
  SET_VECTOR_ELT(state, 602, allocVector(REALSXP, main_model_p->dim_I44));
  memcpy(REAL(VECTOR_ELT(state, 602)), main_model_p->initial_I44, main_model_p->dim_I44 * sizeof(double));
  SET_VECTOR_ELT(state, 603, ScalarInteger(main_model_p->offset_I44));
  SET_VECTOR_ELT(state, 604, ScalarInteger(main_model_p->dim_I45));
  SET_VECTOR_ELT(state, 605, allocVector(REALSXP, main_model_p->dim_I45));
  memcpy(REAL(VECTOR_ELT(state, 605)), main_model_p->initial_I45, main_model_p->dim_I45 * sizeof(double));
  SET_VECTOR_ELT(state, 606, ScalarInteger(main_model_p->offset_I45));
  SET_VECTOR_ELT(state, 607, ScalarInteger(main_model_p->dim_S0_init));
  SET_VECTOR_ELT(state, 608, allocVector(REALSXP, main_model_p->dim_S0_init));
  memcpy(REAL(VECTOR_ELT(state, 608)), main_model_p->S0_init, main_model_p->dim_S0_init * sizeof(double));
  SET_VECTOR_ELT(state, 609, ScalarInteger(main_model_p->dim_S1a_init));
  SET_VECTOR_ELT(state, 610, allocVector(REALSXP, main_model_p->dim_S1a_init));
  memcpy(REAL(VECTOR_ELT(state, 610)), main_model_p->S1a_init, main_model_p->dim_S1a_init * sizeof(double));
  SET_VECTOR_ELT(state, 611, ScalarInteger(main_model_p->dim_S1b_init));
  SET_VECTOR_ELT(state, 612, allocVector(REALSXP, main_model_p->dim_S1b_init));
  memcpy(REAL(VECTOR_ELT(state, 612)), main_model_p->S1b_init, main_model_p->dim_S1b_init * sizeof(double));
  SET_VECTOR_ELT(state, 613, ScalarInteger(main_model_p->dim_S1c_init));
  SET_VECTOR_ELT(state, 614, allocVector(REALSXP, main_model_p->dim_S1c_init));
  memcpy(REAL(VECTOR_ELT(state, 614)), main_model_p->S1c_init, main_model_p->dim_S1c_init * sizeof(double));
  SET_VECTOR_ELT(state, 615, ScalarInteger(main_model_p->dim_S1d_init));
  SET_VECTOR_ELT(state, 616, allocVector(REALSXP, main_model_p->dim_S1d_init));
  memcpy(REAL(VECTOR_ELT(state, 616)), main_model_p->S1d_init, main_model_p->dim_S1d_init * sizeof(double));
  SET_VECTOR_ELT(state, 617, ScalarInteger(main_model_p->dim_I01_init));
  SET_VECTOR_ELT(state, 618, allocVector(REALSXP, main_model_p->dim_I01_init));
  memcpy(REAL(VECTOR_ELT(state, 618)), main_model_p->I01_init, main_model_p->dim_I01_init * sizeof(double));
  SET_VECTOR_ELT(state, 619, ScalarInteger(main_model_p->dim_I11_init));
  SET_VECTOR_ELT(state, 620, allocVector(REALSXP, main_model_p->dim_I11_init));
  memcpy(REAL(VECTOR_ELT(state, 620)), main_model_p->I11_init, main_model_p->dim_I11_init * sizeof(double));
  SET_VECTOR_ELT(state, 621, ScalarInteger(main_model_p->dim_I02_init));
  SET_VECTOR_ELT(state, 622, allocVector(REALSXP, main_model_p->dim_I02_init));
  memcpy(REAL(VECTOR_ELT(state, 622)), main_model_p->I02_init, main_model_p->dim_I02_init * sizeof(double));
  SET_VECTOR_ELT(state, 623, ScalarInteger(main_model_p->dim_I03_init));
  SET_VECTOR_ELT(state, 624, allocVector(REALSXP, main_model_p->dim_I03_init));
  memcpy(REAL(VECTOR_ELT(state, 624)), main_model_p->I03_init, main_model_p->dim_I03_init * sizeof(double));
  SET_VECTOR_ELT(state, 625, ScalarInteger(main_model_p->dim_I04_init));
  SET_VECTOR_ELT(state, 626, allocVector(REALSXP, main_model_p->dim_I04_init));
  memcpy(REAL(VECTOR_ELT(state, 626)), main_model_p->I04_init, main_model_p->dim_I04_init * sizeof(double));
  SET_VECTOR_ELT(state, 627, ScalarInteger(main_model_p->dim_I05_init));
  SET_VECTOR_ELT(state, 628, allocVector(REALSXP, main_model_p->dim_I05_init));
  memcpy(REAL(VECTOR_ELT(state, 628)), main_model_p->I05_init, main_model_p->dim_I05_init * sizeof(double));
  SET_VECTOR_ELT(state, 629, ScalarInteger(main_model_p->dim_I22_init));
  SET_VECTOR_ELT(state, 630, allocVector(REALSXP, main_model_p->dim_I22_init));
  memcpy(REAL(VECTOR_ELT(state, 630)), main_model_p->I22_init, main_model_p->dim_I22_init * sizeof(double));
  SET_VECTOR_ELT(state, 631, ScalarInteger(main_model_p->dim_I23_init));
  SET_VECTOR_ELT(state, 632, allocVector(REALSXP, main_model_p->dim_I23_init));
  memcpy(REAL(VECTOR_ELT(state, 632)), main_model_p->I23_init, main_model_p->dim_I23_init * sizeof(double));
  SET_VECTOR_ELT(state, 633, ScalarInteger(main_model_p->dim_I24_init));
  SET_VECTOR_ELT(state, 634, allocVector(REALSXP, main_model_p->dim_I24_init));
  memcpy(REAL(VECTOR_ELT(state, 634)), main_model_p->I24_init, main_model_p->dim_I24_init * sizeof(double));
  SET_VECTOR_ELT(state, 635, ScalarInteger(main_model_p->dim_I25_init));
  SET_VECTOR_ELT(state, 636, allocVector(REALSXP, main_model_p->dim_I25_init));
  memcpy(REAL(VECTOR_ELT(state, 636)), main_model_p->I25_init, main_model_p->dim_I25_init * sizeof(double));
  SET_VECTOR_ELT(state, 637, ScalarInteger(main_model_p->dim_I32_init));
  SET_VECTOR_ELT(state, 638, allocVector(REALSXP, main_model_p->dim_I32_init));
  memcpy(REAL(VECTOR_ELT(state, 638)), main_model_p->I32_init, main_model_p->dim_I32_init * sizeof(double));
  SET_VECTOR_ELT(state, 639, ScalarInteger(main_model_p->dim_I33_init));
  SET_VECTOR_ELT(state, 640, allocVector(REALSXP, main_model_p->dim_I33_init));
  memcpy(REAL(VECTOR_ELT(state, 640)), main_model_p->I33_init, main_model_p->dim_I33_init * sizeof(double));
  SET_VECTOR_ELT(state, 641, ScalarInteger(main_model_p->dim_I34_init));
  SET_VECTOR_ELT(state, 642, allocVector(REALSXP, main_model_p->dim_I34_init));
  memcpy(REAL(VECTOR_ELT(state, 642)), main_model_p->I34_init, main_model_p->dim_I34_init * sizeof(double));
  SET_VECTOR_ELT(state, 643, ScalarInteger(main_model_p->dim_I35_init));
  SET_VECTOR_ELT(state, 644, allocVector(REALSXP, main_model_p->dim_I35_init));
  memcpy(REAL(VECTOR_ELT(state, 644)), main_model_p->I35_init, main_model_p->dim_I35_init * sizeof(double));
  SET_VECTOR_ELT(state, 645, ScalarInteger(main_model_p->dim_I42_init));
  SET_VECTOR_ELT(state, 646, allocVector(REALSXP, main_model_p->dim_I42_init));
  memcpy(REAL(VECTOR_ELT(state, 646)), main_model_p->I42_init, main_model_p->dim_I42_init * sizeof(double));
  SET_VECTOR_ELT(state, 647, ScalarInteger(main_model_p->dim_I43_init));
  SET_VECTOR_ELT(state, 648, allocVector(REALSXP, main_model_p->dim_I43_init));
  memcpy(REAL(VECTOR_ELT(state, 648)), main_model_p->I43_init, main_model_p->dim_I43_init * sizeof(double));
  SET_VECTOR_ELT(state, 649, ScalarInteger(main_model_p->dim_I44_init));
  SET_VECTOR_ELT(state, 650, allocVector(REALSXP, main_model_p->dim_I44_init));
  memcpy(REAL(VECTOR_ELT(state, 650)), main_model_p->I44_init, main_model_p->dim_I44_init * sizeof(double));
  SET_VECTOR_ELT(state, 651, ScalarInteger(main_model_p->dim_I45_init));
  SET_VECTOR_ELT(state, 652, allocVector(REALSXP, main_model_p->dim_I45_init));
  memcpy(REAL(VECTOR_ELT(state, 652)), main_model_p->I45_init, main_model_p->dim_I45_init * sizeof(double));
  SET_VECTOR_ELT(state, 653, ScalarInteger(main_model_p->dim_N));
  SET_VECTOR_ELT(state, 654, allocVector(REALSXP, main_model_p->dim_N));
  memcpy(REAL(VECTOR_ELT(state, 654)), main_model_p->N, main_model_p->dim_N * sizeof(double));
  SET_VECTOR_ELT(state, 655, ScalarInteger(main_model_p->offset_output_N));
  SET_VECTOR_ELT(state, 656, ScalarInteger(main_model_p->dim_E0));
  SET_VECTOR_ELT(state, 657, allocVector(REALSXP, main_model_p->dim_E0));
  memcpy(REAL(VECTOR_ELT(state, 657)), main_model_p->E0, main_model_p->dim_E0 * sizeof(double));
  SET_VECTOR_ELT(state, 658, ScalarInteger(main_model_p->offset_output_E0));
  SET_VECTOR_ELT(state, 659, ScalarInteger(main_model_p->dim_E1a));
  SET_VECTOR_ELT(state, 660, allocVector(REALSXP, main_model_p->dim_E1a));
  memcpy(REAL(VECTOR_ELT(state, 660)), main_model_p->E1a, main_model_p->dim_E1a * sizeof(double));
  SET_VECTOR_ELT(state, 661, ScalarInteger(main_model_p->offset_output_E1a));
  SET_VECTOR_ELT(state, 662, ScalarInteger(main_model_p->dim_E1b));
  SET_VECTOR_ELT(state, 663, allocVector(REALSXP, main_model_p->dim_E1b));
  memcpy(REAL(VECTOR_ELT(state, 663)), main_model_p->E1b, main_model_p->dim_E1b * sizeof(double));
  SET_VECTOR_ELT(state, 664, ScalarInteger(main_model_p->offset_output_E1b));
  SET_VECTOR_ELT(state, 665, ScalarInteger(main_model_p->dim_E1c));
  SET_VECTOR_ELT(state, 666, allocVector(REALSXP, main_model_p->dim_E1c));
  memcpy(REAL(VECTOR_ELT(state, 666)), main_model_p->E1c, main_model_p->dim_E1c * sizeof(double));
  SET_VECTOR_ELT(state, 667, ScalarInteger(main_model_p->offset_output_E1c));
  SET_VECTOR_ELT(state, 668, ScalarInteger(main_model_p->dim_E1d));
  SET_VECTOR_ELT(state, 669, allocVector(REALSXP, main_model_p->dim_E1d));
  memcpy(REAL(VECTOR_ELT(state, 669)), main_model_p->E1d, main_model_p->dim_E1d * sizeof(double));
  SET_VECTOR_ELT(state, 670, ScalarInteger(main_model_p->offset_output_E1d));
  SET_VECTOR_ELT(state, 671, ScalarInteger(main_model_p->dim_cumuInf_init));
  SET_VECTOR_ELT(state, 672, allocVector(REALSXP, main_model_p->dim_cumuInf_init));
  memcpy(REAL(VECTOR_ELT(state, 672)), main_model_p->cumuInf_init, main_model_p->dim_cumuInf_init * sizeof(double));
  SET_VECTOR_ELT(state, 673, ScalarInteger(main_model_p->dim_alphaItot));
  SET_VECTOR_ELT(state, 674, allocVector(REALSXP, main_model_p->dim_alphaItot));
  memcpy(REAL(VECTOR_ELT(state, 674)), main_model_p->alphaItot, main_model_p->dim_alphaItot * sizeof(double));
  SET_VECTOR_ELT(state, 675, ScalarInteger(main_model_p->offset_output_alphaItot));
  SET_VECTOR_ELT(state, 676, ScalarInteger(main_model_p->dim_prev));
  SET_VECTOR_ELT(state, 677, allocVector(REALSXP, main_model_p->dim_prev));
  memcpy(REAL(VECTOR_ELT(state, 677)), main_model_p->prev, main_model_p->dim_prev * sizeof(double));
  SET_VECTOR_ELT(state, 678, ScalarInteger(main_model_p->offset_output_prev));
  SET_VECTOR_ELT(state, 679, ScalarInteger(main_model_p->dim_lambda));
  SET_VECTOR_ELT(state, 680, ScalarInteger(main_model_p->dim_lambda_1));
  SET_VECTOR_ELT(state, 681, ScalarInteger(main_model_p->dim_lambda_2));
  SET_VECTOR_ELT(state, 682, allocVector(REALSXP, main_model_p->dim_lambda));
  memcpy(REAL(VECTOR_ELT(state, 682)), main_model_p->lambda, main_model_p->dim_lambda * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 682), 2, main_model_p->dim_lambda_1, main_model_p->dim_lambda_2);
  SET_VECTOR_ELT(state, 683, ScalarInteger(main_model_p->offset_output_lambda));
  SET_VECTOR_ELT(state, 684, ScalarInteger(main_model_p->dim_lambda_0));
  SET_VECTOR_ELT(state, 685, ScalarInteger(main_model_p->dim_lambda_0_1));
  SET_VECTOR_ELT(state, 686, ScalarInteger(main_model_p->dim_lambda_0_2));
  SET_VECTOR_ELT(state, 687, allocVector(REALSXP, main_model_p->dim_lambda_0));
  memcpy(REAL(VECTOR_ELT(state, 687)), main_model_p->lambda_0, main_model_p->dim_lambda_0 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 687), 2, main_model_p->dim_lambda_0_1, main_model_p->dim_lambda_0_2);
  SET_VECTOR_ELT(state, 688, ScalarInteger(main_model_p->offset_output_lambda_0));
  SET_VECTOR_ELT(state, 689, ScalarInteger(main_model_p->dim_lambda_1a));
  SET_VECTOR_ELT(state, 690, ScalarInteger(main_model_p->dim_lambda_1a_1));
  SET_VECTOR_ELT(state, 691, ScalarInteger(main_model_p->dim_lambda_1a_2));
  SET_VECTOR_ELT(state, 692, allocVector(REALSXP, main_model_p->dim_lambda_1a));
  memcpy(REAL(VECTOR_ELT(state, 692)), main_model_p->lambda_1a, main_model_p->dim_lambda_1a * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 692), 2, main_model_p->dim_lambda_1a_1, main_model_p->dim_lambda_1a_2);
  SET_VECTOR_ELT(state, 693, ScalarInteger(main_model_p->offset_output_lambda_1a));
  SET_VECTOR_ELT(state, 694, ScalarInteger(main_model_p->dim_lambda_1b));
  SET_VECTOR_ELT(state, 695, ScalarInteger(main_model_p->dim_lambda_1b_1));
  SET_VECTOR_ELT(state, 696, ScalarInteger(main_model_p->dim_lambda_1b_2));
  SET_VECTOR_ELT(state, 697, allocVector(REALSXP, main_model_p->dim_lambda_1b));
  memcpy(REAL(VECTOR_ELT(state, 697)), main_model_p->lambda_1b, main_model_p->dim_lambda_1b * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 697), 2, main_model_p->dim_lambda_1b_1, main_model_p->dim_lambda_1b_2);
  SET_VECTOR_ELT(state, 698, ScalarInteger(main_model_p->offset_output_lambda_1b));
  SET_VECTOR_ELT(state, 699, ScalarInteger(main_model_p->dim_lambda_1c));
  SET_VECTOR_ELT(state, 700, ScalarInteger(main_model_p->dim_lambda_1c_1));
  SET_VECTOR_ELT(state, 701, ScalarInteger(main_model_p->dim_lambda_1c_2));
  SET_VECTOR_ELT(state, 702, allocVector(REALSXP, main_model_p->dim_lambda_1c));
  memcpy(REAL(VECTOR_ELT(state, 702)), main_model_p->lambda_1c, main_model_p->dim_lambda_1c * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 702), 2, main_model_p->dim_lambda_1c_1, main_model_p->dim_lambda_1c_2);
  SET_VECTOR_ELT(state, 703, ScalarInteger(main_model_p->offset_output_lambda_1c));
  SET_VECTOR_ELT(state, 704, ScalarInteger(main_model_p->dim_lambda_1d));
  SET_VECTOR_ELT(state, 705, ScalarInteger(main_model_p->dim_lambda_1d_1));
  SET_VECTOR_ELT(state, 706, ScalarInteger(main_model_p->dim_lambda_1d_2));
  SET_VECTOR_ELT(state, 707, allocVector(REALSXP, main_model_p->dim_lambda_1d));
  memcpy(REAL(VECTOR_ELT(state, 707)), main_model_p->lambda_1d, main_model_p->dim_lambda_1d * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 707), 2, main_model_p->dim_lambda_1d_1, main_model_p->dim_lambda_1d_2);
  SET_VECTOR_ELT(state, 708, ScalarInteger(main_model_p->offset_output_lambda_1d));
  SET_VECTOR_ELT(state, 709, ScalarInteger(main_model_p->dim_lambda_sum_0));
  SET_VECTOR_ELT(state, 710, allocVector(REALSXP, main_model_p->dim_lambda_sum_0));
  memcpy(REAL(VECTOR_ELT(state, 710)), main_model_p->lambda_sum_0, main_model_p->dim_lambda_sum_0 * sizeof(double));
  SET_VECTOR_ELT(state, 711, ScalarInteger(main_model_p->offset_output_lambda_sum_0));
  SET_VECTOR_ELT(state, 712, ScalarInteger(main_model_p->dim_lambda_sum_1a));
  SET_VECTOR_ELT(state, 713, allocVector(REALSXP, main_model_p->dim_lambda_sum_1a));
  memcpy(REAL(VECTOR_ELT(state, 713)), main_model_p->lambda_sum_1a, main_model_p->dim_lambda_sum_1a * sizeof(double));
  SET_VECTOR_ELT(state, 714, ScalarInteger(main_model_p->offset_output_lambda_sum_1a));
  SET_VECTOR_ELT(state, 715, ScalarInteger(main_model_p->dim_lambda_sum_1b));
  SET_VECTOR_ELT(state, 716, allocVector(REALSXP, main_model_p->dim_lambda_sum_1b));
  memcpy(REAL(VECTOR_ELT(state, 716)), main_model_p->lambda_sum_1b, main_model_p->dim_lambda_sum_1b * sizeof(double));
  SET_VECTOR_ELT(state, 717, ScalarInteger(main_model_p->offset_output_lambda_sum_1b));
  SET_VECTOR_ELT(state, 718, ScalarInteger(main_model_p->dim_lambda_sum_1c));
  SET_VECTOR_ELT(state, 719, allocVector(REALSXP, main_model_p->dim_lambda_sum_1c));
  memcpy(REAL(VECTOR_ELT(state, 719)), main_model_p->lambda_sum_1c, main_model_p->dim_lambda_sum_1c * sizeof(double));
  SET_VECTOR_ELT(state, 720, ScalarInteger(main_model_p->offset_output_lambda_sum_1c));
  SET_VECTOR_ELT(state, 721, ScalarInteger(main_model_p->dim_lambda_sum_1d));
  SET_VECTOR_ELT(state, 722, allocVector(REALSXP, main_model_p->dim_lambda_sum_1d));
  memcpy(REAL(VECTOR_ELT(state, 722)), main_model_p->lambda_sum_1d, main_model_p->dim_lambda_sum_1d * sizeof(double));
  SET_VECTOR_ELT(state, 723, ScalarInteger(main_model_p->offset_output_lambda_sum_1d));
  SET_VECTOR_ELT(state, 724, ScalarInteger(main_model_p->dim_c_comm_balanced));
  SET_VECTOR_ELT(state, 725, allocVector(REALSXP, main_model_p->dim_c_comm_balanced));
  memcpy(REAL(VECTOR_ELT(state, 725)), main_model_p->c_comm_balanced, main_model_p->dim_c_comm_balanced * sizeof(double));
  SET_VECTOR_ELT(state, 726, ScalarInteger(main_model_p->offset_output_c_comm_balanced));
  SET_VECTOR_ELT(state, 727, ScalarInteger(main_model_p->dim_c_noncomm_balanced));
  SET_VECTOR_ELT(state, 728, allocVector(REALSXP, main_model_p->dim_c_noncomm_balanced));
  memcpy(REAL(VECTOR_ELT(state, 728)), main_model_p->c_noncomm_balanced, main_model_p->dim_c_noncomm_balanced * sizeof(double));
  SET_VECTOR_ELT(state, 729, ScalarInteger(main_model_p->offset_output_c_noncomm_balanced));
  SET_VECTOR_ELT(state, 730, ScalarInteger(main_model_p->dim_theta));
  SET_VECTOR_ELT(state, 731, ScalarInteger(main_model_p->dim_theta_1));
  SET_VECTOR_ELT(state, 732, ScalarInteger(main_model_p->dim_theta_2));
  SET_VECTOR_ELT(state, 733, allocVector(REALSXP, main_model_p->dim_theta));
  memcpy(REAL(VECTOR_ELT(state, 733)), main_model_p->theta, main_model_p->dim_theta * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 733), 2, main_model_p->dim_theta_1, main_model_p->dim_theta_2);
  SET_VECTOR_ELT(state, 734, ScalarInteger(main_model_p->offset_output_theta));
  SET_VECTOR_ELT(state, 735, ScalarInteger(main_model_p->dim_PrEPinitiations_init));
  SET_VECTOR_ELT(state, 736, allocVector(REALSXP, main_model_p->dim_PrEPinitiations_init));
  memcpy(REAL(VECTOR_ELT(state, 736)), main_model_p->PrEPinitiations_init, main_model_p->dim_PrEPinitiations_init * sizeof(double));
  SET_VECTOR_ELT(state, 737, ScalarInteger(main_model_p->dim_M_comm));
  SET_VECTOR_ELT(state, 738, ScalarInteger(main_model_p->dim_M_comm_1));
  SET_VECTOR_ELT(state, 739, ScalarInteger(main_model_p->dim_M_comm_2));
  SET_VECTOR_ELT(state, 740, allocVector(REALSXP, main_model_p->dim_M_comm));
  memcpy(REAL(VECTOR_ELT(state, 740)), main_model_p->M_comm, main_model_p->dim_M_comm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 740), 2, main_model_p->dim_M_comm_1, main_model_p->dim_M_comm_2);
  SET_VECTOR_ELT(state, 741, ScalarInteger(main_model_p->offset_output_M_comm));
  SET_VECTOR_ELT(state, 742, ScalarInteger(main_model_p->dim_M_noncomm));
  SET_VECTOR_ELT(state, 743, ScalarInteger(main_model_p->dim_M_noncomm_1));
  SET_VECTOR_ELT(state, 744, ScalarInteger(main_model_p->dim_M_noncomm_2));
  SET_VECTOR_ELT(state, 745, allocVector(REALSXP, main_model_p->dim_M_noncomm));
  memcpy(REAL(VECTOR_ELT(state, 745)), main_model_p->M_noncomm, main_model_p->dim_M_noncomm * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 745), 2, main_model_p->dim_M_noncomm_1, main_model_p->dim_M_noncomm_2);
  SET_VECTOR_ELT(state, 746, ScalarInteger(main_model_p->offset_output_M_noncomm));
  SET_VECTOR_ELT(state, 747, ScalarInteger(main_model_p->dim_in_S0));
  SET_VECTOR_ELT(state, 748, ScalarInteger(main_model_p->dim_in_S0_1));
  SET_VECTOR_ELT(state, 749, ScalarInteger(main_model_p->dim_in_S0_2));
  SET_VECTOR_ELT(state, 750, allocVector(REALSXP, main_model_p->dim_in_S0));
  memcpy(REAL(VECTOR_ELT(state, 750)), main_model_p->in_S0, main_model_p->dim_in_S0 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 750), 2, main_model_p->dim_in_S0_1, main_model_p->dim_in_S0_2);
  SET_VECTOR_ELT(state, 751, ScalarInteger(main_model_p->dim_in_S1a));
  SET_VECTOR_ELT(state, 752, ScalarInteger(main_model_p->dim_in_S1a_1));
  SET_VECTOR_ELT(state, 753, ScalarInteger(main_model_p->dim_in_S1a_2));
  SET_VECTOR_ELT(state, 754, allocVector(REALSXP, main_model_p->dim_in_S1a));
  memcpy(REAL(VECTOR_ELT(state, 754)), main_model_p->in_S1a, main_model_p->dim_in_S1a * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 754), 2, main_model_p->dim_in_S1a_1, main_model_p->dim_in_S1a_2);
  SET_VECTOR_ELT(state, 755, ScalarInteger(main_model_p->dim_in_S1b));
  SET_VECTOR_ELT(state, 756, ScalarInteger(main_model_p->dim_in_S1b_1));
  SET_VECTOR_ELT(state, 757, ScalarInteger(main_model_p->dim_in_S1b_2));
  SET_VECTOR_ELT(state, 758, allocVector(REALSXP, main_model_p->dim_in_S1b));
  memcpy(REAL(VECTOR_ELT(state, 758)), main_model_p->in_S1b, main_model_p->dim_in_S1b * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 758), 2, main_model_p->dim_in_S1b_1, main_model_p->dim_in_S1b_2);
  SET_VECTOR_ELT(state, 759, ScalarInteger(main_model_p->dim_in_S1c));
  SET_VECTOR_ELT(state, 760, ScalarInteger(main_model_p->dim_in_S1c_1));
  SET_VECTOR_ELT(state, 761, ScalarInteger(main_model_p->dim_in_S1c_2));
  SET_VECTOR_ELT(state, 762, allocVector(REALSXP, main_model_p->dim_in_S1c));
  memcpy(REAL(VECTOR_ELT(state, 762)), main_model_p->in_S1c, main_model_p->dim_in_S1c * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 762), 2, main_model_p->dim_in_S1c_1, main_model_p->dim_in_S1c_2);
  SET_VECTOR_ELT(state, 763, ScalarInteger(main_model_p->dim_in_S1d));
  SET_VECTOR_ELT(state, 764, ScalarInteger(main_model_p->dim_in_S1d_1));
  SET_VECTOR_ELT(state, 765, ScalarInteger(main_model_p->dim_in_S1d_2));
  SET_VECTOR_ELT(state, 766, allocVector(REALSXP, main_model_p->dim_in_S1d));
  memcpy(REAL(VECTOR_ELT(state, 766)), main_model_p->in_S1d, main_model_p->dim_in_S1d * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 766), 2, main_model_p->dim_in_S1d_1, main_model_p->dim_in_S1d_2);
  SET_VECTOR_ELT(state, 767, ScalarInteger(main_model_p->dim_in_I01));
  SET_VECTOR_ELT(state, 768, ScalarInteger(main_model_p->dim_in_I01_1));
  SET_VECTOR_ELT(state, 769, ScalarInteger(main_model_p->dim_in_I01_2));
  SET_VECTOR_ELT(state, 770, allocVector(REALSXP, main_model_p->dim_in_I01));
  memcpy(REAL(VECTOR_ELT(state, 770)), main_model_p->in_I01, main_model_p->dim_in_I01 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 770), 2, main_model_p->dim_in_I01_1, main_model_p->dim_in_I01_2);
  SET_VECTOR_ELT(state, 771, ScalarInteger(main_model_p->dim_in_I11));
  SET_VECTOR_ELT(state, 772, ScalarInteger(main_model_p->dim_in_I11_1));
  SET_VECTOR_ELT(state, 773, ScalarInteger(main_model_p->dim_in_I11_2));
  SET_VECTOR_ELT(state, 774, allocVector(REALSXP, main_model_p->dim_in_I11));
  memcpy(REAL(VECTOR_ELT(state, 774)), main_model_p->in_I11, main_model_p->dim_in_I11 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 774), 2, main_model_p->dim_in_I11_1, main_model_p->dim_in_I11_2);
  SET_VECTOR_ELT(state, 775, ScalarInteger(main_model_p->dim_in_I02));
  SET_VECTOR_ELT(state, 776, ScalarInteger(main_model_p->dim_in_I02_1));
  SET_VECTOR_ELT(state, 777, ScalarInteger(main_model_p->dim_in_I02_2));
  SET_VECTOR_ELT(state, 778, allocVector(REALSXP, main_model_p->dim_in_I02));
  memcpy(REAL(VECTOR_ELT(state, 778)), main_model_p->in_I02, main_model_p->dim_in_I02 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 778), 2, main_model_p->dim_in_I02_1, main_model_p->dim_in_I02_2);
  SET_VECTOR_ELT(state, 779, ScalarInteger(main_model_p->dim_in_I03));
  SET_VECTOR_ELT(state, 780, ScalarInteger(main_model_p->dim_in_I03_1));
  SET_VECTOR_ELT(state, 781, ScalarInteger(main_model_p->dim_in_I03_2));
  SET_VECTOR_ELT(state, 782, allocVector(REALSXP, main_model_p->dim_in_I03));
  memcpy(REAL(VECTOR_ELT(state, 782)), main_model_p->in_I03, main_model_p->dim_in_I03 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 782), 2, main_model_p->dim_in_I03_1, main_model_p->dim_in_I03_2);
  SET_VECTOR_ELT(state, 783, ScalarInteger(main_model_p->dim_in_I04));
  SET_VECTOR_ELT(state, 784, ScalarInteger(main_model_p->dim_in_I04_1));
  SET_VECTOR_ELT(state, 785, ScalarInteger(main_model_p->dim_in_I04_2));
  SET_VECTOR_ELT(state, 786, allocVector(REALSXP, main_model_p->dim_in_I04));
  memcpy(REAL(VECTOR_ELT(state, 786)), main_model_p->in_I04, main_model_p->dim_in_I04 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 786), 2, main_model_p->dim_in_I04_1, main_model_p->dim_in_I04_2);
  SET_VECTOR_ELT(state, 787, ScalarInteger(main_model_p->dim_in_I05));
  SET_VECTOR_ELT(state, 788, ScalarInteger(main_model_p->dim_in_I05_1));
  SET_VECTOR_ELT(state, 789, ScalarInteger(main_model_p->dim_in_I05_2));
  SET_VECTOR_ELT(state, 790, allocVector(REALSXP, main_model_p->dim_in_I05));
  memcpy(REAL(VECTOR_ELT(state, 790)), main_model_p->in_I05, main_model_p->dim_in_I05 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 790), 2, main_model_p->dim_in_I05_1, main_model_p->dim_in_I05_2);
  SET_VECTOR_ELT(state, 791, ScalarInteger(main_model_p->dim_in_I22));
  SET_VECTOR_ELT(state, 792, ScalarInteger(main_model_p->dim_in_I22_1));
  SET_VECTOR_ELT(state, 793, ScalarInteger(main_model_p->dim_in_I22_2));
  SET_VECTOR_ELT(state, 794, allocVector(REALSXP, main_model_p->dim_in_I22));
  memcpy(REAL(VECTOR_ELT(state, 794)), main_model_p->in_I22, main_model_p->dim_in_I22 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 794), 2, main_model_p->dim_in_I22_1, main_model_p->dim_in_I22_2);
  SET_VECTOR_ELT(state, 795, ScalarInteger(main_model_p->dim_in_I23));
  SET_VECTOR_ELT(state, 796, ScalarInteger(main_model_p->dim_in_I23_1));
  SET_VECTOR_ELT(state, 797, ScalarInteger(main_model_p->dim_in_I23_2));
  SET_VECTOR_ELT(state, 798, allocVector(REALSXP, main_model_p->dim_in_I23));
  memcpy(REAL(VECTOR_ELT(state, 798)), main_model_p->in_I23, main_model_p->dim_in_I23 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 798), 2, main_model_p->dim_in_I23_1, main_model_p->dim_in_I23_2);
  SET_VECTOR_ELT(state, 799, ScalarInteger(main_model_p->dim_in_I24));
  SET_VECTOR_ELT(state, 800, ScalarInteger(main_model_p->dim_in_I24_1));
  SET_VECTOR_ELT(state, 801, ScalarInteger(main_model_p->dim_in_I24_2));
  SET_VECTOR_ELT(state, 802, allocVector(REALSXP, main_model_p->dim_in_I24));
  memcpy(REAL(VECTOR_ELT(state, 802)), main_model_p->in_I24, main_model_p->dim_in_I24 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 802), 2, main_model_p->dim_in_I24_1, main_model_p->dim_in_I24_2);
  SET_VECTOR_ELT(state, 803, ScalarInteger(main_model_p->dim_in_I25));
  SET_VECTOR_ELT(state, 804, ScalarInteger(main_model_p->dim_in_I25_1));
  SET_VECTOR_ELT(state, 805, ScalarInteger(main_model_p->dim_in_I25_2));
  SET_VECTOR_ELT(state, 806, allocVector(REALSXP, main_model_p->dim_in_I25));
  memcpy(REAL(VECTOR_ELT(state, 806)), main_model_p->in_I25, main_model_p->dim_in_I25 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 806), 2, main_model_p->dim_in_I25_1, main_model_p->dim_in_I25_2);
  SET_VECTOR_ELT(state, 807, ScalarInteger(main_model_p->dim_in_I32));
  SET_VECTOR_ELT(state, 808, ScalarInteger(main_model_p->dim_in_I32_1));
  SET_VECTOR_ELT(state, 809, ScalarInteger(main_model_p->dim_in_I32_2));
  SET_VECTOR_ELT(state, 810, allocVector(REALSXP, main_model_p->dim_in_I32));
  memcpy(REAL(VECTOR_ELT(state, 810)), main_model_p->in_I32, main_model_p->dim_in_I32 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 810), 2, main_model_p->dim_in_I32_1, main_model_p->dim_in_I32_2);
  SET_VECTOR_ELT(state, 811, ScalarInteger(main_model_p->dim_in_I33));
  SET_VECTOR_ELT(state, 812, ScalarInteger(main_model_p->dim_in_I33_1));
  SET_VECTOR_ELT(state, 813, ScalarInteger(main_model_p->dim_in_I33_2));
  SET_VECTOR_ELT(state, 814, allocVector(REALSXP, main_model_p->dim_in_I33));
  memcpy(REAL(VECTOR_ELT(state, 814)), main_model_p->in_I33, main_model_p->dim_in_I33 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 814), 2, main_model_p->dim_in_I33_1, main_model_p->dim_in_I33_2);
  SET_VECTOR_ELT(state, 815, ScalarInteger(main_model_p->dim_in_I34));
  SET_VECTOR_ELT(state, 816, ScalarInteger(main_model_p->dim_in_I34_1));
  SET_VECTOR_ELT(state, 817, ScalarInteger(main_model_p->dim_in_I34_2));
  SET_VECTOR_ELT(state, 818, allocVector(REALSXP, main_model_p->dim_in_I34));
  memcpy(REAL(VECTOR_ELT(state, 818)), main_model_p->in_I34, main_model_p->dim_in_I34 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 818), 2, main_model_p->dim_in_I34_1, main_model_p->dim_in_I34_2);
  SET_VECTOR_ELT(state, 819, ScalarInteger(main_model_p->dim_in_I35));
  SET_VECTOR_ELT(state, 820, ScalarInteger(main_model_p->dim_in_I35_1));
  SET_VECTOR_ELT(state, 821, ScalarInteger(main_model_p->dim_in_I35_2));
  SET_VECTOR_ELT(state, 822, allocVector(REALSXP, main_model_p->dim_in_I35));
  memcpy(REAL(VECTOR_ELT(state, 822)), main_model_p->in_I35, main_model_p->dim_in_I35 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 822), 2, main_model_p->dim_in_I35_1, main_model_p->dim_in_I35_2);
  SET_VECTOR_ELT(state, 823, ScalarInteger(main_model_p->dim_in_I42));
  SET_VECTOR_ELT(state, 824, ScalarInteger(main_model_p->dim_in_I42_1));
  SET_VECTOR_ELT(state, 825, ScalarInteger(main_model_p->dim_in_I42_2));
  SET_VECTOR_ELT(state, 826, allocVector(REALSXP, main_model_p->dim_in_I42));
  memcpy(REAL(VECTOR_ELT(state, 826)), main_model_p->in_I42, main_model_p->dim_in_I42 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 826), 2, main_model_p->dim_in_I42_1, main_model_p->dim_in_I42_2);
  SET_VECTOR_ELT(state, 827, ScalarInteger(main_model_p->dim_in_I43));
  SET_VECTOR_ELT(state, 828, ScalarInteger(main_model_p->dim_in_I43_1));
  SET_VECTOR_ELT(state, 829, ScalarInteger(main_model_p->dim_in_I43_2));
  SET_VECTOR_ELT(state, 830, allocVector(REALSXP, main_model_p->dim_in_I43));
  memcpy(REAL(VECTOR_ELT(state, 830)), main_model_p->in_I43, main_model_p->dim_in_I43 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 830), 2, main_model_p->dim_in_I43_1, main_model_p->dim_in_I43_2);
  SET_VECTOR_ELT(state, 831, ScalarInteger(main_model_p->dim_in_I44));
  SET_VECTOR_ELT(state, 832, ScalarInteger(main_model_p->dim_in_I44_1));
  SET_VECTOR_ELT(state, 833, ScalarInteger(main_model_p->dim_in_I44_2));
  SET_VECTOR_ELT(state, 834, allocVector(REALSXP, main_model_p->dim_in_I44));
  memcpy(REAL(VECTOR_ELT(state, 834)), main_model_p->in_I44, main_model_p->dim_in_I44 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 834), 2, main_model_p->dim_in_I44_1, main_model_p->dim_in_I44_2);
  SET_VECTOR_ELT(state, 835, ScalarInteger(main_model_p->dim_in_I45));
  SET_VECTOR_ELT(state, 836, ScalarInteger(main_model_p->dim_in_I45_1));
  SET_VECTOR_ELT(state, 837, ScalarInteger(main_model_p->dim_in_I45_2));
  SET_VECTOR_ELT(state, 838, allocVector(REALSXP, main_model_p->dim_in_I45));
  memcpy(REAL(VECTOR_ELT(state, 838)), main_model_p->in_I45, main_model_p->dim_in_I45 * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 838), 2, main_model_p->dim_in_I45_1, main_model_p->dim_in_I45_2);
  SET_VECTOR_ELT(state, 839, ScalarInteger(main_model_p->dim_rate_move_in));
  SET_VECTOR_ELT(state, 840, ScalarInteger(main_model_p->dim_rate_move_in_1));
  SET_VECTOR_ELT(state, 841, ScalarInteger(main_model_p->dim_rate_move_in_2));
  SET_VECTOR_ELT(state, 842, allocVector(REALSXP, main_model_p->dim_rate_move_in));
  memcpy(REAL(VECTOR_ELT(state, 842)), main_model_p->rate_move_in, main_model_p->dim_rate_move_in * sizeof(double));
  odin_set_dim(VECTOR_ELT(state, 842), 2, main_model_p->dim_rate_move_in_1, main_model_p->dim_rate_move_in_2);
  SET_VECTOR_ELT(state, 843, ScalarInteger(main_model_p->offset_output_rate_move_in));
  SET_VECTOR_ELT(state, 844, ScalarInteger(main_model_p->dim_rate_move_out));
  SET_VECTOR_ELT(state, 845, allocVector(REALSXP, main_model_p->dim_rate_move_out));
  memcpy(REAL(VECTOR_ELT(state, 845)), main_model_p->rate_move_out, main_model_p->dim_rate_move_out * sizeof(double));
  SET_VECTOR_ELT(state, 846, ScalarInteger(main_model_p->offset_output_rate_move_out));
  SET_VECTOR_ELT(state, 847, ScalarInteger(main_model_p->dim_rate_move_out_PrEP));
  SET_VECTOR_ELT(state, 848, allocVector(REALSXP, main_model_p->dim_rate_move_out_PrEP));
  memcpy(REAL(VECTOR_ELT(state, 848)), main_model_p->rate_move_out_PrEP, main_model_p->dim_rate_move_out_PrEP * sizeof(double));
  SET_VECTOR_ELT(state, 849, ScalarInteger(main_model_p->offset_output_rate_move_out_PrEP));
  SET_VECTOR_ELT(state, 871, ScalarInteger(main_model_p->dim));
  SET_VECTOR_ELT(state, 872, ScalarInteger(main_model_p->dim_output));
  SEXP state_names = PROTECT(allocVector(STRSXP, 873));
  SET_STRING_ELT(state_names, 0, mkChar("odin_use_dde"));
  SET_STRING_ELT(state_names, 1, mkChar("prop_FSW_I0_1"));
  SET_STRING_ELT(state_names, 2, mkChar("prop_FSW_I0_2"));
  SET_STRING_ELT(state_names, 3, mkChar("prop_FSW_I0_3"));
  SET_STRING_ELT(state_names, 4, mkChar("prop_FSW_I0_4"));
  SET_STRING_ELT(state_names, 5, mkChar("prop_FSW_I0_5"));
  SET_STRING_ELT(state_names, 6, mkChar("testpar"));
  SET_STRING_ELT(state_names, 7, mkChar("replaceDeaths"));
  SET_STRING_ELT(state_names, 8, mkChar("dim_pfFSW_t"));
  SET_STRING_ELT(state_names, 9, mkChar("pfFSW_t"));
  SET_STRING_ELT(state_names, 10, mkChar("dim_pfFSW_y"));
  SET_STRING_ELT(state_names, 11, mkChar("dim_pfFSW_y_1"));
  SET_STRING_ELT(state_names, 12, mkChar("dim_pfFSW_y_2"));
  SET_STRING_ELT(state_names, 13, mkChar("pfFSW_y"));
  SET_STRING_ELT(state_names, 14, mkChar("infected_FSW_incoming"));
  SET_STRING_ELT(state_names, 15, mkChar("rate_leave_pro_FSW"));
  SET_STRING_ELT(state_names, 16, mkChar("fraction_FSW_foreign"));
  SET_STRING_ELT(state_names, 17, mkChar("dim_c_t_comm"));
  SET_STRING_ELT(state_names, 18, mkChar("c_t_comm"));
  SET_STRING_ELT(state_names, 19, mkChar("dim_c_t_noncomm"));
  SET_STRING_ELT(state_names, 20, mkChar("c_t_noncomm"));
  SET_STRING_ELT(state_names, 21, mkChar("dim_c_y_comm"));
  SET_STRING_ELT(state_names, 22, mkChar("dim_c_y_comm_1"));
  SET_STRING_ELT(state_names, 23, mkChar("dim_c_y_comm_2"));
  SET_STRING_ELT(state_names, 24, mkChar("c_y_comm"));
  SET_STRING_ELT(state_names, 25, mkChar("dim_c_y_noncomm"));
  SET_STRING_ELT(state_names, 26, mkChar("dim_c_y_noncomm_1"));
  SET_STRING_ELT(state_names, 27, mkChar("dim_c_y_noncomm_2"));
  SET_STRING_ELT(state_names, 28, mkChar("c_y_noncomm"));
  SET_STRING_ELT(state_names, 29, mkChar("who_believe_comm"));
  SET_STRING_ELT(state_names, 30, mkChar("dim_ART_eligible_CD4_above_500_t"));
  SET_STRING_ELT(state_names, 31, mkChar("ART_eligible_CD4_above_500_t"));
  SET_STRING_ELT(state_names, 32, mkChar("dim_ART_eligible_CD4_350_500_t"));
  SET_STRING_ELT(state_names, 33, mkChar("ART_eligible_CD4_350_500_t"));
  SET_STRING_ELT(state_names, 34, mkChar("dim_ART_eligible_CD4_200_349_t"));
  SET_STRING_ELT(state_names, 35, mkChar("ART_eligible_CD4_200_349_t"));
  SET_STRING_ELT(state_names, 36, mkChar("dim_ART_eligible_CD4_below_200_t"));
  SET_STRING_ELT(state_names, 37, mkChar("ART_eligible_CD4_below_200_t"));
  SET_STRING_ELT(state_names, 38, mkChar("dim_ART_eligible_CD4_above_500_y"));
  SET_STRING_ELT(state_names, 39, mkChar("ART_eligible_CD4_above_500_y"));
  SET_STRING_ELT(state_names, 40, mkChar("dim_ART_eligible_CD4_350_500_y"));
  SET_STRING_ELT(state_names, 41, mkChar("ART_eligible_CD4_350_500_y"));
  SET_STRING_ELT(state_names, 42, mkChar("dim_ART_eligible_CD4_200_349_y"));
  SET_STRING_ELT(state_names, 43, mkChar("ART_eligible_CD4_200_349_y"));
  SET_STRING_ELT(state_names, 44, mkChar("dim_ART_eligible_CD4_below_200_y"));
  SET_STRING_ELT(state_names, 45, mkChar("ART_eligible_CD4_below_200_y"));
  SET_STRING_ELT(state_names, 46, mkChar("dim_infect_ART_y"));
  SET_STRING_ELT(state_names, 47, mkChar("dim_infect_ART_y_1"));
  SET_STRING_ELT(state_names, 48, mkChar("dim_infect_ART_y_2"));
  SET_STRING_ELT(state_names, 49, mkChar("infect_ART_y"));
  SET_STRING_ELT(state_names, 50, mkChar("offset_output_infect_ART_y"));
  SET_STRING_ELT(state_names, 51, mkChar("dim_infect_ART_t"));
  SET_STRING_ELT(state_names, 52, mkChar("infect_ART_t"));
  SET_STRING_ELT(state_names, 53, mkChar("offset_output_infect_ART_t"));
  SET_STRING_ELT(state_names, 54, mkChar("dim_testing_prob_t"));
  SET_STRING_ELT(state_names, 55, mkChar("testing_prob_t"));
  SET_STRING_ELT(state_names, 56, mkChar("dim_testing_prob_y"));
  SET_STRING_ELT(state_names, 57, mkChar("dim_testing_prob_y_1"));
  SET_STRING_ELT(state_names, 58, mkChar("dim_testing_prob_y_2"));
  SET_STRING_ELT(state_names, 59, mkChar("testing_prob_y"));
  SET_STRING_ELT(state_names, 60, mkChar("TasP_testing"));
  SET_STRING_ELT(state_names, 61, mkChar("dim_tau_intervention_t"));
  SET_STRING_ELT(state_names, 62, mkChar("tau_intervention_t"));
  SET_STRING_ELT(state_names, 63, mkChar("dim_tau_intervention_y"));
  SET_STRING_ELT(state_names, 64, mkChar("dim_tau_intervention_y_1"));
  SET_STRING_ELT(state_names, 65, mkChar("dim_tau_intervention_y_2"));
  SET_STRING_ELT(state_names, 66, mkChar("tau_intervention_y"));
  SET_STRING_ELT(state_names, 67, mkChar("dim_rho_intervention_t"));
  SET_STRING_ELT(state_names, 68, mkChar("rho_intervention_t"));
  SET_STRING_ELT(state_names, 69, mkChar("dim_rho_intervention_y"));
  SET_STRING_ELT(state_names, 70, mkChar("dim_rho_intervention_y_1"));
  SET_STRING_ELT(state_names, 71, mkChar("dim_rho_intervention_y_2"));
  SET_STRING_ELT(state_names, 72, mkChar("rho_intervention_y"));
  SET_STRING_ELT(state_names, 73, mkChar("PrEPOnOff"));
  SET_STRING_ELT(state_names, 74, mkChar("fPa"));
  SET_STRING_ELT(state_names, 75, mkChar("fPb"));
  SET_STRING_ELT(state_names, 76, mkChar("fPc"));
  SET_STRING_ELT(state_names, 77, mkChar("dim_prep_efficacious_t"));
  SET_STRING_ELT(state_names, 78, mkChar("prep_efficacious_t"));
  SET_STRING_ELT(state_names, 79, mkChar("dim_prep_efficacious_y"));
  SET_STRING_ELT(state_names, 80, mkChar("prep_efficacious_y"));
  SET_STRING_ELT(state_names, 81, mkChar("RR_test_CD4200"));
  SET_STRING_ELT(state_names, 82, mkChar("dim_viral_supp_y"));
  SET_STRING_ELT(state_names, 83, mkChar("dim_viral_supp_y_1"));
  SET_STRING_ELT(state_names, 84, mkChar("dim_viral_supp_y_2"));
  SET_STRING_ELT(state_names, 85, mkChar("viral_supp_y"));
  SET_STRING_ELT(state_names, 86, mkChar("offset_output_viral_supp_y"));
  SET_STRING_ELT(state_names, 87, mkChar("dim_viral_supp_t"));
  SET_STRING_ELT(state_names, 88, mkChar("viral_supp_t"));
  SET_STRING_ELT(state_names, 89, mkChar("offset_output_viral_supp_t"));
  SET_STRING_ELT(state_names, 90, mkChar("W0"));
  SET_STRING_ELT(state_names, 91, mkChar("W1"));
  SET_STRING_ELT(state_names, 92, mkChar("W2"));
  SET_STRING_ELT(state_names, 93, mkChar("W3"));
  SET_STRING_ELT(state_names, 94, mkChar("cost_Initiation_of_ART_study_FSW"));
  SET_STRING_ELT(state_names, 95, mkChar("cost_Initiation_of_ART_government_FSW"));
  SET_STRING_ELT(state_names, 96, mkChar("cost_1_year_of_ART_study_FSW"));
  SET_STRING_ELT(state_names, 97, mkChar("cost_1_year_of_ART_government_FSW"));
  SET_STRING_ELT(state_names, 98, mkChar("cost_Initiation_ART_rest_of_population"));
  SET_STRING_ELT(state_names, 99, mkChar("cost_1_year_of_ART_rest_of_population"));
  SET_STRING_ELT(state_names, 100, mkChar("cost_FSW_initiation_ART_Patient_costs"));
  SET_STRING_ELT(state_names, 101, mkChar("cost_FSW_1_year_ART_Patient_costs"));
  SET_STRING_ELT(state_names, 102, mkChar("cost_Initiation_of_PrEP_study"));
  SET_STRING_ELT(state_names, 103, mkChar("cost_1_year_PrEP_perfect_adherence_study"));
  SET_STRING_ELT(state_names, 104, mkChar("cost_1_year_PrEP_intermediate_adherence_study"));
  SET_STRING_ELT(state_names, 105, mkChar("cost_1_year_PrEP_non_adherence_study"));
  SET_STRING_ELT(state_names, 106, mkChar("cost_Initiation_of_PrEP_government"));
  SET_STRING_ELT(state_names, 107, mkChar("cost_1_year_PrEP_perfect_adherence_government"));
  SET_STRING_ELT(state_names, 108, mkChar("cost_1_year_PrEP_intermediate_adherence_government"));
  SET_STRING_ELT(state_names, 109, mkChar("cost_1_year_PrEP_non_adherence_government"));
  SET_STRING_ELT(state_names, 110, mkChar("cost_PREP_initiation_Patient_costs"));
  SET_STRING_ELT(state_names, 111, mkChar("cost_PREP_1_year_ART_Patient_costs"));
  SET_STRING_ELT(state_names, 112, mkChar("Ncat"));
  SET_STRING_ELT(state_names, 113, mkChar("Nage"));
  SET_STRING_ELT(state_names, 114, mkChar("infect_acute"));
  SET_STRING_ELT(state_names, 115, mkChar("infect_AIDS"));
  SET_STRING_ELT(state_names, 116, mkChar("nu"));
  SET_STRING_ELT(state_names, 117, mkChar("R"));
  SET_STRING_ELT(state_names, 118, mkChar("dim_epsilon_t"));
  SET_STRING_ELT(state_names, 119, mkChar("epsilon_t"));
  SET_STRING_ELT(state_names, 120, mkChar("dim_epsilon_y"));
  SET_STRING_ELT(state_names, 121, mkChar("epsilon_y"));
  SET_STRING_ELT(state_names, 122, mkChar("dim_fc_t_comm"));
  SET_STRING_ELT(state_names, 123, mkChar("fc_t_comm"));
  SET_STRING_ELT(state_names, 124, mkChar("dim_fc_y_comm"));
  SET_STRING_ELT(state_names, 125, mkChar("dim_fc_y_comm_1"));
  SET_STRING_ELT(state_names, 126, mkChar("dim_fc_y_comm_2"));
  SET_STRING_ELT(state_names, 127, mkChar("dim_fc_y_comm_3"));
  SET_STRING_ELT(state_names, 128, mkChar("dim_fc_y_comm_12"));
  SET_STRING_ELT(state_names, 129, mkChar("fc_y_comm"));
  SET_STRING_ELT(state_names, 130, mkChar("dim_fP_t_comm"));
  SET_STRING_ELT(state_names, 131, mkChar("fP_t_comm"));
  SET_STRING_ELT(state_names, 132, mkChar("dim_fP_y_comm"));
  SET_STRING_ELT(state_names, 133, mkChar("dim_fP_y_comm_1"));
  SET_STRING_ELT(state_names, 134, mkChar("dim_fP_y_comm_2"));
  SET_STRING_ELT(state_names, 135, mkChar("fP_y_comm"));
  SET_STRING_ELT(state_names, 136, mkChar("dim_fc_t_noncomm"));
  SET_STRING_ELT(state_names, 137, mkChar("fc_t_noncomm"));
  SET_STRING_ELT(state_names, 138, mkChar("dim_fc_y_noncomm"));
  SET_STRING_ELT(state_names, 139, mkChar("dim_fc_y_noncomm_1"));
  SET_STRING_ELT(state_names, 140, mkChar("dim_fc_y_noncomm_2"));
  SET_STRING_ELT(state_names, 141, mkChar("dim_fc_y_noncomm_3"));
  SET_STRING_ELT(state_names, 142, mkChar("dim_fc_y_noncomm_12"));
  SET_STRING_ELT(state_names, 143, mkChar("fc_y_noncomm"));
  SET_STRING_ELT(state_names, 144, mkChar("dim_fP_t_noncomm"));
  SET_STRING_ELT(state_names, 145, mkChar("fP_t_noncomm"));
  SET_STRING_ELT(state_names, 146, mkChar("dim_fP_y_noncomm"));
  SET_STRING_ELT(state_names, 147, mkChar("dim_fP_y_noncomm_1"));
  SET_STRING_ELT(state_names, 148, mkChar("dim_fP_y_noncomm_2"));
  SET_STRING_ELT(state_names, 149, mkChar("fP_y_noncomm"));
  SET_STRING_ELT(state_names, 150, mkChar("dim_n_t_comm"));
  SET_STRING_ELT(state_names, 151, mkChar("n_t_comm"));
  SET_STRING_ELT(state_names, 152, mkChar("dim_n_y_comm"));
  SET_STRING_ELT(state_names, 153, mkChar("dim_n_y_comm_1"));
  SET_STRING_ELT(state_names, 154, mkChar("dim_n_y_comm_2"));
  SET_STRING_ELT(state_names, 155, mkChar("dim_n_y_comm_3"));
  SET_STRING_ELT(state_names, 156, mkChar("dim_n_y_comm_12"));
  SET_STRING_ELT(state_names, 157, mkChar("n_y_comm"));
  SET_STRING_ELT(state_names, 158, mkChar("dim_n_t_noncomm"));
  SET_STRING_ELT(state_names, 159, mkChar("n_t_noncomm"));
  SET_STRING_ELT(state_names, 160, mkChar("dim_n_y_noncomm"));
  SET_STRING_ELT(state_names, 161, mkChar("dim_n_y_noncomm_1"));
  SET_STRING_ELT(state_names, 162, mkChar("dim_n_y_noncomm_2"));
  SET_STRING_ELT(state_names, 163, mkChar("dim_n_y_noncomm_3"));
  SET_STRING_ELT(state_names, 164, mkChar("dim_n_y_noncomm_12"));
  SET_STRING_ELT(state_names, 165, mkChar("n_y_noncomm"));
  SET_STRING_ELT(state_names, 166, mkChar("dur_FSW"));
  SET_STRING_ELT(state_names, 167, mkChar("dim_prep_intervention_t"));
  SET_STRING_ELT(state_names, 168, mkChar("prep_intervention_t"));
  SET_STRING_ELT(state_names, 169, mkChar("dim_prep_intervention_y"));
  SET_STRING_ELT(state_names, 170, mkChar("dim_prep_intervention_y_1"));
  SET_STRING_ELT(state_names, 171, mkChar("dim_prep_intervention_y_2"));
  SET_STRING_ELT(state_names, 172, mkChar("prep_intervention_y"));
  SET_STRING_ELT(state_names, 173, mkChar("dim_gamma32_without_supp"));
  SET_STRING_ELT(state_names, 174, mkChar("gamma32_without_supp"));
  SET_STRING_ELT(state_names, 175, mkChar("offset_output_gamma32_without_supp"));
  SET_STRING_ELT(state_names, 176, mkChar("dim_gamma33_without_supp"));
  SET_STRING_ELT(state_names, 177, mkChar("gamma33_without_supp"));
  SET_STRING_ELT(state_names, 178, mkChar("offset_output_gamma33_without_supp"));
  SET_STRING_ELT(state_names, 179, mkChar("dim_gamma34_without_supp"));
  SET_STRING_ELT(state_names, 180, mkChar("gamma34_without_supp"));
  SET_STRING_ELT(state_names, 181, mkChar("offset_output_gamma34_without_supp"));
  SET_STRING_ELT(state_names, 182, mkChar("dim_alpha33_without_supp"));
  SET_STRING_ELT(state_names, 183, mkChar("alpha33_without_supp"));
  SET_STRING_ELT(state_names, 184, mkChar("offset_output_alpha33_without_supp"));
  SET_STRING_ELT(state_names, 185, mkChar("dim_alpha34_without_supp"));
  SET_STRING_ELT(state_names, 186, mkChar("alpha34_without_supp"));
  SET_STRING_ELT(state_names, 187, mkChar("offset_output_alpha34_without_supp"));
  SET_STRING_ELT(state_names, 188, mkChar("dim_alpha35_without_supp"));
  SET_STRING_ELT(state_names, 189, mkChar("alpha35_without_supp"));
  SET_STRING_ELT(state_names, 190, mkChar("offset_output_alpha35_without_supp"));
  SET_STRING_ELT(state_names, 191, mkChar("dim_c_comm"));
  SET_STRING_ELT(state_names, 192, mkChar("c_comm"));
  SET_STRING_ELT(state_names, 193, mkChar("offset_output_c_comm"));
  SET_STRING_ELT(state_names, 194, mkChar("dim_c_noncomm"));
  SET_STRING_ELT(state_names, 195, mkChar("c_noncomm"));
  SET_STRING_ELT(state_names, 196, mkChar("offset_output_c_noncomm"));
  SET_STRING_ELT(state_names, 197, mkChar("dim_pfFSW"));
  SET_STRING_ELT(state_names, 198, mkChar("pfFSW"));
  SET_STRING_ELT(state_names, 199, mkChar("offset_output_pfFSW"));
  SET_STRING_ELT(state_names, 200, mkChar("dim_new_acute_infected"));
  SET_STRING_ELT(state_names, 201, mkChar("new_acute_infected"));
  SET_STRING_ELT(state_names, 202, mkChar("offset_output_new_acute_infected"));
  SET_STRING_ELT(state_names, 203, mkChar("dim_FSW_ONLY"));
  SET_STRING_ELT(state_names, 204, mkChar("FSW_ONLY"));
  SET_STRING_ELT(state_names, 205, mkChar("dim_new_people_in_group"));
  SET_STRING_ELT(state_names, 206, mkChar("new_people_in_group"));
  SET_STRING_ELT(state_names, 207, mkChar("offset_output_new_people_in_group"));
  SET_STRING_ELT(state_names, 208, mkChar("dim_new_people_in_group_FSW_only"));
  SET_STRING_ELT(state_names, 209, mkChar("new_people_in_group_FSW_only"));
  SET_STRING_ELT(state_names, 210, mkChar("offset_output_new_people_in_group_FSW_only"));
  SET_STRING_ELT(state_names, 211, mkChar("dim_comm_partnerships_requested"));
  SET_STRING_ELT(state_names, 212, mkChar("dim_comm_partnerships_requested_1"));
  SET_STRING_ELT(state_names, 213, mkChar("dim_comm_partnerships_requested_2"));
  SET_STRING_ELT(state_names, 214, mkChar("comm_partnerships_requested"));
  SET_STRING_ELT(state_names, 215, mkChar("dim_noncomm_partnerships_requested"));
  SET_STRING_ELT(state_names, 216, mkChar("dim_noncomm_partnerships_requested_1"));
  SET_STRING_ELT(state_names, 217, mkChar("dim_noncomm_partnerships_requested_2"));
  SET_STRING_ELT(state_names, 218, mkChar("noncomm_partnerships_requested"));
  SET_STRING_ELT(state_names, 219, mkChar("dim_above_500_by_group"));
  SET_STRING_ELT(state_names, 220, mkChar("above_500_by_group"));
  SET_STRING_ELT(state_names, 221, mkChar("offset_output_above_500_by_group"));
  SET_STRING_ELT(state_names, 222, mkChar("dim_testing_prob"));
  SET_STRING_ELT(state_names, 223, mkChar("testing_prob"));
  SET_STRING_ELT(state_names, 224, mkChar("offset_output_testing_prob"));
  SET_STRING_ELT(state_names, 225, mkChar("dim_tau_intervention"));
  SET_STRING_ELT(state_names, 226, mkChar("tau_intervention"));
  SET_STRING_ELT(state_names, 227, mkChar("offset_output_tau_intervention"));
  SET_STRING_ELT(state_names, 228, mkChar("dim_rho_intervention"));
  SET_STRING_ELT(state_names, 229, mkChar("rho_intervention"));
  SET_STRING_ELT(state_names, 230, mkChar("offset_output_rho_intervention"));
  SET_STRING_ELT(state_names, 231, mkChar("dim_zeta"));
  SET_STRING_ELT(state_names, 232, mkChar("zeta"));
  SET_STRING_ELT(state_names, 233, mkChar("offset_output_zeta"));
  SET_STRING_ELT(state_names, 234, mkChar("dim_sigma"));
  SET_STRING_ELT(state_names, 235, mkChar("sigma"));
  SET_STRING_ELT(state_names, 236, mkChar("dim_eP1a_effective"));
  SET_STRING_ELT(state_names, 237, mkChar("eP1a_effective"));
  SET_STRING_ELT(state_names, 238, mkChar("offset_output_eP1a_effective"));
  SET_STRING_ELT(state_names, 239, mkChar("dim_eP1b_effective"));
  SET_STRING_ELT(state_names, 240, mkChar("eP1b_effective"));
  SET_STRING_ELT(state_names, 241, mkChar("offset_output_eP1b_effective"));
  SET_STRING_ELT(state_names, 242, mkChar("dim_eP1c_effective"));
  SET_STRING_ELT(state_names, 243, mkChar("eP1c_effective"));
  SET_STRING_ELT(state_names, 244, mkChar("offset_output_eP1c_effective"));
  SET_STRING_ELT(state_names, 245, mkChar("dim_tau"));
  SET_STRING_ELT(state_names, 246, mkChar("tau"));
  SET_STRING_ELT(state_names, 247, mkChar("offset_output_tau"));
  SET_STRING_ELT(state_names, 248, mkChar("dim_test_rate_prep"));
  SET_STRING_ELT(state_names, 249, mkChar("test_rate_prep"));
  SET_STRING_ELT(state_names, 250, mkChar("dim_rho"));
  SET_STRING_ELT(state_names, 251, mkChar("rho"));
  SET_STRING_ELT(state_names, 252, mkChar("offset_output_rho"));
  SET_STRING_ELT(state_names, 253, mkChar("dim_iota"));
  SET_STRING_ELT(state_names, 254, mkChar("iota"));
  SET_STRING_ELT(state_names, 255, mkChar("offset_output_iota"));
  SET_STRING_ELT(state_names, 256, mkChar("dim_viral_supp"));
  SET_STRING_ELT(state_names, 257, mkChar("viral_supp"));
  SET_STRING_ELT(state_names, 258, mkChar("offset_output_viral_supp"));
  SET_STRING_ELT(state_names, 259, mkChar("dim_HIV_positive"));
  SET_STRING_ELT(state_names, 260, mkChar("HIV_positive"));
  SET_STRING_ELT(state_names, 261, mkChar("offset_output_HIV_positive"));
  SET_STRING_ELT(state_names, 262, mkChar("dim_Number_Susceptibles"));
  SET_STRING_ELT(state_names, 263, mkChar("Number_Susceptibles"));
  SET_STRING_ELT(state_names, 264, mkChar("offset_output_Number_Susceptibles"));
  SET_STRING_ELT(state_names, 265, mkChar("dim_HIV_positive_Diagnosed_Off_ART"));
  SET_STRING_ELT(state_names, 266, mkChar("HIV_positive_Diagnosed_Off_ART"));
  SET_STRING_ELT(state_names, 267, mkChar("offset_output_HIV_positive_Diagnosed_Off_ART"));
  SET_STRING_ELT(state_names, 268, mkChar("dim_Primary_Off_ART"));
  SET_STRING_ELT(state_names, 269, mkChar("Primary_Off_ART"));
  SET_STRING_ELT(state_names, 270, mkChar("offset_output_Primary_Off_ART"));
  SET_STRING_ELT(state_names, 271, mkChar("dim_CD4_above_500_Off_ART"));
  SET_STRING_ELT(state_names, 272, mkChar("CD4_above_500_Off_ART"));
  SET_STRING_ELT(state_names, 273, mkChar("offset_output_CD4_above_500_Off_ART"));
  SET_STRING_ELT(state_names, 274, mkChar("dim_CD4_350_500_Off_ART"));
  SET_STRING_ELT(state_names, 275, mkChar("CD4_350_500_Off_ART"));
  SET_STRING_ELT(state_names, 276, mkChar("offset_output_CD4_350_500_Off_ART"));
  SET_STRING_ELT(state_names, 277, mkChar("dim_CD4_200_350_Off_ART"));
  SET_STRING_ELT(state_names, 278, mkChar("CD4_200_350_Off_ART"));
  SET_STRING_ELT(state_names, 279, mkChar("offset_output_CD4_200_350_Off_ART"));
  SET_STRING_ELT(state_names, 280, mkChar("dim_CD4_below_200_Off_ART"));
  SET_STRING_ELT(state_names, 281, mkChar("CD4_below_200_Off_ART"));
  SET_STRING_ELT(state_names, 282, mkChar("offset_output_CD4_below_200_Off_ART"));
  SET_STRING_ELT(state_names, 283, mkChar("dim_HIV_positive_On_ART"));
  SET_STRING_ELT(state_names, 284, mkChar("HIV_positive_On_ART"));
  SET_STRING_ELT(state_names, 285, mkChar("offset_output_HIV_positive_On_ART"));
  SET_STRING_ELT(state_names, 286, mkChar("dim_Number_DALY_W1"));
  SET_STRING_ELT(state_names, 287, mkChar("Number_DALY_W1"));
  SET_STRING_ELT(state_names, 288, mkChar("offset_output_Number_DALY_W1"));
  SET_STRING_ELT(state_names, 289, mkChar("dim_Number_DALY_W2"));
  SET_STRING_ELT(state_names, 290, mkChar("Number_DALY_W2"));
  SET_STRING_ELT(state_names, 291, mkChar("offset_output_Number_DALY_W2"));
  SET_STRING_ELT(state_names, 292, mkChar("dim_Number_DALY_W3"));
  SET_STRING_ELT(state_names, 293, mkChar("Number_DALY_W3"));
  SET_STRING_ELT(state_names, 294, mkChar("offset_output_Number_DALY_W3"));
  SET_STRING_ELT(state_names, 295, mkChar("dim_cumuDeaths_On_ART"));
  SET_STRING_ELT(state_names, 296, mkChar("initial_cumuDeaths_On_ART"));
  SET_STRING_ELT(state_names, 297, mkChar("offset_cumuDeaths_On_ART"));
  SET_STRING_ELT(state_names, 298, mkChar("dim_cumuARTinitiations_not_TasP"));
  SET_STRING_ELT(state_names, 299, mkChar("initial_cumuARTinitiations_not_TasP"));
  SET_STRING_ELT(state_names, 300, mkChar("offset_cumuARTinitiations_not_TasP"));
  SET_STRING_ELT(state_names, 301, mkChar("dim_cumu_PrEP_dropouts"));
  SET_STRING_ELT(state_names, 302, mkChar("initial_cumu_PrEP_dropouts"));
  SET_STRING_ELT(state_names, 303, mkChar("offset_cumu_PrEP_dropouts"));
  SET_STRING_ELT(state_names, 304, mkChar("dim_S0_infections"));
  SET_STRING_ELT(state_names, 305, mkChar("initial_S0_infections"));
  SET_STRING_ELT(state_names, 306, mkChar("offset_S0_infections"));
  SET_STRING_ELT(state_names, 307, mkChar("dim_S1a_infections"));
  SET_STRING_ELT(state_names, 308, mkChar("initial_S1a_infections"));
  SET_STRING_ELT(state_names, 309, mkChar("offset_S1a_infections"));
  SET_STRING_ELT(state_names, 310, mkChar("dim_S1b_infections"));
  SET_STRING_ELT(state_names, 311, mkChar("initial_S1b_infections"));
  SET_STRING_ELT(state_names, 312, mkChar("offset_S1b_infections"));
  SET_STRING_ELT(state_names, 313, mkChar("dim_S1c_infections"));
  SET_STRING_ELT(state_names, 314, mkChar("initial_S1c_infections"));
  SET_STRING_ELT(state_names, 315, mkChar("offset_S1c_infections"));
  SET_STRING_ELT(state_names, 316, mkChar("dim_S1d_infections"));
  SET_STRING_ELT(state_names, 317, mkChar("initial_S1d_infections"));
  SET_STRING_ELT(state_names, 318, mkChar("offset_S1d_infections"));
  SET_STRING_ELT(state_names, 319, mkChar("dim_frac_F"));
  SET_STRING_ELT(state_names, 320, mkChar("frac_F"));
  SET_STRING_ELT(state_names, 321, mkChar("offset_output_frac_F"));
  SET_STRING_ELT(state_names, 322, mkChar("dim_frac_N_sexualpop"));
  SET_STRING_ELT(state_names, 323, mkChar("frac_N_sexualpop"));
  SET_STRING_ELT(state_names, 324, mkChar("offset_output_frac_N_sexualpop"));
  SET_STRING_ELT(state_names, 325, mkChar("dim_ART_coverage"));
  SET_STRING_ELT(state_names, 326, mkChar("ART_coverage"));
  SET_STRING_ELT(state_names, 327, mkChar("offset_output_ART_coverage"));
  SET_STRING_ELT(state_names, 328, mkChar("dim_infect_ART"));
  SET_STRING_ELT(state_names, 329, mkChar("infect_ART"));
  SET_STRING_ELT(state_names, 330, mkChar("offset_output_infect_ART"));
  SET_STRING_ELT(state_names, 331, mkChar("dim_prep_offered"));
  SET_STRING_ELT(state_names, 332, mkChar("prep_offered"));
  SET_STRING_ELT(state_names, 333, mkChar("offset_output_prep_offered"));
  SET_STRING_ELT(state_names, 334, mkChar("dim_omega"));
  SET_STRING_ELT(state_names, 335, mkChar("omega"));
  SET_STRING_ELT(state_names, 336, mkChar("offset_output_omega"));
  SET_STRING_ELT(state_names, 337, mkChar("dim_frac_N"));
  SET_STRING_ELT(state_names, 338, mkChar("frac_N"));
  SET_STRING_ELT(state_names, 339, mkChar("offset_output_frac_N"));
  SET_STRING_ELT(state_names, 340, mkChar("dim_mu"));
  SET_STRING_ELT(state_names, 341, mkChar("mu"));
  SET_STRING_ELT(state_names, 342, mkChar("offset_output_mu"));
  SET_STRING_ELT(state_names, 343, mkChar("dim_gamma01"));
  SET_STRING_ELT(state_names, 344, mkChar("gamma01"));
  SET_STRING_ELT(state_names, 345, mkChar("offset_output_gamma01"));
  SET_STRING_ELT(state_names, 346, mkChar("dim_gamma02"));
  SET_STRING_ELT(state_names, 347, mkChar("gamma02"));
  SET_STRING_ELT(state_names, 348, mkChar("dim_gamma03"));
  SET_STRING_ELT(state_names, 349, mkChar("gamma03"));
  SET_STRING_ELT(state_names, 350, mkChar("dim_gamma04"));
  SET_STRING_ELT(state_names, 351, mkChar("gamma04"));
  SET_STRING_ELT(state_names, 352, mkChar("dim_gamma11"));
  SET_STRING_ELT(state_names, 353, mkChar("gamma11"));
  SET_STRING_ELT(state_names, 354, mkChar("offset_output_gamma11"));
  SET_STRING_ELT(state_names, 355, mkChar("dim_gamma22"));
  SET_STRING_ELT(state_names, 356, mkChar("gamma22"));
  SET_STRING_ELT(state_names, 357, mkChar("dim_gamma23"));
  SET_STRING_ELT(state_names, 358, mkChar("gamma23"));
  SET_STRING_ELT(state_names, 359, mkChar("dim_gamma24"));
  SET_STRING_ELT(state_names, 360, mkChar("gamma24"));
  SET_STRING_ELT(state_names, 361, mkChar("dim_gamma32"));
  SET_STRING_ELT(state_names, 362, mkChar("gamma32"));
  SET_STRING_ELT(state_names, 363, mkChar("offset_output_gamma32"));
  SET_STRING_ELT(state_names, 364, mkChar("dim_gamma33"));
  SET_STRING_ELT(state_names, 365, mkChar("gamma33"));
  SET_STRING_ELT(state_names, 366, mkChar("offset_output_gamma33"));
  SET_STRING_ELT(state_names, 367, mkChar("dim_gamma34"));
  SET_STRING_ELT(state_names, 368, mkChar("gamma34"));
  SET_STRING_ELT(state_names, 369, mkChar("offset_output_gamma34"));
  SET_STRING_ELT(state_names, 370, mkChar("dim_gamma42"));
  SET_STRING_ELT(state_names, 371, mkChar("gamma42"));
  SET_STRING_ELT(state_names, 372, mkChar("dim_gamma43"));
  SET_STRING_ELT(state_names, 373, mkChar("gamma43"));
  SET_STRING_ELT(state_names, 374, mkChar("dim_gamma44"));
  SET_STRING_ELT(state_names, 375, mkChar("gamma44"));
  SET_STRING_ELT(state_names, 376, mkChar("dim_phi2"));
  SET_STRING_ELT(state_names, 377, mkChar("phi2"));
  SET_STRING_ELT(state_names, 378, mkChar("dim_phi3"));
  SET_STRING_ELT(state_names, 379, mkChar("phi3"));
  SET_STRING_ELT(state_names, 380, mkChar("dim_phi4"));
  SET_STRING_ELT(state_names, 381, mkChar("phi4"));
  SET_STRING_ELT(state_names, 382, mkChar("dim_phi5"));
  SET_STRING_ELT(state_names, 383, mkChar("phi5"));
  SET_STRING_ELT(state_names, 384, mkChar("dim_psia"));
  SET_STRING_ELT(state_names, 385, mkChar("psia"));
  SET_STRING_ELT(state_names, 386, mkChar("dim_psib"));
  SET_STRING_ELT(state_names, 387, mkChar("psib"));
  SET_STRING_ELT(state_names, 388, mkChar("dim_kappaa"));
  SET_STRING_ELT(state_names, 389, mkChar("kappaa"));
  SET_STRING_ELT(state_names, 390, mkChar("offset_output_kappaa"));
  SET_STRING_ELT(state_names, 391, mkChar("dim_kappab"));
  SET_STRING_ELT(state_names, 392, mkChar("kappab"));
  SET_STRING_ELT(state_names, 393, mkChar("offset_output_kappab"));
  SET_STRING_ELT(state_names, 394, mkChar("dim_kappac"));
  SET_STRING_ELT(state_names, 395, mkChar("kappac"));
  SET_STRING_ELT(state_names, 396, mkChar("offset_output_kappac"));
  SET_STRING_ELT(state_names, 397, mkChar("dim_kappa1"));
  SET_STRING_ELT(state_names, 398, mkChar("kappa1"));
  SET_STRING_ELT(state_names, 399, mkChar("offset_output_kappa1"));
  SET_STRING_ELT(state_names, 400, mkChar("dim_alpha01"));
  SET_STRING_ELT(state_names, 401, mkChar("alpha01"));
  SET_STRING_ELT(state_names, 402, mkChar("offset_output_alpha01"));
  SET_STRING_ELT(state_names, 403, mkChar("dim_alpha02"));
  SET_STRING_ELT(state_names, 404, mkChar("alpha02"));
  SET_STRING_ELT(state_names, 405, mkChar("offset_output_alpha02"));
  SET_STRING_ELT(state_names, 406, mkChar("dim_alpha03"));
  SET_STRING_ELT(state_names, 407, mkChar("alpha03"));
  SET_STRING_ELT(state_names, 408, mkChar("dim_alpha04"));
  SET_STRING_ELT(state_names, 409, mkChar("alpha04"));
  SET_STRING_ELT(state_names, 410, mkChar("dim_alpha05"));
  SET_STRING_ELT(state_names, 411, mkChar("alpha05"));
  SET_STRING_ELT(state_names, 412, mkChar("offset_output_alpha05"));
  SET_STRING_ELT(state_names, 413, mkChar("dim_alpha11"));
  SET_STRING_ELT(state_names, 414, mkChar("alpha11"));
  SET_STRING_ELT(state_names, 415, mkChar("offset_output_alpha11"));
  SET_STRING_ELT(state_names, 416, mkChar("dim_alpha22"));
  SET_STRING_ELT(state_names, 417, mkChar("alpha22"));
  SET_STRING_ELT(state_names, 418, mkChar("offset_output_alpha22"));
  SET_STRING_ELT(state_names, 419, mkChar("dim_alpha23"));
  SET_STRING_ELT(state_names, 420, mkChar("alpha23"));
  SET_STRING_ELT(state_names, 421, mkChar("dim_alpha24"));
  SET_STRING_ELT(state_names, 422, mkChar("alpha24"));
  SET_STRING_ELT(state_names, 423, mkChar("dim_alpha25"));
  SET_STRING_ELT(state_names, 424, mkChar("alpha25"));
  SET_STRING_ELT(state_names, 425, mkChar("dim_alpha32"));
  SET_STRING_ELT(state_names, 426, mkChar("alpha32"));
  SET_STRING_ELT(state_names, 427, mkChar("dim_alpha33"));
  SET_STRING_ELT(state_names, 428, mkChar("alpha33"));
  SET_STRING_ELT(state_names, 429, mkChar("offset_output_alpha33"));
  SET_STRING_ELT(state_names, 430, mkChar("dim_alpha34"));
  SET_STRING_ELT(state_names, 431, mkChar("alpha34"));
  SET_STRING_ELT(state_names, 432, mkChar("offset_output_alpha34"));
  SET_STRING_ELT(state_names, 433, mkChar("dim_alpha35"));
  SET_STRING_ELT(state_names, 434, mkChar("alpha35"));
  SET_STRING_ELT(state_names, 435, mkChar("offset_output_alpha35"));
  SET_STRING_ELT(state_names, 436, mkChar("dim_alpha42"));
  SET_STRING_ELT(state_names, 437, mkChar("alpha42"));
  SET_STRING_ELT(state_names, 438, mkChar("dim_alpha43"));
  SET_STRING_ELT(state_names, 439, mkChar("alpha43"));
  SET_STRING_ELT(state_names, 440, mkChar("dim_alpha44"));
  SET_STRING_ELT(state_names, 441, mkChar("alpha44"));
  SET_STRING_ELT(state_names, 442, mkChar("dim_alpha45"));
  SET_STRING_ELT(state_names, 443, mkChar("alpha45"));
  SET_STRING_ELT(state_names, 444, mkChar("dim_beta_comm"));
  SET_STRING_ELT(state_names, 445, mkChar("beta_comm"));
  SET_STRING_ELT(state_names, 446, mkChar("offset_output_beta_comm"));
  SET_STRING_ELT(state_names, 447, mkChar("dim_beta_noncomm"));
  SET_STRING_ELT(state_names, 448, mkChar("beta_noncomm"));
  SET_STRING_ELT(state_names, 449, mkChar("offset_output_beta_noncomm"));
  SET_STRING_ELT(state_names, 450, mkChar("dim_p_comm"));
  SET_STRING_ELT(state_names, 451, mkChar("dim_p_comm_1"));
  SET_STRING_ELT(state_names, 452, mkChar("dim_p_comm_2"));
  SET_STRING_ELT(state_names, 453, mkChar("p_comm"));
  SET_STRING_ELT(state_names, 454, mkChar("offset_output_p_comm"));
  SET_STRING_ELT(state_names, 455, mkChar("dim_p_noncomm"));
  SET_STRING_ELT(state_names, 456, mkChar("dim_p_noncomm_1"));
  SET_STRING_ELT(state_names, 457, mkChar("dim_p_noncomm_2"));
  SET_STRING_ELT(state_names, 458, mkChar("p_noncomm"));
  SET_STRING_ELT(state_names, 459, mkChar("offset_output_p_noncomm"));
  SET_STRING_ELT(state_names, 460, mkChar("dim_ec"));
  SET_STRING_ELT(state_names, 461, mkChar("ec"));
  SET_STRING_ELT(state_names, 462, mkChar("dim_eP"));
  SET_STRING_ELT(state_names, 463, mkChar("eP"));
  SET_STRING_ELT(state_names, 464, mkChar("dim_eP0"));
  SET_STRING_ELT(state_names, 465, mkChar("eP0"));
  SET_STRING_ELT(state_names, 466, mkChar("offset_output_eP0"));
  SET_STRING_ELT(state_names, 467, mkChar("dim_eP1a"));
  SET_STRING_ELT(state_names, 468, mkChar("eP1a"));
  SET_STRING_ELT(state_names, 469, mkChar("offset_output_eP1a"));
  SET_STRING_ELT(state_names, 470, mkChar("dim_eP1b"));
  SET_STRING_ELT(state_names, 471, mkChar("eP1b"));
  SET_STRING_ELT(state_names, 472, mkChar("offset_output_eP1b"));
  SET_STRING_ELT(state_names, 473, mkChar("dim_eP1c"));
  SET_STRING_ELT(state_names, 474, mkChar("eP1c"));
  SET_STRING_ELT(state_names, 475, mkChar("offset_output_eP1c"));
  SET_STRING_ELT(state_names, 476, mkChar("dim_eP1d"));
  SET_STRING_ELT(state_names, 477, mkChar("eP1d"));
  SET_STRING_ELT(state_names, 478, mkChar("offset_output_eP1d"));
  SET_STRING_ELT(state_names, 479, mkChar("dim_fc_comm"));
  SET_STRING_ELT(state_names, 480, mkChar("dim_fc_comm_1"));
  SET_STRING_ELT(state_names, 481, mkChar("dim_fc_comm_2"));
  SET_STRING_ELT(state_names, 482, mkChar("fc_comm"));
  SET_STRING_ELT(state_names, 483, mkChar("offset_output_fc_comm"));
  SET_STRING_ELT(state_names, 484, mkChar("dim_fP_comm"));
  SET_STRING_ELT(state_names, 485, mkChar("fP_comm"));
  SET_STRING_ELT(state_names, 486, mkChar("offset_output_fP_comm"));
  SET_STRING_ELT(state_names, 487, mkChar("dim_fc_noncomm"));
  SET_STRING_ELT(state_names, 488, mkChar("dim_fc_noncomm_1"));
  SET_STRING_ELT(state_names, 489, mkChar("dim_fc_noncomm_2"));
  SET_STRING_ELT(state_names, 490, mkChar("fc_noncomm"));
  SET_STRING_ELT(state_names, 491, mkChar("offset_output_fc_noncomm"));
  SET_STRING_ELT(state_names, 492, mkChar("dim_fP_noncomm"));
  SET_STRING_ELT(state_names, 493, mkChar("fP_noncomm"));
  SET_STRING_ELT(state_names, 494, mkChar("offset_output_fP_noncomm"));
  SET_STRING_ELT(state_names, 495, mkChar("dim_n_comm"));
  SET_STRING_ELT(state_names, 496, mkChar("dim_n_comm_1"));
  SET_STRING_ELT(state_names, 497, mkChar("dim_n_comm_2"));
  SET_STRING_ELT(state_names, 498, mkChar("n_comm"));
  SET_STRING_ELT(state_names, 499, mkChar("offset_output_n_comm"));
  SET_STRING_ELT(state_names, 500, mkChar("dim_n_noncomm"));
  SET_STRING_ELT(state_names, 501, mkChar("dim_n_noncomm_1"));
  SET_STRING_ELT(state_names, 502, mkChar("dim_n_noncomm_2"));
  SET_STRING_ELT(state_names, 503, mkChar("n_noncomm"));
  SET_STRING_ELT(state_names, 504, mkChar("offset_output_n_noncomm"));
  SET_STRING_ELT(state_names, 505, mkChar("dim_cumuHIVDeaths"));
  SET_STRING_ELT(state_names, 506, mkChar("initial_cumuHIVDeaths"));
  SET_STRING_ELT(state_names, 507, mkChar("offset_cumuHIVDeaths"));
  SET_STRING_ELT(state_names, 508, mkChar("dim_cumuARTinitiations"));
  SET_STRING_ELT(state_names, 509, mkChar("initial_cumuARTinitiations"));
  SET_STRING_ELT(state_names, 510, mkChar("offset_cumuARTinitiations"));
  SET_STRING_ELT(state_names, 511, mkChar("dim_TasPinitiations"));
  SET_STRING_ELT(state_names, 512, mkChar("initial_TasPinitiations"));
  SET_STRING_ELT(state_names, 513, mkChar("offset_TasPinitiations"));
  SET_STRING_ELT(state_names, 514, mkChar("dim_cumuARTREinitiations"));
  SET_STRING_ELT(state_names, 515, mkChar("initial_cumuARTREinitiations"));
  SET_STRING_ELT(state_names, 516, mkChar("offset_cumuARTREinitiations"));
  SET_STRING_ELT(state_names, 517, mkChar("dim_dropouts"));
  SET_STRING_ELT(state_names, 518, mkChar("initial_dropouts"));
  SET_STRING_ELT(state_names, 519, mkChar("offset_dropouts"));
  SET_STRING_ELT(state_names, 520, mkChar("dim_cumuAllDeaths"));
  SET_STRING_ELT(state_names, 521, mkChar("initial_cumuAllDeaths"));
  SET_STRING_ELT(state_names, 522, mkChar("offset_cumuAllDeaths"));
  SET_STRING_ELT(state_names, 523, mkChar("dim_cumuInf"));
  SET_STRING_ELT(state_names, 524, mkChar("initial_cumuInf"));
  SET_STRING_ELT(state_names, 525, mkChar("offset_cumuInf"));
  SET_STRING_ELT(state_names, 526, mkChar("dim_PrEPinitiations"));
  SET_STRING_ELT(state_names, 527, mkChar("initial_PrEPinitiations"));
  SET_STRING_ELT(state_names, 528, mkChar("offset_PrEPinitiations"));
  SET_STRING_ELT(state_names, 529, mkChar("dim_PrEPinitiations1a"));
  SET_STRING_ELT(state_names, 530, mkChar("initial_PrEPinitiations1a"));
  SET_STRING_ELT(state_names, 531, mkChar("offset_PrEPinitiations1a"));
  SET_STRING_ELT(state_names, 532, mkChar("dim_PrEPinitiations1b"));
  SET_STRING_ELT(state_names, 533, mkChar("initial_PrEPinitiations1b"));
  SET_STRING_ELT(state_names, 534, mkChar("offset_PrEPinitiations1b"));
  SET_STRING_ELT(state_names, 535, mkChar("dim_PrEPinitiations1c"));
  SET_STRING_ELT(state_names, 536, mkChar("initial_PrEPinitiations1c"));
  SET_STRING_ELT(state_names, 537, mkChar("offset_PrEPinitiations1c"));
  SET_STRING_ELT(state_names, 538, mkChar("dim_S0"));
  SET_STRING_ELT(state_names, 539, mkChar("initial_S0"));
  SET_STRING_ELT(state_names, 540, mkChar("offset_S0"));
  SET_STRING_ELT(state_names, 541, mkChar("dim_S1a"));
  SET_STRING_ELT(state_names, 542, mkChar("initial_S1a"));
  SET_STRING_ELT(state_names, 543, mkChar("offset_S1a"));
  SET_STRING_ELT(state_names, 544, mkChar("dim_S1b"));
  SET_STRING_ELT(state_names, 545, mkChar("initial_S1b"));
  SET_STRING_ELT(state_names, 546, mkChar("offset_S1b"));
  SET_STRING_ELT(state_names, 547, mkChar("dim_S1c"));
  SET_STRING_ELT(state_names, 548, mkChar("initial_S1c"));
  SET_STRING_ELT(state_names, 549, mkChar("offset_S1c"));
  SET_STRING_ELT(state_names, 550, mkChar("dim_S1d"));
  SET_STRING_ELT(state_names, 551, mkChar("initial_S1d"));
  SET_STRING_ELT(state_names, 552, mkChar("offset_S1d"));
  SET_STRING_ELT(state_names, 553, mkChar("dim_I01"));
  SET_STRING_ELT(state_names, 554, mkChar("initial_I01"));
  SET_STRING_ELT(state_names, 555, mkChar("offset_I01"));
  SET_STRING_ELT(state_names, 556, mkChar("dim_I11"));
  SET_STRING_ELT(state_names, 557, mkChar("initial_I11"));
  SET_STRING_ELT(state_names, 558, mkChar("offset_I11"));
  SET_STRING_ELT(state_names, 559, mkChar("dim_I02"));
  SET_STRING_ELT(state_names, 560, mkChar("initial_I02"));
  SET_STRING_ELT(state_names, 561, mkChar("offset_I02"));
  SET_STRING_ELT(state_names, 562, mkChar("dim_I03"));
  SET_STRING_ELT(state_names, 563, mkChar("initial_I03"));
  SET_STRING_ELT(state_names, 564, mkChar("offset_I03"));
  SET_STRING_ELT(state_names, 565, mkChar("dim_I04"));
  SET_STRING_ELT(state_names, 566, mkChar("initial_I04"));
  SET_STRING_ELT(state_names, 567, mkChar("offset_I04"));
  SET_STRING_ELT(state_names, 568, mkChar("dim_I05"));
  SET_STRING_ELT(state_names, 569, mkChar("initial_I05"));
  SET_STRING_ELT(state_names, 570, mkChar("offset_I05"));
  SET_STRING_ELT(state_names, 571, mkChar("dim_I22"));
  SET_STRING_ELT(state_names, 572, mkChar("initial_I22"));
  SET_STRING_ELT(state_names, 573, mkChar("offset_I22"));
  SET_STRING_ELT(state_names, 574, mkChar("dim_I23"));
  SET_STRING_ELT(state_names, 575, mkChar("initial_I23"));
  SET_STRING_ELT(state_names, 576, mkChar("offset_I23"));
  SET_STRING_ELT(state_names, 577, mkChar("dim_I24"));
  SET_STRING_ELT(state_names, 578, mkChar("initial_I24"));
  SET_STRING_ELT(state_names, 579, mkChar("offset_I24"));
  SET_STRING_ELT(state_names, 580, mkChar("dim_I25"));
  SET_STRING_ELT(state_names, 581, mkChar("initial_I25"));
  SET_STRING_ELT(state_names, 582, mkChar("offset_I25"));
  SET_STRING_ELT(state_names, 583, mkChar("dim_I32"));
  SET_STRING_ELT(state_names, 584, mkChar("initial_I32"));
  SET_STRING_ELT(state_names, 585, mkChar("offset_I32"));
  SET_STRING_ELT(state_names, 586, mkChar("dim_I33"));
  SET_STRING_ELT(state_names, 587, mkChar("initial_I33"));
  SET_STRING_ELT(state_names, 588, mkChar("offset_I33"));
  SET_STRING_ELT(state_names, 589, mkChar("dim_I34"));
  SET_STRING_ELT(state_names, 590, mkChar("initial_I34"));
  SET_STRING_ELT(state_names, 591, mkChar("offset_I34"));
  SET_STRING_ELT(state_names, 592, mkChar("dim_I35"));
  SET_STRING_ELT(state_names, 593, mkChar("initial_I35"));
  SET_STRING_ELT(state_names, 594, mkChar("offset_I35"));
  SET_STRING_ELT(state_names, 595, mkChar("dim_I42"));
  SET_STRING_ELT(state_names, 596, mkChar("initial_I42"));
  SET_STRING_ELT(state_names, 597, mkChar("offset_I42"));
  SET_STRING_ELT(state_names, 598, mkChar("dim_I43"));
  SET_STRING_ELT(state_names, 599, mkChar("initial_I43"));
  SET_STRING_ELT(state_names, 600, mkChar("offset_I43"));
  SET_STRING_ELT(state_names, 601, mkChar("dim_I44"));
  SET_STRING_ELT(state_names, 602, mkChar("initial_I44"));
  SET_STRING_ELT(state_names, 603, mkChar("offset_I44"));
  SET_STRING_ELT(state_names, 604, mkChar("dim_I45"));
  SET_STRING_ELT(state_names, 605, mkChar("initial_I45"));
  SET_STRING_ELT(state_names, 606, mkChar("offset_I45"));
  SET_STRING_ELT(state_names, 607, mkChar("dim_S0_init"));
  SET_STRING_ELT(state_names, 608, mkChar("S0_init"));
  SET_STRING_ELT(state_names, 609, mkChar("dim_S1a_init"));
  SET_STRING_ELT(state_names, 610, mkChar("S1a_init"));
  SET_STRING_ELT(state_names, 611, mkChar("dim_S1b_init"));
  SET_STRING_ELT(state_names, 612, mkChar("S1b_init"));
  SET_STRING_ELT(state_names, 613, mkChar("dim_S1c_init"));
  SET_STRING_ELT(state_names, 614, mkChar("S1c_init"));
  SET_STRING_ELT(state_names, 615, mkChar("dim_S1d_init"));
  SET_STRING_ELT(state_names, 616, mkChar("S1d_init"));
  SET_STRING_ELT(state_names, 617, mkChar("dim_I01_init"));
  SET_STRING_ELT(state_names, 618, mkChar("I01_init"));
  SET_STRING_ELT(state_names, 619, mkChar("dim_I11_init"));
  SET_STRING_ELT(state_names, 620, mkChar("I11_init"));
  SET_STRING_ELT(state_names, 621, mkChar("dim_I02_init"));
  SET_STRING_ELT(state_names, 622, mkChar("I02_init"));
  SET_STRING_ELT(state_names, 623, mkChar("dim_I03_init"));
  SET_STRING_ELT(state_names, 624, mkChar("I03_init"));
  SET_STRING_ELT(state_names, 625, mkChar("dim_I04_init"));
  SET_STRING_ELT(state_names, 626, mkChar("I04_init"));
  SET_STRING_ELT(state_names, 627, mkChar("dim_I05_init"));
  SET_STRING_ELT(state_names, 628, mkChar("I05_init"));
  SET_STRING_ELT(state_names, 629, mkChar("dim_I22_init"));
  SET_STRING_ELT(state_names, 630, mkChar("I22_init"));
  SET_STRING_ELT(state_names, 631, mkChar("dim_I23_init"));
  SET_STRING_ELT(state_names, 632, mkChar("I23_init"));
  SET_STRING_ELT(state_names, 633, mkChar("dim_I24_init"));
  SET_STRING_ELT(state_names, 634, mkChar("I24_init"));
  SET_STRING_ELT(state_names, 635, mkChar("dim_I25_init"));
  SET_STRING_ELT(state_names, 636, mkChar("I25_init"));
  SET_STRING_ELT(state_names, 637, mkChar("dim_I32_init"));
  SET_STRING_ELT(state_names, 638, mkChar("I32_init"));
  SET_STRING_ELT(state_names, 639, mkChar("dim_I33_init"));
  SET_STRING_ELT(state_names, 640, mkChar("I33_init"));
  SET_STRING_ELT(state_names, 641, mkChar("dim_I34_init"));
  SET_STRING_ELT(state_names, 642, mkChar("I34_init"));
  SET_STRING_ELT(state_names, 643, mkChar("dim_I35_init"));
  SET_STRING_ELT(state_names, 644, mkChar("I35_init"));
  SET_STRING_ELT(state_names, 645, mkChar("dim_I42_init"));
  SET_STRING_ELT(state_names, 646, mkChar("I42_init"));
  SET_STRING_ELT(state_names, 647, mkChar("dim_I43_init"));
  SET_STRING_ELT(state_names, 648, mkChar("I43_init"));
  SET_STRING_ELT(state_names, 649, mkChar("dim_I44_init"));
  SET_STRING_ELT(state_names, 650, mkChar("I44_init"));
  SET_STRING_ELT(state_names, 651, mkChar("dim_I45_init"));
  SET_STRING_ELT(state_names, 652, mkChar("I45_init"));
  SET_STRING_ELT(state_names, 653, mkChar("dim_N"));
  SET_STRING_ELT(state_names, 654, mkChar("N"));
  SET_STRING_ELT(state_names, 655, mkChar("offset_output_N"));
  SET_STRING_ELT(state_names, 656, mkChar("dim_E0"));
  SET_STRING_ELT(state_names, 657, mkChar("E0"));
  SET_STRING_ELT(state_names, 658, mkChar("offset_output_E0"));
  SET_STRING_ELT(state_names, 659, mkChar("dim_E1a"));
  SET_STRING_ELT(state_names, 660, mkChar("E1a"));
  SET_STRING_ELT(state_names, 661, mkChar("offset_output_E1a"));
  SET_STRING_ELT(state_names, 662, mkChar("dim_E1b"));
  SET_STRING_ELT(state_names, 663, mkChar("E1b"));
  SET_STRING_ELT(state_names, 664, mkChar("offset_output_E1b"));
  SET_STRING_ELT(state_names, 665, mkChar("dim_E1c"));
  SET_STRING_ELT(state_names, 666, mkChar("E1c"));
  SET_STRING_ELT(state_names, 667, mkChar("offset_output_E1c"));
  SET_STRING_ELT(state_names, 668, mkChar("dim_E1d"));
  SET_STRING_ELT(state_names, 669, mkChar("E1d"));
  SET_STRING_ELT(state_names, 670, mkChar("offset_output_E1d"));
  SET_STRING_ELT(state_names, 671, mkChar("dim_cumuInf_init"));
  SET_STRING_ELT(state_names, 672, mkChar("cumuInf_init"));
  SET_STRING_ELT(state_names, 673, mkChar("dim_alphaItot"));
  SET_STRING_ELT(state_names, 674, mkChar("alphaItot"));
  SET_STRING_ELT(state_names, 675, mkChar("offset_output_alphaItot"));
  SET_STRING_ELT(state_names, 676, mkChar("dim_prev"));
  SET_STRING_ELT(state_names, 677, mkChar("prev"));
  SET_STRING_ELT(state_names, 678, mkChar("offset_output_prev"));
  SET_STRING_ELT(state_names, 679, mkChar("dim_lambda"));
  SET_STRING_ELT(state_names, 680, mkChar("dim_lambda_1"));
  SET_STRING_ELT(state_names, 681, mkChar("dim_lambda_2"));
  SET_STRING_ELT(state_names, 682, mkChar("lambda"));
  SET_STRING_ELT(state_names, 683, mkChar("offset_output_lambda"));
  SET_STRING_ELT(state_names, 684, mkChar("dim_lambda_0"));
  SET_STRING_ELT(state_names, 685, mkChar("dim_lambda_0_1"));
  SET_STRING_ELT(state_names, 686, mkChar("dim_lambda_0_2"));
  SET_STRING_ELT(state_names, 687, mkChar("lambda_0"));
  SET_STRING_ELT(state_names, 688, mkChar("offset_output_lambda_0"));
  SET_STRING_ELT(state_names, 689, mkChar("dim_lambda_1a"));
  SET_STRING_ELT(state_names, 690, mkChar("dim_lambda_1a_1"));
  SET_STRING_ELT(state_names, 691, mkChar("dim_lambda_1a_2"));
  SET_STRING_ELT(state_names, 692, mkChar("lambda_1a"));
  SET_STRING_ELT(state_names, 693, mkChar("offset_output_lambda_1a"));
  SET_STRING_ELT(state_names, 694, mkChar("dim_lambda_1b"));
  SET_STRING_ELT(state_names, 695, mkChar("dim_lambda_1b_1"));
  SET_STRING_ELT(state_names, 696, mkChar("dim_lambda_1b_2"));
  SET_STRING_ELT(state_names, 697, mkChar("lambda_1b"));
  SET_STRING_ELT(state_names, 698, mkChar("offset_output_lambda_1b"));
  SET_STRING_ELT(state_names, 699, mkChar("dim_lambda_1c"));
  SET_STRING_ELT(state_names, 700, mkChar("dim_lambda_1c_1"));
  SET_STRING_ELT(state_names, 701, mkChar("dim_lambda_1c_2"));
  SET_STRING_ELT(state_names, 702, mkChar("lambda_1c"));
  SET_STRING_ELT(state_names, 703, mkChar("offset_output_lambda_1c"));
  SET_STRING_ELT(state_names, 704, mkChar("dim_lambda_1d"));
  SET_STRING_ELT(state_names, 705, mkChar("dim_lambda_1d_1"));
  SET_STRING_ELT(state_names, 706, mkChar("dim_lambda_1d_2"));
  SET_STRING_ELT(state_names, 707, mkChar("lambda_1d"));
  SET_STRING_ELT(state_names, 708, mkChar("offset_output_lambda_1d"));
  SET_STRING_ELT(state_names, 709, mkChar("dim_lambda_sum_0"));
  SET_STRING_ELT(state_names, 710, mkChar("lambda_sum_0"));
  SET_STRING_ELT(state_names, 711, mkChar("offset_output_lambda_sum_0"));
  SET_STRING_ELT(state_names, 712, mkChar("dim_lambda_sum_1a"));
  SET_STRING_ELT(state_names, 713, mkChar("lambda_sum_1a"));
  SET_STRING_ELT(state_names, 714, mkChar("offset_output_lambda_sum_1a"));
  SET_STRING_ELT(state_names, 715, mkChar("dim_lambda_sum_1b"));
  SET_STRING_ELT(state_names, 716, mkChar("lambda_sum_1b"));
  SET_STRING_ELT(state_names, 717, mkChar("offset_output_lambda_sum_1b"));
  SET_STRING_ELT(state_names, 718, mkChar("dim_lambda_sum_1c"));
  SET_STRING_ELT(state_names, 719, mkChar("lambda_sum_1c"));
  SET_STRING_ELT(state_names, 720, mkChar("offset_output_lambda_sum_1c"));
  SET_STRING_ELT(state_names, 721, mkChar("dim_lambda_sum_1d"));
  SET_STRING_ELT(state_names, 722, mkChar("lambda_sum_1d"));
  SET_STRING_ELT(state_names, 723, mkChar("offset_output_lambda_sum_1d"));
  SET_STRING_ELT(state_names, 724, mkChar("dim_c_comm_balanced"));
  SET_STRING_ELT(state_names, 725, mkChar("c_comm_balanced"));
  SET_STRING_ELT(state_names, 726, mkChar("offset_output_c_comm_balanced"));
  SET_STRING_ELT(state_names, 727, mkChar("dim_c_noncomm_balanced"));
  SET_STRING_ELT(state_names, 728, mkChar("c_noncomm_balanced"));
  SET_STRING_ELT(state_names, 729, mkChar("offset_output_c_noncomm_balanced"));
  SET_STRING_ELT(state_names, 730, mkChar("dim_theta"));
  SET_STRING_ELT(state_names, 731, mkChar("dim_theta_1"));
  SET_STRING_ELT(state_names, 732, mkChar("dim_theta_2"));
  SET_STRING_ELT(state_names, 733, mkChar("theta"));
  SET_STRING_ELT(state_names, 734, mkChar("offset_output_theta"));
  SET_STRING_ELT(state_names, 735, mkChar("dim_PrEPinitiations_init"));
  SET_STRING_ELT(state_names, 736, mkChar("PrEPinitiations_init"));
  SET_STRING_ELT(state_names, 737, mkChar("dim_M_comm"));
  SET_STRING_ELT(state_names, 738, mkChar("dim_M_comm_1"));
  SET_STRING_ELT(state_names, 739, mkChar("dim_M_comm_2"));
  SET_STRING_ELT(state_names, 740, mkChar("M_comm"));
  SET_STRING_ELT(state_names, 741, mkChar("offset_output_M_comm"));
  SET_STRING_ELT(state_names, 742, mkChar("dim_M_noncomm"));
  SET_STRING_ELT(state_names, 743, mkChar("dim_M_noncomm_1"));
  SET_STRING_ELT(state_names, 744, mkChar("dim_M_noncomm_2"));
  SET_STRING_ELT(state_names, 745, mkChar("M_noncomm"));
  SET_STRING_ELT(state_names, 746, mkChar("offset_output_M_noncomm"));
  SET_STRING_ELT(state_names, 747, mkChar("dim_in_S0"));
  SET_STRING_ELT(state_names, 748, mkChar("dim_in_S0_1"));
  SET_STRING_ELT(state_names, 749, mkChar("dim_in_S0_2"));
  SET_STRING_ELT(state_names, 750, mkChar("in_S0"));
  SET_STRING_ELT(state_names, 751, mkChar("dim_in_S1a"));
  SET_STRING_ELT(state_names, 752, mkChar("dim_in_S1a_1"));
  SET_STRING_ELT(state_names, 753, mkChar("dim_in_S1a_2"));
  SET_STRING_ELT(state_names, 754, mkChar("in_S1a"));
  SET_STRING_ELT(state_names, 755, mkChar("dim_in_S1b"));
  SET_STRING_ELT(state_names, 756, mkChar("dim_in_S1b_1"));
  SET_STRING_ELT(state_names, 757, mkChar("dim_in_S1b_2"));
  SET_STRING_ELT(state_names, 758, mkChar("in_S1b"));
  SET_STRING_ELT(state_names, 759, mkChar("dim_in_S1c"));
  SET_STRING_ELT(state_names, 760, mkChar("dim_in_S1c_1"));
  SET_STRING_ELT(state_names, 761, mkChar("dim_in_S1c_2"));
  SET_STRING_ELT(state_names, 762, mkChar("in_S1c"));
  SET_STRING_ELT(state_names, 763, mkChar("dim_in_S1d"));
  SET_STRING_ELT(state_names, 764, mkChar("dim_in_S1d_1"));
  SET_STRING_ELT(state_names, 765, mkChar("dim_in_S1d_2"));
  SET_STRING_ELT(state_names, 766, mkChar("in_S1d"));
  SET_STRING_ELT(state_names, 767, mkChar("dim_in_I01"));
  SET_STRING_ELT(state_names, 768, mkChar("dim_in_I01_1"));
  SET_STRING_ELT(state_names, 769, mkChar("dim_in_I01_2"));
  SET_STRING_ELT(state_names, 770, mkChar("in_I01"));
  SET_STRING_ELT(state_names, 771, mkChar("dim_in_I11"));
  SET_STRING_ELT(state_names, 772, mkChar("dim_in_I11_1"));
  SET_STRING_ELT(state_names, 773, mkChar("dim_in_I11_2"));
  SET_STRING_ELT(state_names, 774, mkChar("in_I11"));
  SET_STRING_ELT(state_names, 775, mkChar("dim_in_I02"));
  SET_STRING_ELT(state_names, 776, mkChar("dim_in_I02_1"));
  SET_STRING_ELT(state_names, 777, mkChar("dim_in_I02_2"));
  SET_STRING_ELT(state_names, 778, mkChar("in_I02"));
  SET_STRING_ELT(state_names, 779, mkChar("dim_in_I03"));
  SET_STRING_ELT(state_names, 780, mkChar("dim_in_I03_1"));
  SET_STRING_ELT(state_names, 781, mkChar("dim_in_I03_2"));
  SET_STRING_ELT(state_names, 782, mkChar("in_I03"));
  SET_STRING_ELT(state_names, 783, mkChar("dim_in_I04"));
  SET_STRING_ELT(state_names, 784, mkChar("dim_in_I04_1"));
  SET_STRING_ELT(state_names, 785, mkChar("dim_in_I04_2"));
  SET_STRING_ELT(state_names, 786, mkChar("in_I04"));
  SET_STRING_ELT(state_names, 787, mkChar("dim_in_I05"));
  SET_STRING_ELT(state_names, 788, mkChar("dim_in_I05_1"));
  SET_STRING_ELT(state_names, 789, mkChar("dim_in_I05_2"));
  SET_STRING_ELT(state_names, 790, mkChar("in_I05"));
  SET_STRING_ELT(state_names, 791, mkChar("dim_in_I22"));
  SET_STRING_ELT(state_names, 792, mkChar("dim_in_I22_1"));
  SET_STRING_ELT(state_names, 793, mkChar("dim_in_I22_2"));
  SET_STRING_ELT(state_names, 794, mkChar("in_I22"));
  SET_STRING_ELT(state_names, 795, mkChar("dim_in_I23"));
  SET_STRING_ELT(state_names, 796, mkChar("dim_in_I23_1"));
  SET_STRING_ELT(state_names, 797, mkChar("dim_in_I23_2"));
  SET_STRING_ELT(state_names, 798, mkChar("in_I23"));
  SET_STRING_ELT(state_names, 799, mkChar("dim_in_I24"));
  SET_STRING_ELT(state_names, 800, mkChar("dim_in_I24_1"));
  SET_STRING_ELT(state_names, 801, mkChar("dim_in_I24_2"));
  SET_STRING_ELT(state_names, 802, mkChar("in_I24"));
  SET_STRING_ELT(state_names, 803, mkChar("dim_in_I25"));
  SET_STRING_ELT(state_names, 804, mkChar("dim_in_I25_1"));
  SET_STRING_ELT(state_names, 805, mkChar("dim_in_I25_2"));
  SET_STRING_ELT(state_names, 806, mkChar("in_I25"));
  SET_STRING_ELT(state_names, 807, mkChar("dim_in_I32"));
  SET_STRING_ELT(state_names, 808, mkChar("dim_in_I32_1"));
  SET_STRING_ELT(state_names, 809, mkChar("dim_in_I32_2"));
  SET_STRING_ELT(state_names, 810, mkChar("in_I32"));
  SET_STRING_ELT(state_names, 811, mkChar("dim_in_I33"));
  SET_STRING_ELT(state_names, 812, mkChar("dim_in_I33_1"));
  SET_STRING_ELT(state_names, 813, mkChar("dim_in_I33_2"));
  SET_STRING_ELT(state_names, 814, mkChar("in_I33"));
  SET_STRING_ELT(state_names, 815, mkChar("dim_in_I34"));
  SET_STRING_ELT(state_names, 816, mkChar("dim_in_I34_1"));
  SET_STRING_ELT(state_names, 817, mkChar("dim_in_I34_2"));
  SET_STRING_ELT(state_names, 818, mkChar("in_I34"));
  SET_STRING_ELT(state_names, 819, mkChar("dim_in_I35"));
  SET_STRING_ELT(state_names, 820, mkChar("dim_in_I35_1"));
  SET_STRING_ELT(state_names, 821, mkChar("dim_in_I35_2"));
  SET_STRING_ELT(state_names, 822, mkChar("in_I35"));
  SET_STRING_ELT(state_names, 823, mkChar("dim_in_I42"));
  SET_STRING_ELT(state_names, 824, mkChar("dim_in_I42_1"));
  SET_STRING_ELT(state_names, 825, mkChar("dim_in_I42_2"));
  SET_STRING_ELT(state_names, 826, mkChar("in_I42"));
  SET_STRING_ELT(state_names, 827, mkChar("dim_in_I43"));
  SET_STRING_ELT(state_names, 828, mkChar("dim_in_I43_1"));
  SET_STRING_ELT(state_names, 829, mkChar("dim_in_I43_2"));
  SET_STRING_ELT(state_names, 830, mkChar("in_I43"));
  SET_STRING_ELT(state_names, 831, mkChar("dim_in_I44"));
  SET_STRING_ELT(state_names, 832, mkChar("dim_in_I44_1"));
  SET_STRING_ELT(state_names, 833, mkChar("dim_in_I44_2"));
  SET_STRING_ELT(state_names, 834, mkChar("in_I44"));
  SET_STRING_ELT(state_names, 835, mkChar("dim_in_I45"));
  SET_STRING_ELT(state_names, 836, mkChar("dim_in_I45_1"));
  SET_STRING_ELT(state_names, 837, mkChar("dim_in_I45_2"));
  SET_STRING_ELT(state_names, 838, mkChar("in_I45"));
  SET_STRING_ELT(state_names, 839, mkChar("dim_rate_move_in"));
  SET_STRING_ELT(state_names, 840, mkChar("dim_rate_move_in_1"));
  SET_STRING_ELT(state_names, 841, mkChar("dim_rate_move_in_2"));
  SET_STRING_ELT(state_names, 842, mkChar("rate_move_in"));
  SET_STRING_ELT(state_names, 843, mkChar("offset_output_rate_move_in"));
  SET_STRING_ELT(state_names, 844, mkChar("dim_rate_move_out"));
  SET_STRING_ELT(state_names, 845, mkChar("rate_move_out"));
  SET_STRING_ELT(state_names, 846, mkChar("offset_output_rate_move_out"));
  SET_STRING_ELT(state_names, 847, mkChar("dim_rate_move_out_PrEP"));
  SET_STRING_ELT(state_names, 848, mkChar("rate_move_out_PrEP"));
  SET_STRING_ELT(state_names, 849, mkChar("offset_output_rate_move_out_PrEP"));
  SET_STRING_ELT(state_names, 850, mkChar("interpolate_pfFSW"));
  SET_STRING_ELT(state_names, 851, mkChar("interpolate_c_comm"));
  SET_STRING_ELT(state_names, 852, mkChar("interpolate_c_noncomm"));
  SET_STRING_ELT(state_names, 853, mkChar("interpolate_ART_eligible_CD4_above_500"));
  SET_STRING_ELT(state_names, 854, mkChar("interpolate_ART_eligible_CD4_350_500"));
  SET_STRING_ELT(state_names, 855, mkChar("interpolate_ART_eligible_CD4_200_349"));
  SET_STRING_ELT(state_names, 856, mkChar("interpolate_ART_eligible_CD4_below_200"));
  SET_STRING_ELT(state_names, 857, mkChar("interpolate_testing_prob"));
  SET_STRING_ELT(state_names, 858, mkChar("interpolate_tau_intervention"));
  SET_STRING_ELT(state_names, 859, mkChar("interpolate_rho_intervention"));
  SET_STRING_ELT(state_names, 860, mkChar("interpolate_prep_efficacious"));
  SET_STRING_ELT(state_names, 861, mkChar("interpolate_viral_supp"));
  SET_STRING_ELT(state_names, 862, mkChar("interpolate_infect_ART"));
  SET_STRING_ELT(state_names, 863, mkChar("interpolate_epsilon"));
  SET_STRING_ELT(state_names, 864, mkChar("interpolate_prep_offered"));
  SET_STRING_ELT(state_names, 865, mkChar("interpolate_fc_comm"));
  SET_STRING_ELT(state_names, 866, mkChar("interpolate_fP_comm"));
  SET_STRING_ELT(state_names, 867, mkChar("interpolate_fc_noncomm"));
  SET_STRING_ELT(state_names, 868, mkChar("interpolate_fP_noncomm"));
  SET_STRING_ELT(state_names, 869, mkChar("interpolate_n_comm"));
  SET_STRING_ELT(state_names, 870, mkChar("interpolate_n_noncomm"));
  SET_STRING_ELT(state_names, 871, mkChar("dim"));
  SET_STRING_ELT(state_names, 872, mkChar("dim_output"));
  setAttrib(state, R_NamesSymbol, state_names);
  UNPROTECT(2);
  return state;
}

// Report back to R information on variable ordering
// The reported information includes position and length of each
// variable, from which offset, etc, can be worked out.
SEXP main_model_variable_order(SEXP main_model_ptr) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  SEXP state_len = PROTECT(allocVector(VECSXP, 42));
  SEXP state_names = PROTECT(allocVector(STRSXP, 42));
  SET_VECTOR_ELT(state_len, 0, ScalarInteger(main_model_p->dim_cumuDeaths_On_ART));
  SET_STRING_ELT(state_names, 0, mkChar("cumuDeaths_On_ART"));
  SET_VECTOR_ELT(state_len, 1, ScalarInteger(main_model_p->dim_cumuARTinitiations_not_TasP));
  SET_STRING_ELT(state_names, 1, mkChar("cumuARTinitiations_not_TasP"));
  SET_VECTOR_ELT(state_len, 2, ScalarInteger(main_model_p->dim_cumu_PrEP_dropouts));
  SET_STRING_ELT(state_names, 2, mkChar("cumu_PrEP_dropouts"));
  SET_VECTOR_ELT(state_len, 3, ScalarInteger(main_model_p->dim_S0_infections));
  SET_STRING_ELT(state_names, 3, mkChar("S0_infections"));
  SET_VECTOR_ELT(state_len, 4, ScalarInteger(main_model_p->dim_S1a_infections));
  SET_STRING_ELT(state_names, 4, mkChar("S1a_infections"));
  SET_VECTOR_ELT(state_len, 5, ScalarInteger(main_model_p->dim_S1b_infections));
  SET_STRING_ELT(state_names, 5, mkChar("S1b_infections"));
  SET_VECTOR_ELT(state_len, 6, ScalarInteger(main_model_p->dim_S1c_infections));
  SET_STRING_ELT(state_names, 6, mkChar("S1c_infections"));
  SET_VECTOR_ELT(state_len, 7, ScalarInteger(main_model_p->dim_S1d_infections));
  SET_STRING_ELT(state_names, 7, mkChar("S1d_infections"));
  SET_VECTOR_ELT(state_len, 8, ScalarInteger(main_model_p->dim_cumuHIVDeaths));
  SET_STRING_ELT(state_names, 8, mkChar("cumuHIVDeaths"));
  SET_VECTOR_ELT(state_len, 9, ScalarInteger(main_model_p->dim_cumuARTinitiations));
  SET_STRING_ELT(state_names, 9, mkChar("cumuARTinitiations"));
  SET_VECTOR_ELT(state_len, 10, ScalarInteger(main_model_p->dim_TasPinitiations));
  SET_STRING_ELT(state_names, 10, mkChar("TasPinitiations"));
  SET_VECTOR_ELT(state_len, 11, ScalarInteger(main_model_p->dim_cumuARTREinitiations));
  SET_STRING_ELT(state_names, 11, mkChar("cumuARTREinitiations"));
  SET_VECTOR_ELT(state_len, 12, ScalarInteger(main_model_p->dim_dropouts));
  SET_STRING_ELT(state_names, 12, mkChar("dropouts"));
  SET_VECTOR_ELT(state_len, 13, ScalarInteger(main_model_p->dim_cumuAllDeaths));
  SET_STRING_ELT(state_names, 13, mkChar("cumuAllDeaths"));
  SET_VECTOR_ELT(state_len, 14, ScalarInteger(main_model_p->dim_cumuInf));
  SET_STRING_ELT(state_names, 14, mkChar("cumuInf"));
  SET_VECTOR_ELT(state_len, 15, ScalarInteger(main_model_p->dim_PrEPinitiations));
  SET_STRING_ELT(state_names, 15, mkChar("PrEPinitiations"));
  SET_VECTOR_ELT(state_len, 16, ScalarInteger(main_model_p->dim_PrEPinitiations1a));
  SET_STRING_ELT(state_names, 16, mkChar("PrEPinitiations1a"));
  SET_VECTOR_ELT(state_len, 17, ScalarInteger(main_model_p->dim_PrEPinitiations1b));
  SET_STRING_ELT(state_names, 17, mkChar("PrEPinitiations1b"));
  SET_VECTOR_ELT(state_len, 18, ScalarInteger(main_model_p->dim_PrEPinitiations1c));
  SET_STRING_ELT(state_names, 18, mkChar("PrEPinitiations1c"));
  SET_VECTOR_ELT(state_len, 19, ScalarInteger(main_model_p->dim_S0));
  SET_STRING_ELT(state_names, 19, mkChar("S0"));
  SET_VECTOR_ELT(state_len, 20, ScalarInteger(main_model_p->dim_S1a));
  SET_STRING_ELT(state_names, 20, mkChar("S1a"));
  SET_VECTOR_ELT(state_len, 21, ScalarInteger(main_model_p->dim_S1b));
  SET_STRING_ELT(state_names, 21, mkChar("S1b"));
  SET_VECTOR_ELT(state_len, 22, ScalarInteger(main_model_p->dim_S1c));
  SET_STRING_ELT(state_names, 22, mkChar("S1c"));
  SET_VECTOR_ELT(state_len, 23, ScalarInteger(main_model_p->dim_S1d));
  SET_STRING_ELT(state_names, 23, mkChar("S1d"));
  SET_VECTOR_ELT(state_len, 24, ScalarInteger(main_model_p->dim_I01));
  SET_STRING_ELT(state_names, 24, mkChar("I01"));
  SET_VECTOR_ELT(state_len, 25, ScalarInteger(main_model_p->dim_I11));
  SET_STRING_ELT(state_names, 25, mkChar("I11"));
  SET_VECTOR_ELT(state_len, 26, ScalarInteger(main_model_p->dim_I02));
  SET_STRING_ELT(state_names, 26, mkChar("I02"));
  SET_VECTOR_ELT(state_len, 27, ScalarInteger(main_model_p->dim_I03));
  SET_STRING_ELT(state_names, 27, mkChar("I03"));
  SET_VECTOR_ELT(state_len, 28, ScalarInteger(main_model_p->dim_I04));
  SET_STRING_ELT(state_names, 28, mkChar("I04"));
  SET_VECTOR_ELT(state_len, 29, ScalarInteger(main_model_p->dim_I05));
  SET_STRING_ELT(state_names, 29, mkChar("I05"));
  SET_VECTOR_ELT(state_len, 30, ScalarInteger(main_model_p->dim_I22));
  SET_STRING_ELT(state_names, 30, mkChar("I22"));
  SET_VECTOR_ELT(state_len, 31, ScalarInteger(main_model_p->dim_I23));
  SET_STRING_ELT(state_names, 31, mkChar("I23"));
  SET_VECTOR_ELT(state_len, 32, ScalarInteger(main_model_p->dim_I24));
  SET_STRING_ELT(state_names, 32, mkChar("I24"));
  SET_VECTOR_ELT(state_len, 33, ScalarInteger(main_model_p->dim_I25));
  SET_STRING_ELT(state_names, 33, mkChar("I25"));
  SET_VECTOR_ELT(state_len, 34, ScalarInteger(main_model_p->dim_I32));
  SET_STRING_ELT(state_names, 34, mkChar("I32"));
  SET_VECTOR_ELT(state_len, 35, ScalarInteger(main_model_p->dim_I33));
  SET_STRING_ELT(state_names, 35, mkChar("I33"));
  SET_VECTOR_ELT(state_len, 36, ScalarInteger(main_model_p->dim_I34));
  SET_STRING_ELT(state_names, 36, mkChar("I34"));
  SET_VECTOR_ELT(state_len, 37, ScalarInteger(main_model_p->dim_I35));
  SET_STRING_ELT(state_names, 37, mkChar("I35"));
  SET_VECTOR_ELT(state_len, 38, ScalarInteger(main_model_p->dim_I42));
  SET_STRING_ELT(state_names, 38, mkChar("I42"));
  SET_VECTOR_ELT(state_len, 39, ScalarInteger(main_model_p->dim_I43));
  SET_STRING_ELT(state_names, 39, mkChar("I43"));
  SET_VECTOR_ELT(state_len, 40, ScalarInteger(main_model_p->dim_I44));
  SET_STRING_ELT(state_names, 40, mkChar("I44"));
  SET_VECTOR_ELT(state_len, 41, ScalarInteger(main_model_p->dim_I45));
  SET_STRING_ELT(state_names, 41, mkChar("I45"));
  setAttrib(state_len, R_NamesSymbol, state_names);
  UNPROTECT(2);
  return state_len;
}

// Report back to R information on output variable ordering
// Like the variable order above, but for any output vars
SEXP main_model_output_order(SEXP main_model_ptr) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  int *tmp;
  SEXP state_len = PROTECT(allocVector(VECSXP, 181));
  SEXP state_names = PROTECT(allocVector(STRSXP, 181));
  SET_VECTOR_ELT(state_len, 0, R_NilValue);
  SET_STRING_ELT(state_names, 0, mkChar("infected_FSW_incoming"));
  SET_VECTOR_ELT(state_len, 1, R_NilValue);
  SET_STRING_ELT(state_names, 1, mkChar("prop_FSW_I0_1"));
  SET_VECTOR_ELT(state_len, 2, R_NilValue);
  SET_STRING_ELT(state_names, 2, mkChar("prop_FSW_I0_2"));
  SET_VECTOR_ELT(state_len, 3, R_NilValue);
  SET_STRING_ELT(state_names, 3, mkChar("prop_FSW_I0_3"));
  SET_VECTOR_ELT(state_len, 4, R_NilValue);
  SET_STRING_ELT(state_names, 4, mkChar("prop_FSW_I0_4"));
  SET_VECTOR_ELT(state_len, 5, R_NilValue);
  SET_STRING_ELT(state_names, 5, mkChar("prop_FSW_I0_5"));
  SET_VECTOR_ELT(state_len, 6, R_NilValue);
  SET_STRING_ELT(state_names, 6, mkChar("testpar"));
  SET_VECTOR_ELT(state_len, 7, R_NilValue);
  SET_STRING_ELT(state_names, 7, mkChar("who_believe_comm"));
  SET_VECTOR_ELT(state_len, 8, R_NilValue);
  SET_STRING_ELT(state_names, 8, mkChar("ART_eligible_CD4_above_500"));
  SET_VECTOR_ELT(state_len, 9, R_NilValue);
  SET_STRING_ELT(state_names, 9, mkChar("ART_eligible_CD4_350_500"));
  SET_VECTOR_ELT(state_len, 10, R_NilValue);
  SET_STRING_ELT(state_names, 10, mkChar("ART_eligible_CD4_200_349"));
  SET_VECTOR_ELT(state_len, 11, R_NilValue);
  SET_STRING_ELT(state_names, 11, mkChar("ART_eligible_CD4_below_200"));
  SET_VECTOR_ELT(state_len, 12, R_NilValue);
  SET_STRING_ELT(state_names, 12, mkChar("TasP_testing"));
  SET_VECTOR_ELT(state_len, 13, R_NilValue);
  SET_STRING_ELT(state_names, 13, mkChar("PrEPOnOff"));
  SET_VECTOR_ELT(state_len, 14, R_NilValue);
  SET_STRING_ELT(state_names, 14, mkChar("fPa"));
  SET_VECTOR_ELT(state_len, 15, R_NilValue);
  SET_STRING_ELT(state_names, 15, mkChar("fPb"));
  SET_VECTOR_ELT(state_len, 16, R_NilValue);
  SET_STRING_ELT(state_names, 16, mkChar("fPc"));
  SET_VECTOR_ELT(state_len, 17, R_NilValue);
  SET_STRING_ELT(state_names, 17, mkChar("prep_efficacious"));
  SET_VECTOR_ELT(state_len, 18, R_NilValue);
  SET_STRING_ELT(state_names, 18, mkChar("W0"));
  SET_VECTOR_ELT(state_len, 19, R_NilValue);
  SET_STRING_ELT(state_names, 19, mkChar("W1"));
  SET_VECTOR_ELT(state_len, 20, R_NilValue);
  SET_STRING_ELT(state_names, 20, mkChar("W2"));
  SET_VECTOR_ELT(state_len, 21, R_NilValue);
  SET_STRING_ELT(state_names, 21, mkChar("W3"));
  SET_VECTOR_ELT(state_len, 22, R_NilValue);
  SET_STRING_ELT(state_names, 22, mkChar("cost_Initiation_of_ART_study_FSW"));
  SET_VECTOR_ELT(state_len, 23, R_NilValue);
  SET_STRING_ELT(state_names, 23, mkChar("cost_Initiation_of_ART_government_FSW"));
  SET_VECTOR_ELT(state_len, 24, R_NilValue);
  SET_STRING_ELT(state_names, 24, mkChar("cost_1_year_of_ART_study_FSW"));
  SET_VECTOR_ELT(state_len, 25, R_NilValue);
  SET_STRING_ELT(state_names, 25, mkChar("cost_1_year_of_ART_government_FSW"));
  SET_VECTOR_ELT(state_len, 26, R_NilValue);
  SET_STRING_ELT(state_names, 26, mkChar("cost_Initiation_ART_rest_of_population"));
  SET_VECTOR_ELT(state_len, 27, R_NilValue);
  SET_STRING_ELT(state_names, 27, mkChar("cost_1_year_of_ART_rest_of_population"));
  SET_VECTOR_ELT(state_len, 28, R_NilValue);
  SET_STRING_ELT(state_names, 28, mkChar("cost_FSW_initiation_ART_Patient_costs"));
  SET_VECTOR_ELT(state_len, 29, R_NilValue);
  SET_STRING_ELT(state_names, 29, mkChar("cost_FSW_1_year_ART_Patient_costs"));
  SET_VECTOR_ELT(state_len, 30, R_NilValue);
  SET_STRING_ELT(state_names, 30, mkChar("cost_Initiation_of_PrEP_study"));
  SET_VECTOR_ELT(state_len, 31, R_NilValue);
  SET_STRING_ELT(state_names, 31, mkChar("cost_1_year_PrEP_perfect_adherence_study"));
  SET_VECTOR_ELT(state_len, 32, R_NilValue);
  SET_STRING_ELT(state_names, 32, mkChar("cost_1_year_PrEP_intermediate_adherence_study"));
  SET_VECTOR_ELT(state_len, 33, R_NilValue);
  SET_STRING_ELT(state_names, 33, mkChar("cost_1_year_PrEP_non_adherence_study"));
  SET_VECTOR_ELT(state_len, 34, R_NilValue);
  SET_STRING_ELT(state_names, 34, mkChar("cost_Initiation_of_PrEP_government"));
  SET_VECTOR_ELT(state_len, 35, R_NilValue);
  SET_STRING_ELT(state_names, 35, mkChar("cost_1_year_PrEP_perfect_adherence_government"));
  SET_VECTOR_ELT(state_len, 36, R_NilValue);
  SET_STRING_ELT(state_names, 36, mkChar("cost_1_year_PrEP_intermediate_adherence_government"));
  SET_VECTOR_ELT(state_len, 37, R_NilValue);
  SET_STRING_ELT(state_names, 37, mkChar("cost_1_year_PrEP_non_adherence_government"));
  SET_VECTOR_ELT(state_len, 38, R_NilValue);
  SET_STRING_ELT(state_names, 38, mkChar("cost_PREP_initiation_Patient_costs"));
  SET_VECTOR_ELT(state_len, 39, R_NilValue);
  SET_STRING_ELT(state_names, 39, mkChar("cost_PREP_1_year_ART_Patient_costs"));
  SET_VECTOR_ELT(state_len, 40, R_NilValue);
  SET_STRING_ELT(state_names, 40, mkChar("cumuInftot"));
  SET_VECTOR_ELT(state_len, 41, R_NilValue);
  SET_STRING_ELT(state_names, 41, mkChar("ART_sex_ratio"));
  SET_VECTOR_ELT(state_len, 42, R_NilValue);
  SET_STRING_ELT(state_names, 42, mkChar("pc_S1a"));
  SET_VECTOR_ELT(state_len, 43, R_NilValue);
  SET_STRING_ELT(state_names, 43, mkChar("pc_S1b"));
  SET_VECTOR_ELT(state_len, 44, R_NilValue);
  SET_STRING_ELT(state_names, 44, mkChar("pc_S1c"));
  SET_VECTOR_ELT(state_len, 45, R_NilValue);
  SET_STRING_ELT(state_names, 45, mkChar("pc_susceptible_FSW_On_PrEP"));
  SET_VECTOR_ELT(state_len, 46, R_NilValue);
  SET_STRING_ELT(state_names, 46, mkChar("pc_all_FSW_On_PrEP"));
  SET_VECTOR_ELT(state_len, 47, R_NilValue);
  SET_STRING_ELT(state_names, 47, mkChar("FSW_On_PrEP_all_cats"));
  SET_VECTOR_ELT(state_len, 48, R_NilValue);
  SET_STRING_ELT(state_names, 48, mkChar("Men_on_ART"));
  SET_VECTOR_ELT(state_len, 49, R_NilValue);
  SET_STRING_ELT(state_names, 49, mkChar("Women_on_ART"));
  SET_VECTOR_ELT(state_len, 50, R_NilValue);
  SET_STRING_ELT(state_names, 50, mkChar("ART_coverage_men"));
  SET_VECTOR_ELT(state_len, 51, R_NilValue);
  SET_STRING_ELT(state_names, 51, mkChar("ART_coverage_women"));
  SET_VECTOR_ELT(state_len, 52, R_NilValue);
  SET_STRING_ELT(state_names, 52, mkChar("ART_coverage_FSW"));
  SET_VECTOR_ELT(state_len, 53, R_NilValue);
  SET_STRING_ELT(state_names, 53, mkChar("ART_coverage_all"));
  SET_VECTOR_ELT(state_len, 54, R_NilValue);
  SET_STRING_ELT(state_names, 54, mkChar("Ncat"));
  SET_VECTOR_ELT(state_len, 55, R_NilValue);
  SET_STRING_ELT(state_names, 55, mkChar("nu"));
  SET_VECTOR_ELT(state_len, 56, R_NilValue);
  SET_STRING_ELT(state_names, 56, mkChar("Nage"));
  SET_VECTOR_ELT(state_len, 57, R_NilValue);
  SET_STRING_ELT(state_names, 57, mkChar("dur_FSW"));
  SET_VECTOR_ELT(state_len, 58, R_NilValue);
  SET_STRING_ELT(state_names, 58, mkChar("epsilon"));
  SET_VECTOR_ELT(state_len, 59, R_NilValue);
  SET_STRING_ELT(state_names, 59, mkChar("Ntot_inc_former_FSW_nonCot"));
  SET_VECTOR_ELT(state_len, 60, R_NilValue);
  SET_STRING_ELT(state_names, 60, mkChar("new_people"));
  SET_VECTOR_ELT(state_len, 61, R_NilValue);
  SET_STRING_ELT(state_names, 61, mkChar("frac_virgin"));
  SET_VECTOR_ELT(state_len, 62, R_NilValue);
  SET_STRING_ELT(state_names, 62, mkChar("prev_LowFSW"));
  SET_VECTOR_ELT(state_len, 63, R_NilValue);
  SET_STRING_ELT(state_names, 63, mkChar("prev_men"));
  SET_VECTOR_ELT(state_len, 64, R_NilValue);
  SET_STRING_ELT(state_names, 64, mkChar("prev_women"));
  SET_VECTOR_ELT(state_len, 65, R_NilValue);
  SET_STRING_ELT(state_names, 65, mkChar("prev_cotonou"));
  SET_VECTOR_ELT(state_len, 66, R_NilValue);
  SET_STRING_ELT(state_names, 66, mkChar("Ntot"));
  SET_VECTOR_ELT(state_len, 67, R_NilValue);
  SET_STRING_ELT(state_names, 67, mkChar("prev_FSW"));
  SET_VECTOR_ELT(state_len, 68, R_NilValue);
  SET_STRING_ELT(state_names, 68, mkChar("prev_client"));
  SET_VECTOR_ELT(state_len, 69, R_NilValue);
  SET_STRING_ELT(state_names, 69, mkChar("B_check_comm"));
  SET_VECTOR_ELT(state_len, 70, R_NilValue);
  SET_STRING_ELT(state_names, 70, mkChar("B_check_noncomm"));
  SET_VECTOR_ELT(state_len, 71, R_NilValue);
  SET_STRING_ELT(state_names, 71, mkChar("pc_of_FOI_on_clients_from_pro_FSW"));
  SET_VECTOR_ELT(state_len, 72, R_NilValue);
  SET_STRING_ELT(state_names, 72, mkChar("FSW_in"));
  SET_VECTOR_ELT(state_len, 73, R_NilValue);
  SET_STRING_ELT(state_names, 73, mkChar("FSW_out"));
  SET_VECTOR_ELT(state_len, 74, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 74));
  tmp[0] = main_model_p->dim_infect_ART_y_1;
  tmp[1] = main_model_p->dim_infect_ART_y_2;
  SET_STRING_ELT(state_names, 74, mkChar("infect_ART_y"));
  SET_VECTOR_ELT(state_len, 75, ScalarInteger(main_model_p->dim_infect_ART_t));
  SET_STRING_ELT(state_names, 75, mkChar("infect_ART_t"));
  SET_VECTOR_ELT(state_len, 76, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 76));
  tmp[0] = main_model_p->dim_viral_supp_y_1;
  tmp[1] = main_model_p->dim_viral_supp_y_2;
  SET_STRING_ELT(state_names, 76, mkChar("viral_supp_y"));
  SET_VECTOR_ELT(state_len, 77, ScalarInteger(main_model_p->dim_viral_supp_t));
  SET_STRING_ELT(state_names, 77, mkChar("viral_supp_t"));
  SET_VECTOR_ELT(state_len, 78, ScalarInteger(main_model_p->dim_gamma32_without_supp));
  SET_STRING_ELT(state_names, 78, mkChar("gamma32_without_supp"));
  SET_VECTOR_ELT(state_len, 79, ScalarInteger(main_model_p->dim_gamma33_without_supp));
  SET_STRING_ELT(state_names, 79, mkChar("gamma33_without_supp"));
  SET_VECTOR_ELT(state_len, 80, ScalarInteger(main_model_p->dim_gamma34_without_supp));
  SET_STRING_ELT(state_names, 80, mkChar("gamma34_without_supp"));
  SET_VECTOR_ELT(state_len, 81, ScalarInteger(main_model_p->dim_alpha33_without_supp));
  SET_STRING_ELT(state_names, 81, mkChar("alpha33_without_supp"));
  SET_VECTOR_ELT(state_len, 82, ScalarInteger(main_model_p->dim_alpha34_without_supp));
  SET_STRING_ELT(state_names, 82, mkChar("alpha34_without_supp"));
  SET_VECTOR_ELT(state_len, 83, ScalarInteger(main_model_p->dim_alpha35_without_supp));
  SET_STRING_ELT(state_names, 83, mkChar("alpha35_without_supp"));
  SET_VECTOR_ELT(state_len, 84, ScalarInteger(main_model_p->dim_c_comm));
  SET_STRING_ELT(state_names, 84, mkChar("c_comm"));
  SET_VECTOR_ELT(state_len, 85, ScalarInteger(main_model_p->dim_c_noncomm));
  SET_STRING_ELT(state_names, 85, mkChar("c_noncomm"));
  SET_VECTOR_ELT(state_len, 86, ScalarInteger(main_model_p->dim_pfFSW));
  SET_STRING_ELT(state_names, 86, mkChar("pfFSW"));
  SET_VECTOR_ELT(state_len, 87, ScalarInteger(main_model_p->dim_new_acute_infected));
  SET_STRING_ELT(state_names, 87, mkChar("new_acute_infected"));
  SET_VECTOR_ELT(state_len, 88, ScalarInteger(main_model_p->dim_new_people_in_group));
  SET_STRING_ELT(state_names, 88, mkChar("new_people_in_group"));
  SET_VECTOR_ELT(state_len, 89, ScalarInteger(main_model_p->dim_new_people_in_group_FSW_only));
  SET_STRING_ELT(state_names, 89, mkChar("new_people_in_group_FSW_only"));
  SET_VECTOR_ELT(state_len, 90, ScalarInteger(main_model_p->dim_above_500_by_group));
  SET_STRING_ELT(state_names, 90, mkChar("above_500_by_group"));
  SET_VECTOR_ELT(state_len, 91, ScalarInteger(main_model_p->dim_testing_prob));
  SET_STRING_ELT(state_names, 91, mkChar("testing_prob"));
  SET_VECTOR_ELT(state_len, 92, ScalarInteger(main_model_p->dim_tau_intervention));
  SET_STRING_ELT(state_names, 92, mkChar("tau_intervention"));
  SET_VECTOR_ELT(state_len, 93, ScalarInteger(main_model_p->dim_rho_intervention));
  SET_STRING_ELT(state_names, 93, mkChar("rho_intervention"));
  SET_VECTOR_ELT(state_len, 94, ScalarInteger(main_model_p->dim_zeta));
  SET_STRING_ELT(state_names, 94, mkChar("zeta"));
  SET_VECTOR_ELT(state_len, 95, ScalarInteger(main_model_p->dim_eP1a_effective));
  SET_STRING_ELT(state_names, 95, mkChar("eP1a_effective"));
  SET_VECTOR_ELT(state_len, 96, ScalarInteger(main_model_p->dim_eP1b_effective));
  SET_STRING_ELT(state_names, 96, mkChar("eP1b_effective"));
  SET_VECTOR_ELT(state_len, 97, ScalarInteger(main_model_p->dim_eP1c_effective));
  SET_STRING_ELT(state_names, 97, mkChar("eP1c_effective"));
  SET_VECTOR_ELT(state_len, 98, ScalarInteger(main_model_p->dim_tau));
  SET_STRING_ELT(state_names, 98, mkChar("tau"));
  SET_VECTOR_ELT(state_len, 99, ScalarInteger(main_model_p->dim_rho));
  SET_STRING_ELT(state_names, 99, mkChar("rho"));
  SET_VECTOR_ELT(state_len, 100, ScalarInteger(main_model_p->dim_iota));
  SET_STRING_ELT(state_names, 100, mkChar("iota"));
  SET_VECTOR_ELT(state_len, 101, ScalarInteger(main_model_p->dim_viral_supp));
  SET_STRING_ELT(state_names, 101, mkChar("viral_supp"));
  SET_VECTOR_ELT(state_len, 102, ScalarInteger(main_model_p->dim_HIV_positive));
  SET_STRING_ELT(state_names, 102, mkChar("HIV_positive"));
  SET_VECTOR_ELT(state_len, 103, ScalarInteger(main_model_p->dim_Number_Susceptibles));
  SET_STRING_ELT(state_names, 103, mkChar("Number_Susceptibles"));
  SET_VECTOR_ELT(state_len, 104, ScalarInteger(main_model_p->dim_HIV_positive_Diagnosed_Off_ART));
  SET_STRING_ELT(state_names, 104, mkChar("HIV_positive_Diagnosed_Off_ART"));
  SET_VECTOR_ELT(state_len, 105, ScalarInteger(main_model_p->dim_Primary_Off_ART));
  SET_STRING_ELT(state_names, 105, mkChar("Primary_Off_ART"));
  SET_VECTOR_ELT(state_len, 106, ScalarInteger(main_model_p->dim_CD4_above_500_Off_ART));
  SET_STRING_ELT(state_names, 106, mkChar("CD4_above_500_Off_ART"));
  SET_VECTOR_ELT(state_len, 107, ScalarInteger(main_model_p->dim_CD4_350_500_Off_ART));
  SET_STRING_ELT(state_names, 107, mkChar("CD4_350_500_Off_ART"));
  SET_VECTOR_ELT(state_len, 108, ScalarInteger(main_model_p->dim_CD4_200_350_Off_ART));
  SET_STRING_ELT(state_names, 108, mkChar("CD4_200_350_Off_ART"));
  SET_VECTOR_ELT(state_len, 109, ScalarInteger(main_model_p->dim_CD4_below_200_Off_ART));
  SET_STRING_ELT(state_names, 109, mkChar("CD4_below_200_Off_ART"));
  SET_VECTOR_ELT(state_len, 110, ScalarInteger(main_model_p->dim_HIV_positive_On_ART));
  SET_STRING_ELT(state_names, 110, mkChar("HIV_positive_On_ART"));
  SET_VECTOR_ELT(state_len, 111, ScalarInteger(main_model_p->dim_Number_DALY_W1));
  SET_STRING_ELT(state_names, 111, mkChar("Number_DALY_W1"));
  SET_VECTOR_ELT(state_len, 112, ScalarInteger(main_model_p->dim_Number_DALY_W2));
  SET_STRING_ELT(state_names, 112, mkChar("Number_DALY_W2"));
  SET_VECTOR_ELT(state_len, 113, ScalarInteger(main_model_p->dim_Number_DALY_W3));
  SET_STRING_ELT(state_names, 113, mkChar("Number_DALY_W3"));
  SET_VECTOR_ELT(state_len, 114, ScalarInteger(main_model_p->dim_frac_F));
  SET_STRING_ELT(state_names, 114, mkChar("frac_F"));
  SET_VECTOR_ELT(state_len, 115, ScalarInteger(main_model_p->dim_frac_N_sexualpop));
  SET_STRING_ELT(state_names, 115, mkChar("frac_N_sexualpop"));
  SET_VECTOR_ELT(state_len, 116, ScalarInteger(main_model_p->dim_ART_coverage));
  SET_STRING_ELT(state_names, 116, mkChar("ART_coverage"));
  SET_VECTOR_ELT(state_len, 117, ScalarInteger(main_model_p->dim_infect_ART));
  SET_STRING_ELT(state_names, 117, mkChar("infect_ART"));
  SET_VECTOR_ELT(state_len, 118, ScalarInteger(main_model_p->dim_prep_offered));
  SET_STRING_ELT(state_names, 118, mkChar("prep_offered"));
  SET_VECTOR_ELT(state_len, 119, ScalarInteger(main_model_p->dim_omega));
  SET_STRING_ELT(state_names, 119, mkChar("omega"));
  SET_VECTOR_ELT(state_len, 120, ScalarInteger(main_model_p->dim_frac_N));
  SET_STRING_ELT(state_names, 120, mkChar("frac_N"));
  SET_VECTOR_ELT(state_len, 121, ScalarInteger(main_model_p->dim_mu));
  SET_STRING_ELT(state_names, 121, mkChar("mu"));
  SET_VECTOR_ELT(state_len, 122, ScalarInteger(main_model_p->dim_gamma01));
  SET_STRING_ELT(state_names, 122, mkChar("gamma01"));
  SET_VECTOR_ELT(state_len, 123, ScalarInteger(main_model_p->dim_gamma11));
  SET_STRING_ELT(state_names, 123, mkChar("gamma11"));
  SET_VECTOR_ELT(state_len, 124, ScalarInteger(main_model_p->dim_gamma32));
  SET_STRING_ELT(state_names, 124, mkChar("gamma32"));
  SET_VECTOR_ELT(state_len, 125, ScalarInteger(main_model_p->dim_gamma33));
  SET_STRING_ELT(state_names, 125, mkChar("gamma33"));
  SET_VECTOR_ELT(state_len, 126, ScalarInteger(main_model_p->dim_gamma34));
  SET_STRING_ELT(state_names, 126, mkChar("gamma34"));
  SET_VECTOR_ELT(state_len, 127, ScalarInteger(main_model_p->dim_kappaa));
  SET_STRING_ELT(state_names, 127, mkChar("kappaa"));
  SET_VECTOR_ELT(state_len, 128, ScalarInteger(main_model_p->dim_kappab));
  SET_STRING_ELT(state_names, 128, mkChar("kappab"));
  SET_VECTOR_ELT(state_len, 129, ScalarInteger(main_model_p->dim_kappac));
  SET_STRING_ELT(state_names, 129, mkChar("kappac"));
  SET_VECTOR_ELT(state_len, 130, ScalarInteger(main_model_p->dim_kappa1));
  SET_STRING_ELT(state_names, 130, mkChar("kappa1"));
  SET_VECTOR_ELT(state_len, 131, ScalarInteger(main_model_p->dim_alpha01));
  SET_STRING_ELT(state_names, 131, mkChar("alpha01"));
  SET_VECTOR_ELT(state_len, 132, ScalarInteger(main_model_p->dim_alpha02));
  SET_STRING_ELT(state_names, 132, mkChar("alpha02"));
  SET_VECTOR_ELT(state_len, 133, ScalarInteger(main_model_p->dim_alpha05));
  SET_STRING_ELT(state_names, 133, mkChar("alpha05"));
  SET_VECTOR_ELT(state_len, 134, ScalarInteger(main_model_p->dim_alpha11));
  SET_STRING_ELT(state_names, 134, mkChar("alpha11"));
  SET_VECTOR_ELT(state_len, 135, ScalarInteger(main_model_p->dim_alpha22));
  SET_STRING_ELT(state_names, 135, mkChar("alpha22"));
  SET_VECTOR_ELT(state_len, 136, ScalarInteger(main_model_p->dim_alpha33));
  SET_STRING_ELT(state_names, 136, mkChar("alpha33"));
  SET_VECTOR_ELT(state_len, 137, ScalarInteger(main_model_p->dim_alpha34));
  SET_STRING_ELT(state_names, 137, mkChar("alpha34"));
  SET_VECTOR_ELT(state_len, 138, ScalarInteger(main_model_p->dim_alpha35));
  SET_STRING_ELT(state_names, 138, mkChar("alpha35"));
  SET_VECTOR_ELT(state_len, 139, ScalarInteger(main_model_p->dim_beta_comm));
  SET_STRING_ELT(state_names, 139, mkChar("beta_comm"));
  SET_VECTOR_ELT(state_len, 140, ScalarInteger(main_model_p->dim_beta_noncomm));
  SET_STRING_ELT(state_names, 140, mkChar("beta_noncomm"));
  SET_VECTOR_ELT(state_len, 141, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 141));
  tmp[0] = main_model_p->dim_p_comm_1;
  tmp[1] = main_model_p->dim_p_comm_2;
  SET_STRING_ELT(state_names, 141, mkChar("p_comm"));
  SET_VECTOR_ELT(state_len, 142, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 142));
  tmp[0] = main_model_p->dim_p_noncomm_1;
  tmp[1] = main_model_p->dim_p_noncomm_2;
  SET_STRING_ELT(state_names, 142, mkChar("p_noncomm"));
  SET_VECTOR_ELT(state_len, 143, ScalarInteger(main_model_p->dim_eP0));
  SET_STRING_ELT(state_names, 143, mkChar("eP0"));
  SET_VECTOR_ELT(state_len, 144, ScalarInteger(main_model_p->dim_eP1a));
  SET_STRING_ELT(state_names, 144, mkChar("eP1a"));
  SET_VECTOR_ELT(state_len, 145, ScalarInteger(main_model_p->dim_eP1b));
  SET_STRING_ELT(state_names, 145, mkChar("eP1b"));
  SET_VECTOR_ELT(state_len, 146, ScalarInteger(main_model_p->dim_eP1c));
  SET_STRING_ELT(state_names, 146, mkChar("eP1c"));
  SET_VECTOR_ELT(state_len, 147, ScalarInteger(main_model_p->dim_eP1d));
  SET_STRING_ELT(state_names, 147, mkChar("eP1d"));
  SET_VECTOR_ELT(state_len, 148, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 148));
  tmp[0] = main_model_p->dim_fc_comm_1;
  tmp[1] = main_model_p->dim_fc_comm_2;
  SET_STRING_ELT(state_names, 148, mkChar("fc_comm"));
  SET_VECTOR_ELT(state_len, 149, ScalarInteger(main_model_p->dim_fP_comm));
  SET_STRING_ELT(state_names, 149, mkChar("fP_comm"));
  SET_VECTOR_ELT(state_len, 150, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 150));
  tmp[0] = main_model_p->dim_fc_noncomm_1;
  tmp[1] = main_model_p->dim_fc_noncomm_2;
  SET_STRING_ELT(state_names, 150, mkChar("fc_noncomm"));
  SET_VECTOR_ELT(state_len, 151, ScalarInteger(main_model_p->dim_fP_noncomm));
  SET_STRING_ELT(state_names, 151, mkChar("fP_noncomm"));
  SET_VECTOR_ELT(state_len, 152, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 152));
  tmp[0] = main_model_p->dim_n_comm_1;
  tmp[1] = main_model_p->dim_n_comm_2;
  SET_STRING_ELT(state_names, 152, mkChar("n_comm"));
  SET_VECTOR_ELT(state_len, 153, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 153));
  tmp[0] = main_model_p->dim_n_noncomm_1;
  tmp[1] = main_model_p->dim_n_noncomm_2;
  SET_STRING_ELT(state_names, 153, mkChar("n_noncomm"));
  SET_VECTOR_ELT(state_len, 154, ScalarInteger(main_model_p->dim_N));
  SET_STRING_ELT(state_names, 154, mkChar("N"));
  SET_VECTOR_ELT(state_len, 155, ScalarInteger(main_model_p->dim_E0));
  SET_STRING_ELT(state_names, 155, mkChar("E0"));
  SET_VECTOR_ELT(state_len, 156, ScalarInteger(main_model_p->dim_E1a));
  SET_STRING_ELT(state_names, 156, mkChar("E1a"));
  SET_VECTOR_ELT(state_len, 157, ScalarInteger(main_model_p->dim_E1b));
  SET_STRING_ELT(state_names, 157, mkChar("E1b"));
  SET_VECTOR_ELT(state_len, 158, ScalarInteger(main_model_p->dim_E1c));
  SET_STRING_ELT(state_names, 158, mkChar("E1c"));
  SET_VECTOR_ELT(state_len, 159, ScalarInteger(main_model_p->dim_E1d));
  SET_STRING_ELT(state_names, 159, mkChar("E1d"));
  SET_VECTOR_ELT(state_len, 160, ScalarInteger(main_model_p->dim_alphaItot));
  SET_STRING_ELT(state_names, 160, mkChar("alphaItot"));
  SET_VECTOR_ELT(state_len, 161, ScalarInteger(main_model_p->dim_prev));
  SET_STRING_ELT(state_names, 161, mkChar("prev"));
  SET_VECTOR_ELT(state_len, 162, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 162));
  tmp[0] = main_model_p->dim_lambda_1;
  tmp[1] = main_model_p->dim_lambda_2;
  SET_STRING_ELT(state_names, 162, mkChar("lambda"));
  SET_VECTOR_ELT(state_len, 163, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 163));
  tmp[0] = main_model_p->dim_lambda_0_1;
  tmp[1] = main_model_p->dim_lambda_0_2;
  SET_STRING_ELT(state_names, 163, mkChar("lambda_0"));
  SET_VECTOR_ELT(state_len, 164, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 164));
  tmp[0] = main_model_p->dim_lambda_1a_1;
  tmp[1] = main_model_p->dim_lambda_1a_2;
  SET_STRING_ELT(state_names, 164, mkChar("lambda_1a"));
  SET_VECTOR_ELT(state_len, 165, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 165));
  tmp[0] = main_model_p->dim_lambda_1b_1;
  tmp[1] = main_model_p->dim_lambda_1b_2;
  SET_STRING_ELT(state_names, 165, mkChar("lambda_1b"));
  SET_VECTOR_ELT(state_len, 166, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 166));
  tmp[0] = main_model_p->dim_lambda_1c_1;
  tmp[1] = main_model_p->dim_lambda_1c_2;
  SET_STRING_ELT(state_names, 166, mkChar("lambda_1c"));
  SET_VECTOR_ELT(state_len, 167, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 167));
  tmp[0] = main_model_p->dim_lambda_1d_1;
  tmp[1] = main_model_p->dim_lambda_1d_2;
  SET_STRING_ELT(state_names, 167, mkChar("lambda_1d"));
  SET_VECTOR_ELT(state_len, 168, ScalarInteger(main_model_p->dim_lambda_sum_0));
  SET_STRING_ELT(state_names, 168, mkChar("lambda_sum_0"));
  SET_VECTOR_ELT(state_len, 169, ScalarInteger(main_model_p->dim_lambda_sum_1a));
  SET_STRING_ELT(state_names, 169, mkChar("lambda_sum_1a"));
  SET_VECTOR_ELT(state_len, 170, ScalarInteger(main_model_p->dim_lambda_sum_1b));
  SET_STRING_ELT(state_names, 170, mkChar("lambda_sum_1b"));
  SET_VECTOR_ELT(state_len, 171, ScalarInteger(main_model_p->dim_lambda_sum_1c));
  SET_STRING_ELT(state_names, 171, mkChar("lambda_sum_1c"));
  SET_VECTOR_ELT(state_len, 172, ScalarInteger(main_model_p->dim_lambda_sum_1d));
  SET_STRING_ELT(state_names, 172, mkChar("lambda_sum_1d"));
  SET_VECTOR_ELT(state_len, 173, ScalarInteger(main_model_p->dim_c_comm_balanced));
  SET_STRING_ELT(state_names, 173, mkChar("c_comm_balanced"));
  SET_VECTOR_ELT(state_len, 174, ScalarInteger(main_model_p->dim_c_noncomm_balanced));
  SET_STRING_ELT(state_names, 174, mkChar("c_noncomm_balanced"));
  SET_VECTOR_ELT(state_len, 175, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 175));
  tmp[0] = main_model_p->dim_theta_1;
  tmp[1] = main_model_p->dim_theta_2;
  SET_STRING_ELT(state_names, 175, mkChar("theta"));
  SET_VECTOR_ELT(state_len, 176, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 176));
  tmp[0] = main_model_p->dim_M_comm_1;
  tmp[1] = main_model_p->dim_M_comm_2;
  SET_STRING_ELT(state_names, 176, mkChar("M_comm"));
  SET_VECTOR_ELT(state_len, 177, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 177));
  tmp[0] = main_model_p->dim_M_noncomm_1;
  tmp[1] = main_model_p->dim_M_noncomm_2;
  SET_STRING_ELT(state_names, 177, mkChar("M_noncomm"));
  SET_VECTOR_ELT(state_len, 178, allocVector(INTSXP, 2));
  tmp = INTEGER(VECTOR_ELT(state_len, 178));
  tmp[0] = main_model_p->dim_rate_move_in_1;
  tmp[1] = main_model_p->dim_rate_move_in_2;
  SET_STRING_ELT(state_names, 178, mkChar("rate_move_in"));
  SET_VECTOR_ELT(state_len, 179, ScalarInteger(main_model_p->dim_rate_move_out));
  SET_STRING_ELT(state_names, 179, mkChar("rate_move_out"));
  SET_VECTOR_ELT(state_len, 180, ScalarInteger(main_model_p->dim_rate_move_out_PrEP));
  SET_STRING_ELT(state_names, 180, mkChar("rate_move_out_PrEP"));
  setAttrib(state_len, R_NamesSymbol, state_names);
  UNPROTECT(2);
  return state_len;
}

// Report back to R information about interpolating functions
SEXP main_model_interpolate_t(SEXP main_model_ptr) {
  main_model_pars *main_model_p = main_model_get_pointer(main_model_ptr, 1);
  SEXP ret = PROTECT(allocVector(REALSXP, 2));
  double *r = REAL(ret);
  r[0] = main_model_p->c_t_comm[0];
  r[1] = main_model_p->c_t_comm[main_model_p->dim_c_t_comm - 1];
  r[0] = fmax(r[0], main_model_p->c_t_noncomm[0]);
  r[1] = fmin(r[1], main_model_p->c_t_noncomm[main_model_p->dim_c_t_noncomm - 1]);
  r[0] = fmax(r[0], main_model_p->fc_t_comm[0]);
  r[1] = fmin(r[1], main_model_p->fc_t_comm[main_model_p->dim_fc_t_comm - 1]);
  r[0] = fmax(r[0], main_model_p->fc_t_noncomm[0]);
  r[1] = fmin(r[1], main_model_p->fc_t_noncomm[main_model_p->dim_fc_t_noncomm - 1]);
  r[0] = fmax(r[0], main_model_p->fP_t_comm[0]);
  r[1] = fmin(r[1], main_model_p->fP_t_comm[main_model_p->dim_fP_t_comm - 1]);
  r[0] = fmax(r[0], main_model_p->fP_t_noncomm[0]);
  r[1] = fmin(r[1], main_model_p->fP_t_noncomm[main_model_p->dim_fP_t_noncomm - 1]);
  r[0] = fmax(r[0], main_model_p->n_t_comm[0]);
  r[1] = fmin(r[1], main_model_p->n_t_comm[main_model_p->dim_n_t_comm - 1]);
  r[0] = fmax(r[0], main_model_p->n_t_noncomm[0]);
  r[1] = fmin(r[1], main_model_p->n_t_noncomm[main_model_p->dim_n_t_noncomm - 1]);
  r[0] = fmax(r[0], main_model_p->pfFSW_t[0]);
  r[1] = fmin(r[1], main_model_p->pfFSW_t[main_model_p->dim_pfFSW_t - 1]);
  r[0] = fmax(r[0], main_model_p->testing_prob_t[0]);
  r[1] = fmin(r[1], main_model_p->testing_prob_t[main_model_p->dim_testing_prob_t - 1]);
  r[0] = fmax(r[0], main_model_p->ART_eligible_CD4_200_349_t[0]);
  r[0] = fmax(r[0], main_model_p->ART_eligible_CD4_350_500_t[0]);
  r[0] = fmax(r[0], main_model_p->ART_eligible_CD4_above_500_t[0]);
  r[0] = fmax(r[0], main_model_p->ART_eligible_CD4_below_200_t[0]);
  r[0] = fmax(r[0], main_model_p->epsilon_t[0]);
  r[0] = fmax(r[0], main_model_p->infect_ART_t[0]);
  r[0] = fmax(r[0], main_model_p->prep_efficacious_t[0]);
  r[0] = fmax(r[0], main_model_p->prep_intervention_t[0]);
  r[0] = fmax(r[0], main_model_p->rho_intervention_t[0]);
  r[0] = fmax(r[0], main_model_p->tau_intervention_t[0]);
  r[0] = fmax(r[0], main_model_p->viral_supp_t[0]);
  UNPROTECT(1);
  return ret;
}

main_model_pars* main_model_get_pointer(SEXP main_model_ptr, int closed_error) {
  main_model_pars *main_model_p = NULL;
  if (TYPEOF(main_model_ptr) != EXTPTRSXP) {
    Rf_error("Expected an external pointer");
  }
  main_model_p = (main_model_pars*) R_ExternalPtrAddr(main_model_ptr);
  if (!main_model_p && closed_error) {
    Rf_error("Pointer has been invalidated");
  }
  return main_model_p;
}

SEXP get_ds_pars() {
  static DL_FUNC get_deSolve_gparms = NULL;
  if (get_deSolve_gparms == NULL) {
    get_deSolve_gparms = R_GetCCallable("deSolve", "get_deSolve_gparms");
  }
  return get_deSolve_gparms();
}
double get_user_double(SEXP user, const char *name, double default_value) {
  double ret = default_value;
  SEXP el = get_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected scalar numeric for %s", name);
    }
    if (TYPEOF(el) == REALSXP) {
      ret = REAL(el)[0];
    } else if (TYPEOF(el) == INTSXP) {
      ret = INTEGER(el)[0];
    } else {
      Rf_error("Expected a numeric value for %s", name);
    }
  }
  if (ISNA(ret)) {
    Rf_error("Expected value for %s", name);
  }
  return ret;
}
double* get_user_array_dim(SEXP user, const char *name, bool is_real, int nd, int *dest_dim) {
  SEXP el = get_user_array_check_rank(user, name, nd);

  if (nd == 1) {
    dest_dim[0] = LENGTH(el);
  } else {
    SEXP r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
    int *dim = INTEGER(r_dim);

    for (size_t i = 0; i < (size_t) nd; ++i) {
      dest_dim[i] = dim[i];
    }

    UNPROTECT(1);
  }

  void *dest;
  if (is_real) {
    dest = (double*) Calloc(length(el), double);
  } else {
    dest = (int*) Calloc(length(el), int);
  }
  get_user_array_copy(el, name, is_real, dest);
  return dest;
}
SEXP get_user_array_check_rank(SEXP user, const char *name, int nd) {
  SEXP el = get_list_element(user, name);
  if (el == R_NilValue) {
    Rf_error("Expected value for %s", name);
  } else {
    if (nd == 1) {
      if (isArray(el)) {
        // this may be too strict as a length-1 dim here will fail
        Rf_error("Expected a vector for %s", name);
      }
    } else {
      SEXP r_dim = getAttrib(el, R_DimSymbol);
      if (r_dim == R_NilValue || LENGTH(r_dim) != nd) {
        if (nd == 2) {
          Rf_error("Expected a matrix for %s", name);
        } else {
          Rf_error("Expected a %dd array for %s", nd, name);
        }
      }
    }
  }
  return el;
}
void get_user_array_copy(SEXP el, const char *name, bool is_real, void *dest) {
  int given_int = TYPEOF(el) == INTSXP;
  size_t n = (size_t) length(el);
  if (is_real) {
    if (given_int) {
      el = PROTECT(coerceVector(el, REALSXP));
    } else if (TYPEOF(el) != REALSXP) {
      Rf_error("Expected a numeric value for %s", name);
    }
    memcpy(dest, REAL(el), n * sizeof(double));
  } else {
    if (TYPEOF(el) == REALSXP) {
      el = PROTECT(coerceVector(el, INTSXP));
    } else if (TYPEOF(el) != INTSXP) {
      Rf_error("Expected a numeric value for %s", name);
    }
    memcpy(dest, INTEGER(el), n * sizeof(int));
  }
  if (given_int == is_real) {
    UNPROTECT(1);
  }
}
void odin_set_dim(SEXP target, int nd, ...) {
  SEXP r_dim = PROTECT(allocVector(INTSXP, nd));
  int *dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, nd);
  for (size_t i = 0; i < (size_t)nd; ++i) {
    dim[i] = va_arg(ap, int);
  }
  va_end(ap);

  setAttrib(target, R_DimSymbol, r_dim);
  UNPROTECT(1);
}
int get_user_int(SEXP user, const char *name, int default_value) {
  int ret = default_value;
  SEXP el = get_list_element(user, name);
  if (el != R_NilValue) {
    if (length(el) != 1) {
      Rf_error("Expected scalar integer for %d", name);
    }
    ret = INTEGER(coerceVector(el, INTSXP))[0];
  }
  if (ret == NA_INTEGER) {
    Rf_error("Expected value for %s", name);
  }
  return ret;
}
void get_user_array(SEXP user, const char *name, bool is_real, void *dest, int nd, ...) {
  SEXP el = get_user_array_check_rank(user, name, nd);
  SEXP r_dim;
  int *dim;

  if (nd == 1) {
    r_dim = PROTECT(ScalarInteger(LENGTH(el)));
  } else {
    r_dim = PROTECT(coerceVector(getAttrib(el, R_DimSymbol), INTSXP));
  }
  dim = INTEGER(r_dim);

  va_list ap;
  va_start(ap, nd);
  for (size_t i = 0; i < (size_t) nd; ++i) {
    int dim_expected = va_arg(ap, int);
    if (dim[i] != dim_expected) {
      va_end(ap); // avoid a leak
      if (nd == 1) {
        Rf_error("Expected length %d value for %s", dim_expected, name);
      } else {
        Rf_error("Incorrect size of dimension %d of %s (expected %d)",
                 i + 1, name, dim_expected);
      }
    }
  }
  va_end(ap);
  UNPROTECT(1);

  get_user_array_copy(el, name, is_real, dest);
}
SEXP get_list_element(SEXP list, const char *name) {
  SEXP ret = R_NilValue, names = getAttrib(list, R_NamesSymbol);
  for (int i = 0; i < length(list); ++i) {
    if(strcmp(CHAR(STRING_ELT(names, i)), name) == 0) {
      ret = VECTOR_ELT(list, i);
      break;
    }
  }
  return ret;
}
void odin_interpolate_check(size_t nx, size_t ny, size_t i, const char *name_arg, const char *name_target) {
  if (nx != ny) {
    if (i == 0) {
      // vector case
      Rf_error("Expected %s to have length %d (for %s)",
               name_arg, nx, name_target);
    } else {
      // array case
      Rf_error("Expected dimension %d of %s to have size %d (for %s)",
               i, name_arg, nx, name_target);
    }
  }
}
double odin_sum1(double *x, int from_i, int to_i) {
  double tot = 0.0;
  for (int i = from_i; i <= to_i; ++i) {
    tot += x[i];
  }
  return tot;
}
double odin_sum2(double *x, int from_i, int to_i, int from_j, int to_j, int dim_x_1) {
  double tot = 0.0;
  for (int j = from_j; j <= to_j; ++j) {
    int jj = j * dim_x_1;
    for (int i = from_i; i <= to_i; ++i) {
      tot += x[i + jj];
    }
  }
  return tot;
}
// This construction is to help odin
#ifndef CINTERPOLTE_CINTERPOLATE_H_
#include <cinterpolate/cinterpolate.h>
#endif

#include <R_ext/Rdynload.h>

void * cinterpolate_alloc(const char *type, size_t n, size_t ny,
                          double *x, double *y, bool auto_clean) {
  typedef void* interpolate_alloc_t(const char *, size_t, size_t,
                                    double*, double*, bool);
  static interpolate_alloc_t *fun;
  if (fun == NULL) {
    fun = (interpolate_alloc_t*)
      R_GetCCallable("cinterpolate", "interpolate_alloc");
  }
  return fun(type, n, ny, x, y, auto_clean);
}


int cinterpolate_eval(double x, void *obj, double *y) {
  typedef int interpolate_eval_t(double, void*, double*);
  static interpolate_eval_t *fun;
  if (fun == NULL) {
    fun = (interpolate_eval_t*)
      R_GetCCallable("cinterpolate", "interpolate_eval");
  }
  return fun(x, obj, y);
}


void cinterpolate_free(void *obj) {
  typedef int interpolate_free_t(void*);
  static interpolate_free_t *fun;
  if (fun == NULL) {
    fun = (interpolate_free_t*)
      R_GetCCallable("cinterpolate", "interpolate_free");
  }
  fun(obj);
}
double FOI_part(double I, double N, double beta, double RR, double fc, double fP, double n, double eP, double ec) {

  return I * (1 -
              pow(1 -                       beta * RR, n * (1 - fc) * (1 - fP)) *
              pow(1 - (1 - ec) *            beta * RR, n *      fc  * (1 - fP)) *
              pow(1 -            (1 - eP) * beta * RR, n * (1 - fc) *      fP ) *
              pow(1 - (1 - ec) * (1 - eP) * beta * RR, n *      fc  *      fP ));
}
double all_FOI_together(double c, double p, double S0, double S1a, double S1b, double S1c, double I01, double I11, double I02, double I03, double I04, double I05, double I22, double I23, double I24, double I25, double I32, double I33, double I34, double I35, double I42, double I43, double I44, double I45, double N, double beta, double R, double fc, double fP, double n, double eP, double ec, double infect_ART, double infect_acute, double infect_AIDS) {
  if (c == 0 || p == 0) {
    return 0.0;
  } else {
    return 1 / N * c * p * (
        FOI_part(I01, N, beta, infect_acute, fc, fP, n, eP, ec) +
          FOI_part(I02, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I03, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I04, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I05, N, beta, infect_AIDS, fc, fP, n, eP, ec) +

          FOI_part(I11, N, beta, infect_acute, fc, fP, n, eP, ec) +

          FOI_part(I22, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I23, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I24, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I25, N, beta, infect_AIDS, fc, fP, n, eP, ec) +

          FOI_part(I32, N, beta, infect_ART, fc, fP, n, eP, ec) +
          FOI_part(I33, N, beta, infect_ART, fc, fP, n, eP, ec) +
          FOI_part(I34, N, beta, infect_ART, fc, fP, n, eP, ec) +
          FOI_part(I35, N, beta, infect_ART, fc, fP, n, eP, ec) +

          FOI_part(I42, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I43, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I44, N, beta, R, fc, fP, n, eP, ec) +
          FOI_part(I45, N, beta, infect_AIDS, fc, fP, n, eP, ec));
  }
}
double compute_lambda(double c_comm, double p_comm, double S0, double S1a, double S1b, double S1c, double I01, double I11, double I02, double I03, double I04, double I05, double I22, double I23, double I24, double I25, double I32, double I33, double I34, double I35, double I42, double I43, double I44, double I45, double N, double beta_comm, double R, double fc_comm, double fP_comm, double n_comm, double eP, double ec, double fc_noncomm, double fP_noncomm, double n_noncomm, double c_noncomm, double p_noncomm, double infect_ART, double infect_acute, double infect_AIDS,  double beta_noncomm) {
  return all_FOI_together(c_comm, p_comm, S0, S1a, S1b, S1c, I01, I11, I02, I03, I04, I05, I22, I23, I24, I25, I32, I33, I34, I35, I42, I43, I44, I45, N, beta_comm, R, fc_comm, fP_comm, n_comm, eP, ec, infect_ART, infect_acute, infect_AIDS) + all_FOI_together(c_noncomm, p_noncomm, S0, S1a, S1b, S1c, I01, I11, I02, I03, I04, I05, I22, I23, I24, I25, I32, I33, I34, I35, I42, I43, I44, I45, N, beta_noncomm, R, fc_noncomm, fP_noncomm, n_noncomm, eP, ec, infect_ART, infect_acute, infect_AIDS);
}
